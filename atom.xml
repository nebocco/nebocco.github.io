<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="ja">
    <title>ã­ã¼ã“ã®æ—¥è¨˜</title>
    <link rel="self" type="application/atom+xml" href="https://blog.nebocco.dev/atom.xml"/>
    <link rel="alternate" type="text/html" href="https://blog.nebocco.dev"/>
    <generator uri="https://www.getzola.org/">Zola</generator>
    <updated>2025-03-28T00:00:00+00:00</updated>
    <id>https://blog.nebocco.dev/atom.xml</id>
    <entry xml:lang="ja">
        <title>Zola ã§ãƒ–ãƒ­ã‚°ã‚’ä½œã‚Šã¾ã—ãŸ</title>
        <published>2025-03-28T00:00:00+00:00</published>
        <updated>2025-03-28T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/deploy_zola_blog/"/>
        <id>https://blog.nebocco.dev/post/deploy_zola_blog/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/deploy_zola_blog/">&lt;p&gt;Zola ã§ãƒ–ãƒ­ã‚°ã‚’ã¤ãã‚Šã€GitHub Pages ã§ãƒ›ã‚¹ãƒˆã—ã¦å…¬é–‹ã—ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;Zola_ã¨ã¯&quot;&gt;Zola ã¨ã¯&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.getzola.org&#x2F;&quot;&gt;Zola&lt;&#x2F;a&gt; ã¯ Rust ã§æ›¸ã‹ã‚ŒãŸé™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ (SSG) ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ç§»è¡Œã®ç†ç”±&quot;&gt;ç§»è¡Œã®ç†ç”±&lt;&#x2F;h2&gt;
&lt;p&gt;ã¯ã¦ãªãƒ–ãƒ­ã‚°ã«ç‰¹ã«ä¸æº€ã¯ãªã‹ã£ãŸã‚“ã§ã™ãŒã€å¿…è¦ãªæ©Ÿèƒ½ã ã‘ã«çµã£ãŸãƒŸãƒ‹ãƒãƒ«ãªãƒ–ãƒ­ã‚°ã‚’ä½œã‚ŠãŸã„ãªï½ã¨ãšã£ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åŠ ãˆã¦ã€è‡ªåˆ†ã®æ›¸ã„ãŸè¨˜äº‹ãŒã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã—ã‹è¦‹ã‚‰ã‚Œãªã„ã®ã¯ã‚„ã‚„ä¸å®‰ã ã—ã€Markdown ã§æ›¸ã„ã¦ Git ã§ç®¡ç†ã—ãŸã„æ°—æŒã¡ãŒã‚ã‚Šã¾ã—ãŸã€‚Markdown ã‹ã‚‰è‡ªå‹•ã§ HTML ã‚’ç”Ÿæˆã—ã¦ãã‚Œã‚‹ SSG ãªã‚‹ã‚‚ã®ãŒã‚ã‚‹ã‚‰ã—ã„ã€ã¨èª¿ã¹ã¦ã„ãŸã‚‰ã€ã„ã„å…·åˆã«ä½¿ã„ã‚„ã™ãã†ãªã‚¨ãƒ³ã‚¸ãƒ³ã‚’è¦‹ã¤ã‘ãŸã®ã§ä½¿ã£ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¤§æ˜”ã«è²·ã£ã¦æ”¾ç½®ã—ã¦ã„ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã‚‚ã¤ã„ã§ã«åˆ©ç”¨ã§ãã¦ã„ã„æ„Ÿã˜ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;å‚è€ƒã«ã—ãŸã‚µã‚¤ãƒˆ&quot;&gt;å‚è€ƒã«ã—ãŸã‚µã‚¤ãƒˆ&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;slnq.github.io&#x2F;post&#x2F;20230626&#x2F;&quot;&gt;Zolaã§ãƒ–ãƒ­ã‚°ã‚’ä½œã‚‹ - å¤æœ&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;shimopino.github.io&#x2F;blog&#x2F;crafting-tech-blog-with-zola&#x2F;&quot;&gt;Zolaã§å§‹ã‚ã‚‹æŠ€è¡“ãƒ–ãƒ­ã‚° - shimopino&#x27;s blog&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;yng87.page&#x2F;blog&#x2F;2023&#x2F;zola&#x2F;&quot;&gt;Rust è£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ Zola ã‚’ä½¿ã£ã¦ã¿ã‚‹ - yng87.page&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;zenn.dev&#x2F;anz&#x2F;scraps&#x2F;ebf857a5cbcfb6&quot;&gt;Zolaäº‹å§‹ã‚ä½œæ¥­ãƒ­ã‚° - anz&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;blog.ymgyt.io&#x2F;entry&#x2F;migrated-blog-to-zola-and-github-pages&#x2F;&quot;&gt;ğŸš› Blogã‚’Zola + Github Pagesã«ç§»è¡Œã—ãŸ - Happy developing&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;ä»Šå¾Œã®æ›´æ–°&quot;&gt;ä»Šå¾Œã®æ›´æ–°&lt;&#x2F;h2&gt;
&lt;p&gt;ãƒ–ãƒ­ã‚°ã‚‚é•·ã‚‰ãæ›¸ã„ã¦ã„ãªã‹ã£ãŸã‘ã©ã€ã“ã‚Œã‚’æ©Ÿã«æ›¸ã„ã¦ã„ã“ã†ã‹ãªã¨æ€ã£ã¦ã„ã¾ã™ã€‚ãŸã ç«¶ãƒ—ãƒ­ã¯ã™ã£ã‹ã‚Šå¼•é€€ã—ã¦ã—ã¾ã£ãŸã®ã§ã€æ˜”æ›¸ã„ã¦ã„ãŸã‚ˆã†ãªè§£èª¬è¨˜äº‹ã¯ã‚ã‚“ã¾ã‚Šæ›¸ã‹ãªããªã‚Šãã†ã§ã™ã€‚æ—¥è¨˜ã¨ã‹æŠ€è¡“çš„ãªå€‹äººãƒ¡ãƒ¢ã¿ãŸã„ãªæ„Ÿè¦šã§æ°—è»½ã«æ›´æ–°ã§ããŸã‚‰ã„ã„ãªã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æš«ãã®é–“ã¯ã¯ã¦ãªãƒ–ãƒ­ã‚°ã§æ›¸ã„ã¦ã„ãŸè¨˜äº‹ã‚’é †æ¬¡ç§»è¡Œã—ãªãŒã‚‰ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®å£Šã‚ŒãŸéƒ¨åˆ†ã‚’è¦‹ã¤ã‘ã¦ã¯ç›´ã—ã€è¦‹ã¤ã‘ã¦ã¯ç›´ã—â€¦â€¦ã‚’ç¹°ã‚Šè¿”ã™ã“ã¨ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;é›‘è¨˜&quot;&gt;é›‘è¨˜&lt;&#x2F;h3&gt;
&lt;p&gt;ä¹…ã€…ã« CSS ã‚’æ›¸ã„ãŸã®ã§ã™ãŒã€æ›¸ãæ–¹ã‚’ã¾ã‚‹ã£ãã‚Šå¿˜ã‚Œã¦ã„ã¦æ‚²ã—ã‹ã£ãŸã§ã™ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å¼•ã£æ»ãå›ã—ãªãŒã‚‰æ›¸ã„ã¦ã¯æ¶ˆã—ã€ã‚„ã£ã¨ãªã‚“ã¨ã‹ãƒã‚·ãªè¦‹ãŸç›®ã«ãªã‚Šã¾ã—ãŸã€‚åª’ä½“ã‚„ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰ãƒ»ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã«ã‚ˆã£ã¦è¦‹ãŸç›®ãŒå¤‰ã‚ã‚‹ã‚ˆã†ã«ã—ãŸã®ã§ãœã²è¦‹ã¦ã¿ã¦ã»ã—ã„ã§ã™ã€‚é ‘å¼µã£ãŸã®ã§ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è‰²å‘³ã‚’ã‚‚ã£ã¨ã‚„ã‚ã‚‰ã‹ãªå„ªã—ã„ã‚‚ã®ã«ã—ãŸã„ã‘ã©ã€ç‰¹ã«ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã¨ã®å…¼ã­åˆã„ãŒé›£ã—ãã€ãŸã‚ã—ã«ç·‘ã‚’åŸºèª¿ã§ä½œã£ã¦ã„ã¾ã™ã€‚ã„ã¤ã‹æ€¥ã«ç´«åŸºèª¿ã¨ã‹ã«ãªã£ãŸã‚Šã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;OGP ã¨ã‹ã‚‚è¨­å®šã—ãŸã„ãªâ€¦â€¦æœªã ã«ã‚ã‚ŒãŒã©ã†ã„ã†ã‚‚ã®ã‹ã‚ˆãã‚ã‹ã£ã¦ã„ãªã„ã®ã§æ¬¡ã®ä¼‘ã¿ã«ã§ã‚‚å‹‰å¼·ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®ãƒ–ãƒ­ã‚°æ›¸ãé–“ Copilot ã‚’ã‚ªãƒ³ã«ã—ã¦ã„ãŸã‚“ã§ã™ãŒã€è£œå®Œã«ã‚ˆã£ã¦è‡ªåˆ†ã®æ€è€ƒã®æ–¹å‘æ€§ãŒèª˜å°ã•ã‚Œã¦ã„ã‚‹æ„Ÿã˜ãŒã—ã¦ã‹ãªã‚Šæ°—æŒã¡æ‚ªã„ã§ã™ã€‚ï¼ˆã“ã®æ–‡ã‚‚ã€Œæ°—æŒã¡æ‚ªã„ã€ã¨è‡ªåˆ†ã§æ›¸ãã¾ã§ãƒã‚¸ãƒ†ã‚£ãƒ–ãªæ–‡æœ«ãŒã²ãŸã™ã‚‰ææ¡ˆã•ã‚Œã¦ã„ã¾ã—ãŸã€‚ï¼‰Markdown ã«å¯¾ã—ã¦ã¯è£œå®Œã‚’åˆ‡ã£ãŸã»ã†ãŒã„ã„ãªâ€¦â€¦&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>æ•´æ•°ã®ã¾ã¾è¡Œã†åè§’ã‚½ãƒ¼ãƒˆ</title>
        <published>2021-11-13T00:00:00+00:00</published>
        <updated>2021-11-13T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/arg_sort_in_int/"/>
        <id>https://blog.nebocco.dev/post/arg_sort_in_int/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/arg_sort_in_int/">&lt;p&gt;æµ®å‹•å°æ•°ç‚¹æ•°ã«ç›´ã—ã¦ $\arg$ æ±‚ã‚ã‚‹ã®å«Œã„ãªã®ã§æ•´æ•°ã®ã¾ã¾ã‚½ãƒ¼ãƒˆã—ã¾ã—ã‚‡ã†ã€‚
åè§’ã®å–ã‚Šã†ã‚‹ç¯„å›²ã¯ $[0, 2 \pi )$ ã¨ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;è¿½è¨˜&quot;&gt;è¿½è¨˜&lt;&#x2F;h4&gt;
&lt;p&gt;æŠ•ç¨¿ç›´å¾Œã«ã‚‚ã£ã¨è³¢ã„æ–¹æ³•ãŒæŠ•ç¨¿ã•ã‚Œã€è†ã‹ã‚‰å´©ã‚Œè½ã¡ã¾ã—ãŸ&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;ngtkana.hatenablog.com&#x2F;entry&#x2F;2021&#x2F;11&#x2F;13&#x2F;202103&quot;&gt;æ•´æ•°ã®ã¾ã¾è¡Œã†åè§’ã‚½ãƒ¼ãƒˆï¼ˆè¡Œåˆ—å¼ã®ã‚ã‚Œã§ã™ã€‚ï¼‰ã®å®Ÿè£…ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã®æ¤œè¨ã¨ã”ç´¹ä»‹ã§ã™ã€‚ - ãƒ–ãƒ­ã‚°å&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;è¿½è¨˜ãŠã‚ã‚Š&lt;&#x2F;p&gt;
&lt;p&gt;ã‚½ãƒ¼ãƒˆã™ã‚‹æ™‚ã«ã¯ã€äºŒç‚¹ $p = (p _ x, p _ y), q = (q _ x, q _ y)$ ãŒä¸ãˆã‚‰ã‚ŒãŸã¨ãã«ã©ã¡ã‚‰ã®åè§’ãŒå¤§ãã„ã®ã‹åˆ¤å®šã§ãã‚Œã°OKã§ã™ã€‚
ãªã®ã§äºŒç‚¹ã®æ¯”è¼ƒã‚’è¡Œã†æ–¹æ³•ã ã‘è€ƒãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ã–ã£ãã‚Šã¨æ¯”è¼ƒ&quot;&gt;ã–ã£ãã‚Šã¨æ¯”è¼ƒ&lt;&#x2F;h3&gt;
&lt;p&gt;ã¾ãšã¯åº§æ¨™å¹³é¢ã‚’ä¸‰ã¤ã«åˆ‡ã‚Šåˆ†ã‘ã¦å¤§ã¾ã‹ãªä½ç½®ã‚’ç‰¹å®šã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;åè§’ $[0, \pi &#x2F; 2]$&lt;&#x2F;li&gt;
&lt;li&gt;åè§’ $(\pi &#x2F; 2, \pi]$&lt;&#x2F;li&gt;
&lt;li&gt;åè§’ $(\pi, 2 \pi)$&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ã“ã‚Œä»¥å¤–ã®åˆ‡ã‚Šåˆ†ã‘æ–¹ã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ãŒã€åº§æ¨™ã®æ­£è² ã ã‘è¦‹ã‚Œã°ã„ã„ã®ã§ã“ã‚ŒãŒä¸€ç•ªæ¥½ã ã¨æ€ã„ã¾ã™ã€‚
ã“ã®æ®µéšã§ï¼’ç‚¹ã®å±ã™ã‚‹é ˜åŸŸãŒç•°ãªã‚Œã°ã€ãã‚Œã ã‘ã§å¤§å°é–¢ä¿‚ã‚’æ±ºå®šã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;Python&quot;&gt;Python&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;area&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;tuple&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;]):
&lt;&#x2F;span&gt;&lt;span&gt;    x, y &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;p
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;y &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;3
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;arg_cmp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;tuple&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;q&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;tuple&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;]):
&lt;&#x2F;span&gt;&lt;span&gt;    ap &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;area&lt;&#x2F;span&gt;&lt;span&gt;(p)
&lt;&#x2F;span&gt;&lt;span&gt;    aq &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;area&lt;&#x2F;span&gt;&lt;span&gt;(q)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;ap &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;aq:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;ap &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;aq:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ã‚‚ã£ã¨è©³ã—ãæ¯”è¼ƒã™ã‚‹å¿…è¦ãŒã‚ã‚‹
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h5 id=&quot;Rust&quot;&gt;Rust&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;rust&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-rust &quot;&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;use &lt;&#x2F;span&gt;&lt;span&gt;std::cmp::Ordering;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;area&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span&gt;: (&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;)) -&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;u8 &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span&gt;(x, y) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; p;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; y &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;{ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span&gt;} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else if&lt;&#x2F;span&gt;&lt;span&gt; x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;{ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span&gt;} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;arg_cmp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;), &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;q&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;)) -&amp;gt; Ordering {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; ap &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= area&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;p);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; aq &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= area&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;q);
&lt;&#x2F;span&gt;&lt;span&gt;    ap.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;cmp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;aq) &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#7f848e;&quot;&gt;&#x2F;&#x2F; ã‚‚ã£ã¨è©³ã—ãæ¯”è¼ƒã™ã‚‹å¿…è¦ãŒã‚ã‚‹
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;ç´°ã‹ãªæ¯”è¼ƒ&quot;&gt;ç´°ã‹ãªæ¯”è¼ƒ&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;mathwords.net&#x2F;x1y2hikux2y1&quot;&gt;åº§æ¨™å¹³é¢ä¸Šã§ã®ä¸‰è§’å½¢ã®é¢ç©ã®æ±‚ã‚æ–¹&lt;&#x2F;a&gt; ã®è€ƒãˆæ–¹ã‚’åˆ©ç”¨ã™ã‚Œã°ã€é¢ç©ã®ç¬¦å·ã«ã‚ˆã£ã¦ï¼’ç‚¹ã®ä½ç½®é–¢ä¿‚ã‚’ç‰¹å®šã§ãã¾ã™ã€‚
ï¼’ç‚¹ã®åè§’ã®å·®ãŒ $\pi$ ä»¥ä¸Šã ã¨ç¬¦å·ãŒåè»¢ã—ãŸã‚Šå¤‰ãªæ„Ÿã˜ã«ãªã£ã¦ã—ã¾ã†ã®ã§ã€ãã†ãªã‚‰ãªã„ã‚ˆã†ã«ã‚ã‚‰ã‹ã˜ã‚ä¸‰ã¤ã®é ˜åŸŸã«åˆ†å‰²ã—ã¾ã—ãŸã€‚ï¼ˆã‹ã—ã“ã„ï¼‰&lt;&#x2F;p&gt;
&lt;h5 id=&quot;Python-1&quot;&gt;Python&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;arg_cmp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;tuple&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;q&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;tuple&lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;]):
&lt;&#x2F;span&gt;&lt;span&gt;    ap &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;area&lt;&#x2F;span&gt;&lt;span&gt;(p)
&lt;&#x2F;span&gt;&lt;span&gt;    aq &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;area&lt;&#x2F;span&gt;&lt;span&gt;(q)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;ap &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;aq:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;ap &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;aq:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        px, py &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;p
&lt;&#x2F;span&gt;&lt;span&gt;        qx, qy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;q
&lt;&#x2F;span&gt;&lt;span&gt;        z &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;px &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;qy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;py &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;qx
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;z &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;z &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h5 id=&quot;Rust-1&quot;&gt;Rust&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;rust&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-rust &quot;&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;use &lt;&#x2F;span&gt;&lt;span&gt;std::cmp::Ordering;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;area&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span&gt;: (&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;)) -&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;u8 &lt;&#x2F;span&gt;&lt;span&gt;{
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span&gt;(x, y) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span&gt; p;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if&lt;&#x2F;span&gt;&lt;span&gt; y &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;{ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;3 &lt;&#x2F;span&gt;&lt;span&gt;} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else if&lt;&#x2F;span&gt;&lt;span&gt; x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span&gt;{ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span&gt;} &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else &lt;&#x2F;span&gt;&lt;span&gt;{ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;arg_cmp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;), &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;q&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;)) -&amp;gt; Ordering {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; ap &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= area&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;p);
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; aq &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= area&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;q);
&lt;&#x2F;span&gt;&lt;span&gt;    ap.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;cmp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;aq).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;then&lt;&#x2F;span&gt;&lt;span&gt;((q.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; p.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;cmp&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;(p.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; q.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)))
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã‚ã¨ã¯ã“ã‚Œã‚’ &lt;code&gt;sort&lt;&#x2F;code&gt; ã«æ¸¡ã›ã° OK ã§ã™ã€‚Python ã§ã¯æ¯”è¼ƒé–¢æ•°ã‚’ç›´æ¥æ¸¡ã™ã“ã¨ã¯ã§ããªã„ã®ã§ã€ &lt;code&gt;functools&lt;&#x2F;code&gt; ã® &lt;code&gt;cmp_to_key&lt;&#x2F;code&gt; ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚&lt;&#x2F;p&gt;
&lt;h5 id=&quot;Python-2&quot;&gt;Python&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;functools &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c678dd;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;cmp_to_key
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;points &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;), (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;), (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;), (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;7&lt;&#x2F;span&gt;&lt;span&gt;)]
&lt;&#x2F;span&gt;&lt;span&gt;points.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;key&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;cmp_to_key&lt;&#x2F;span&gt;&lt;span&gt;(arg_cmp))
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h5 id=&quot;Rust-2&quot;&gt;Rust&lt;&#x2F;h5&gt;
&lt;pre data-lang=&quot;rust&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-rust &quot;&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span&gt; points: Vec&amp;lt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;,&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;i64&lt;&#x2F;span&gt;&lt;span&gt;)&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;vec![(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;), (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;), (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;5&lt;&#x2F;span&gt;&lt;span&gt;), (&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;6&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;7&lt;&#x2F;span&gt;&lt;span&gt;)];
&lt;&#x2F;span&gt;&lt;span&gt;    points.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;sort_by&lt;&#x2F;span&gt;&lt;span&gt;(arg_cmp);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;è£œè¶³&quot;&gt;è£œè¶³&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;area()&lt;&#x2F;code&gt; ã‚’æ›¸ãæ›ãˆã‚‹ã ã‘ã§åè§’ã®ç¯„å›²ã‚’ $[- \pi &#x2F; 2, \pi &#x2F; 2)$ ã«å¤‰æ›´ã—ãŸã‚Šã€ç‚¹ $(0, 0)$ ã‚’å¿…ãšå…ˆé ­ã«æŒã£ã¦ããŸã‚Šã§ãã‚‹ã®ãŒå¬‰ã—ã„ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ä½¿ç”¨ä¾‹&quot;&gt;ä½¿ç”¨ä¾‹&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;ABC225E_-_ãƒ•&quot;&gt;ABC225E - ãƒ•&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc225&#x2F;tasks&#x2F;abc225_e&quot;&gt;å•é¡Œãƒšãƒ¼ã‚¸&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc225&#x2F;submissions&#x2F;27207087&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰ (Pypy3)&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc225&#x2F;submissions&#x2F;27207609&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰ (Rust)&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;Python3 ã ã¨å…¨ç„¶é–“ã«åˆã„ã¾ã›ã‚“ã§ã—ãŸã€‚&lt;code&gt;cmp_to_key&lt;&#x2F;code&gt; ã®å‘¼ã³å‡ºã—ãŒé‡ã„ã£ã½ã„ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h4 id=&quot;Sort_Points_by_Argument_(Library_Checker)&quot;&gt;Sort Points by Argument (Library Checker)&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;judge.yosupo.jp&#x2F;problem&#x2F;sort_points_by_argument&quot;&gt;å•é¡Œãƒšãƒ¼ã‚¸&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;judge.yosupo.jp&#x2F;submission&#x2F;66372&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰ (Python)&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;$\arctan$ ã£ã¦æ›¸ãã¨ã¯ã¦ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã®ã›ã„ã§ $\KaTeX$ åŠ¹ã‹ãªã„ã®ã‚„ã‚ã¦ãã‚Œï½ï½ï½ï½&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC224-G Roll or Increment é›‘è§£æ³•</title>
        <published>2021-11-07T00:00:00+00:00</published>
        <updated>2021-11-07T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc224g/"/>
        <id>https://blog.nebocco.dev/post/abc224g/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc224g/">&lt;p&gt;ã¿ã‚“ãªã¯ã¡ã‚ƒã‚“ã¨è¨¼æ˜ã—ã¾ã—ã‚‡ã†&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc224&#x2F;tasks&#x2F;abc224_g&quot;&gt;AtCoder Beginner Contest 224 | G - Roll or Increment&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;ç¾åœ¨ã®å‡ºç›®ãŒ $i$ ã®æ™‚ã€å‡ºç›®ã‚’ $T$ ã«å¤‰ãˆã‚‹æœ€é©ãªæˆ¦ç•¥ã§ã‹ã‹ã‚‹åˆè¨ˆã‚³ã‚¹ãƒˆã‚’ $C(i)$ ã¨æ›¸ãã“ã¨ã«ã—ã¾ã™ã€‚
æˆ¦ç•¥ã¯ã‚´ãƒ¼ãƒ«ã¾ã§å¢—ã‚„ã—ç¶šã‘ã‚‹ã‹ä¸€æ—¦æŒ¯ã‚Šç›´ã™ã‹ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æŒ¯ã‚Šç›´ã—ãŸå¾Œã«ã‹ã‹ã‚‹ã‚³ã‚¹ãƒˆã®æœŸå¾…å€¤ã‚’ $r$ ã¨ç½®ãã¾ã™ã€‚ã™ã‚‹ã¨ã€&lt;&#x2F;p&gt;
&lt;p&gt;$$
C(i) =
\begin{cases}
\min(A(T - i), B + r) &amp;amp; (i \le T) \\
B + r &amp;amp; (i &amp;gt; T)
\end{cases}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã§ã™ã€‚ã•ã‚‰ã«ã€$r = \sum C(i) &#x2F; N$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã“ã§ã€ $r$ ã‚’ã‚ã‚‹å€¤ $r_{a}$ ã ã¨ä»®å®šã—ã¾ã™ã€‚ã™ã‚‹ã¨ $C(i)$ ãŒå®šã¾ã‚Šã€ä¸Šã®å¼ã‚’ç”¨ã„ã¦ $r$ ãŒè¨ˆç®—ã§ãã¾ã™ã€‚ã“ã‚Œã‚’ $r_b$ ã¨ã—ã¾ã™ã€‚
$r_a$ ãŒ $r_b$ ã‚ˆã‚Šå¤§ãã„ã¨ãã€çœŸã® $r$ ã¯ $r_a$ ã‚ˆã‚Šå°ã•ãã€ å°ã•ã„ã¨ãã¯ $r_a$ ã‚ˆã‚Šå¤§ãã„ã¯ãšã§ã™ã€‚
ã“ã®ã‚ˆã†ã« $r$ ã‚’äºŒåˆ†æ¢ç´¢ã™ã‚‹ã“ã¨ã§çœŸã® $r$ ãŠã‚ˆã³ $C(i)$ ãŒè¨ˆç®—ã§ãã¾ã™ã€‚æ±‚ã‚ã‚‹ç­”ãˆã¯ $C(S)$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc224&#x2F;submissions&#x2F;27074184&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰&lt;&#x2F;a&gt; (Python)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;from &lt;&#x2F;span&gt;&lt;span&gt;math &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c678dd;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;ceil
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;N, S, T, A, B &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;float&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;hi &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* max&lt;&#x2F;span&gt;&lt;span&gt;(A, B)
&lt;&#x2F;span&gt;&lt;span&gt;lo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;64&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    ra &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(hi &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;lo) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2.
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# A * (T - i) &amp;lt;= B + r ã§ã‚ã‚‹ i ã®å€‹æ•°
&lt;&#x2F;span&gt;&lt;span&gt;    count &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= min&lt;&#x2F;span&gt;&lt;span&gt;(T, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;ceil&lt;&#x2F;span&gt;&lt;span&gt;((ra &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;B) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span&gt;A))
&lt;&#x2F;span&gt;&lt;span&gt;    border &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;T &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;count
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# C(i) ã®ç·å’Œ
&lt;&#x2F;span&gt;&lt;span&gt;    total &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(ra &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;B) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(border &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;(N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;T)) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;A &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(count &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;count &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;    rb &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;total &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span&gt;N
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;ra &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;rb:
&lt;&#x2F;span&gt;&lt;span&gt;        hi &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;ra
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        lo &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;rb
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;r &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(hi &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;lo) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;S &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;T:
&lt;&#x2F;span&gt;&lt;span&gt;    ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;r &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;B
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= min&lt;&#x2F;span&gt;&lt;span&gt;(A &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(T &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;S), r &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;B)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;f&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;{ans&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;:.16f&lt;&#x2F;span&gt;&lt;span&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é›‘ã™ãã‚‹&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC215-E Chain Contestant è§£èª¬</title>
        <published>2021-08-25T00:00:00+00:00</published>
        <updated>2021-08-25T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc215e/"/>
        <id>https://blog.nebocco.dev/post/abc215e/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc215e/">&lt;p&gt;æ–‡å­—åˆ—ã«å«ã¾ã‚Œã‚‹æ–‡å­—ã®ç¨®é¡æ•°ã‚’ $\sigma$ ã¨ãŠãã¾ã™ã€‚ $O(N2^{\sigma})$ ã§è§£ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc215&#x2F;tasks&#x2F;abc215_e&quot;&gt;AtCoder Beginner Contest 215 | E - Chain Contestant&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;$\sigma_=_1$&quot;&gt;$\sigma = 1$&lt;&#x2F;h3&gt;
&lt;p&gt;ã¾ãšã¯ $\sigma = 1$ ã®å ´åˆã‚’è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚ã“ã®ã¨ãç­”ãˆã¯æ˜ã‚‰ã‹ã« $2^{N} - 1$ ã§ã™ã€‚ã“ã‚Œã‚’ DP ã§è§£ã„ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚é…åˆ— $g[i] \coloneqq \text{$s[0, i)$ ã®ç¯„å›²ã«ã¤ã„ã¦ã®é¸ã³æ–¹}$ ã‚’è€ƒãˆã¾ã™ã€‚ä¾‹ãˆã° $s = \text{\textquotedblleft AAAAAA\textquotedblright}$ ã®æ™‚ã€ $g = [0, 1, 3, 7, 15, 31, 63]$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã“ã§ã€$g[i]$ ã®å€¤ã‚’æ±‚ã‚ã‚‹è¨ˆç®—ã‚’ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å ´åˆåˆ†ã‘ã—ã¦è€ƒãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;æœ€åˆã«é¸ã¶ã®ãŒ_$s[0]$_ã®ã¨ã&quot;&gt;æœ€åˆã«é¸ã¶ã®ãŒ $s[0]$ ã®ã¨ã&lt;&#x2F;h4&gt;
&lt;p&gt;$s[1], s[2], \ldots, s[i-1]$ ã® $i-1$ å€‹ã«ã¤ã„ã¦ã¯ã€é¸ã‚“ã§ã‚‚é¸ã°ãªãã¦ã‚‚ã‚ˆã„ã€‚
$\Rightarrow 2^{i-1}$ é€šã‚Š&lt;&#x2F;p&gt;
&lt;h4 id=&quot;æœ€åˆã«é¸ã¶ã®ãŒ_$s[1]$_ã®ã¨ã&quot;&gt;æœ€åˆã«é¸ã¶ã®ãŒ $s[1]$ ã®ã¨ã&lt;&#x2F;h4&gt;
&lt;p&gt;$s[2], s[3], \ldots, s[i-1]$ ã® $i-2$ å€‹ã«ã¤ã„ã¦ã¯ã€é¸ã‚“ã§ã‚‚é¸ã°ãªãã¦ã‚‚ã‚ˆã„ã€‚
$\Rightarrow 2^{i-2}$ é€šã‚Š&lt;&#x2F;p&gt;
&lt;p&gt;$\vdots$&lt;&#x2F;p&gt;
&lt;h4 id=&quot;æœ€åˆã«é¸ã¶ã®ãŒ_$s[i-1]$_ã®ã¨ã&quot;&gt;æœ€åˆã«é¸ã¶ã®ãŒ $s[i-1]$ ã®ã¨ã&lt;&#x2F;h4&gt;
&lt;p&gt;$1$ é€šã‚Š&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã‚Œã‚‰ã‚’è¶³ã—åˆã‚ã›ã‚‹ã“ã¨ã§ã€ç¢ºã‹ã« $\displaystyle\sum _ {j=0}^{i-1}2^{j} = 2^{i} - 1$ ã¨ãªã‚Šã€ $g[i]$ ã®å€¤ã¨ä¸€è‡´ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;$\sigma_=_2$&quot;&gt;$\sigma = 2$&lt;&#x2F;h3&gt;
&lt;p&gt;ç¶šã„ã¦ã€ $\sigma = 2$ ã®å ´åˆã‚’è€ƒãˆã¾ã™ã€‚å•é¡Œã®æ–‡å­—åˆ— $s$ ãŒ $\text{\textquotedblleft ABAABAB\textquotedblright}$ ã§ã‚ã‚‹ã¨ã—ã¾ã™ã€‚
åŒã˜ç¨®é¡ã®ã‚³ãƒ³ãƒ†ã‚¹ãƒˆã¯å¿…ãšä¸€ã‹ãŸã¾ã‚Šã§é¸ã°ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ãŒã€ã“ã®é †ç•ªãŒ $\text{A} \rightarrow \text{B}$ ã®å ´åˆã‚’è€ƒãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¾ãšã€å…ˆã»ã©è€ƒãˆãŸ $\sigma = 1$ ã®ãƒ‘ã‚¿ãƒ¼ãƒ³åŒæ§˜ã€ $\text{A}$ ã ã‘ã‚’é¸ã¶å ´åˆã‚’è¡¨ã™é…åˆ— $g _ {A}$ ãŒå­˜åœ¨ã™ã‚‹ã¨è€ƒãˆã¾ã™ã€‚ã“ã‚Œã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;A ã®ã¿ã‚’é¸ã¶å ´åˆ B ã¯ç„¡è¦–ã•ã‚Œã‚‹&quot;&gt;[f:id:nebocco:20210825165356p:plain]&lt;figcaption&gt;A ã®ã¿ã‚’é¸ã¶å ´åˆ B ã¯ç„¡è¦–ã•ã‚Œã‚‹&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-08-25_abc215e&amp;#x2F;20210825165356.png&quot;  &gt;
      
      
    &lt;figcaption&gt;A ã®ã¿ã‚’é¸ã¶å ´åˆ B ã¯ç„¡è¦–ã•ã‚Œã‚‹&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ã§ã¯ã€æ”¹ã‚ã¦ $g _ {\text{AB}}[i] \coloneqq \text{$s[0, i)$ ã‹ã‚‰ A, B ã®é †ã§é¸ã¶æ–¹æ³•ã®å€‹æ•°}$ ã‚’åŸ‹ã‚ã¦ã„ãã¾ã™ã€‚
$g _ {\text{AB}}[7]$ ã‚’è¨ˆç®—ã™ã‚‹ã¨ãã®æ§˜å­ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;æœ€åˆã«é¸ã¶_$\text{B}$_ãŒ_$s[1]$_ã®ã¨ã&quot;&gt;æœ€åˆã«é¸ã¶ $\text{B}$ ãŒ $s[1]$ ã®ã¨ã&lt;&#x2F;h4&gt;
&lt;p&gt;$s[0, 1)$ ã‹ã‚‰ã„ãã¤ã‹ $\text{A}$ ã‚’é¸ã³ã€$s[1]$ ã‚’é¸ã¶ã€‚$s[4], s[6]$ ã¯é¸ã‚“ã§ã‚‚é¸ã°ãªãã¦ã‚‚ã‚ˆã„ã€‚
$\Rightarrow g _ {\text{A}}[2] \times 2^{2}$ é€šã‚Š&lt;&#x2F;p&gt;
&lt;h4 id=&quot;æœ€åˆã«é¸ã¶_$\text{B}$_ãŒ_$s[4]$_ã®ã¨ã&quot;&gt;æœ€åˆã«é¸ã¶ $\text{B}$ ãŒ $s[4]$ ã®ã¨ã&lt;&#x2F;h4&gt;
&lt;p&gt;$s[0, 4)$ ã‹ã‚‰ã„ãã¤ã‹ $\text{A}$ ã‚’é¸ã³ã€$s[4]$ ã‚’é¸ã¶ã€‚$s[6]$ ã¯é¸ã‚“ã§ã‚‚é¸ã°ãªãã¦ã‚‚ã‚ˆã„ã€‚
$\Rightarrow g _ {\text{A}}[4] \times 2^{1}$ é€šã‚Š&lt;&#x2F;p&gt;
&lt;h4 id=&quot;æœ€åˆã«é¸ã¶_$\text{B}$_ãŒ_$s[6]$_ã®ã¨ã&quot;&gt;æœ€åˆã«é¸ã¶ $\text{B}$ ãŒ $s[6]$ ã®ã¨ã&lt;&#x2F;h4&gt;
&lt;p&gt;$s[0, 6)$ ã‹ã‚‰ã„ãã¤ã‹ $\text{A}$ ã‚’é¸ã³ã€$s[6]$ ã‚’é¸ã¶ã€‚
$\Rightarrow g _ {\text{A}}[6] \times 2^{0}$ é€šã‚Š&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã‚Œã‚‰ã®åˆè¨ˆãŒ $g _ {\text{AB}}[7]$ ã«ãªã‚Šã¾ã™ã€‚è¶³ã—åˆã‚ã›ã‚‹ã¹ã $g _ {\text{A}}[i]$ ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç´¯ç©çš„ã«è¨ˆç®—ã™ã‚Œã°ã€å‰ã‹ã‚‰è¦‹ã¦ã„ãã“ã¨ã§ $g _ {\text{AB}}$ ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;s[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;B&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;gA[i]
&lt;&#x2F;span&gt;&lt;span&gt;        gAB[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        gAB[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;gAB[i]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;åŒæ§˜ã« $g _ {\text{B}}$ ã‹ã‚‰ $g _ {\text{BA}}$ ã‚‚è¨ˆç®—ã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã“ã§ã€ $g _ {\text{\{A,B\}}}[i] \coloneqq \text{$s[0, i)$ ã‹ã‚‰ A, B ã‚’é¸ã¶æ–¹æ³•ã®å€‹æ•°}$ ã¨ã„ã†é…åˆ—ã‚’è€ƒãˆã‚‹ã¨ã€ $g _ {\text{\{A,B\}}}[i] = g _ {\text{AB}}[i] + g _ {\text{BA}}[i]$ ãŒæˆã‚Šç«‹ã¡ã¾ã™ã€‚ã¾ãŸã€æ–‡å­—åˆ—ä¸­ã«å‡ºç¾ã™ã‚‹æ–‡å­—å…¨ä½“ã®é›†åˆã‚’ $U$ ã¨ãŠãã¨ã€æœ¬å•é¡Œã§æ±‚ã‚ã‚‹ã¹ãç­”ãˆã¯&lt;&#x2F;p&gt;
&lt;p&gt;$$
\sum _ {\substack{S \subset U \\ S \neq \varnothing}} g _ {S}[n]
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã¨è¡¨ã›ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;$\sigma_\ge_3$_ã®ã¨ã&quot;&gt;$\sigma \ge 3$ ã®ã¨ã&lt;&#x2F;h3&gt;
&lt;p&gt;ã“ã‚Œã¾ã§ã¨ãŠãŠã‚€ã­åŒæ§˜ã«ã—ã¦ $g _ {*}$ ã‚’æ±‚ã‚ã¦ã„ãã“ã¨ãŒã§ãã¾ã™ã€‚
ä¾‹ãˆã° $g _ {\text{ABCD}}$ ã§ã‚ã‚Œã°ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;s[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;D&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;gABC[i]
&lt;&#x2F;span&gt;&lt;span&gt;        gABCD[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        gABCD[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;gABCD[i]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ç‰¹ã« $\sigma$ ãŒå¤§ãããªã‚‹ã¨ã€ã‚ã‚Šã†ã‚‹ã™ã¹ã¦ã®é †åˆ—ã«ã¤ã„ã¦ $g _ {*}$ ã‚’è¶³ã—åˆã‚ã›ã‚‹ã®ãŒå›°é›£ã¨ãªã‚‹ã®ã§ã€ç›´æ¥ $g _ {S}$ ã‚’æ±‚ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®æ–¹æ³•ã«ã¤ã„ã¦ã€ $\sigma = 2$ ã®å ´åˆã«æˆ»ã£ã¦è€ƒãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;$g___{S}$_ã‚’ç›´æ¥æ±‚ã‚ã‚‹&quot;&gt;$g _ {S}$ ã‚’ç›´æ¥æ±‚ã‚ã‚‹&lt;&#x2F;h4&gt;
&lt;p&gt;$s = \text{\textquotedblleft ABAABAB\textquotedblright}$ ã¨ã—ã¾ã™ã€‚ã“ã“ã§ã€ä»¥ä¸‹ã®äºŒç¨®é¡ã®é…åˆ—ã‚’è€ƒãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{aligned}
f _ {\text{AB}}[i] &amp;amp;\coloneqq \text{$s[i-1]$ ã‚’å¿…ãšé¸ã¶ã¨ãã€ $s[0, i)$ ã‹ã‚‰ A, B ã®é †ã§é¸ã¶æ–¹æ³•ã®å€‹æ•°} \\
f _ {\text{\{A,B\}}}[i] &amp;amp;\coloneqq \text{$s[i-1]$ ã‚’å¿…ãšé¸ã¶ã¨ãã€ $s[0, i)$ ã‹ã‚‰ A, B ã‚’é¸ã¶æ–¹æ³•ã®å€‹æ•°}
\end{aligned}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®æ™‚ã€ $f _ {\text{\{A,B\}}}[i] = f _ {\text{AB}}[i] + f _ {\text{BA}}[i]$ ã§ã™ã€‚ã¾ãŸã€æ¡ä»¶ã‚’æº€ãŸã™é¸ã³æ–¹ãã‚Œãã‚Œã«ã¤ã„ã¦ã€æœ€å¾Œã®æ–‡å­—ã®ä½ç½®ãŒã©ã“ã§ã‚ã‚‹ã‹ã‚’è€ƒãˆã‚‹ã¨ã€$g$ ãŒ $f$ ã®ç´¯ç©å’Œã¨ãªã£ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;g ã¯ f ã®ç´¯ç©å’Œ&quot;&gt;[f:id:nebocco:20210825170916p:plain]&lt;figcaption&gt;g ã¯ f ã®ç´¯ç©å’Œ&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;
&lt;p&gt;
  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-08-25_abc215e&amp;#x2F;20210825170916.png&quot;  &gt;
      
      
    &lt;figcaption&gt;$g$ ã¯ $f$ ã®ç´¯ç©å’Œ&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
ã•ã‚‰ã«ã€ $f _ {\text{AB}}$ ã¨ $f _ {\text{BA}}$ ã‚’è¦‹æ¯”ã¹ã‚‹ã¨ã€ä¸€æ–¹ãŒ $0$ ã§ãªã„ã¨ãã‚‚ã†ä¸€æ–¹ã¯å¿…ãš $0$ ã¨ãªã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€ $s[i-1]$ ã‚’å¿…ãšé¸ã¶ã¨ã„ã†æ¡ä»¶ã«ã‚ˆã‚Šã€$s[i-1] = \text{A}$ ã®ã¨ãã¯ $f _ {\text{AB}}[i] = 0$ ã¨ãªã‚‹ãŸã‚ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;ç‰‡æ–¹ã ã‘&quot;&gt;[f:id:nebocco:20210825171627p:plain]&lt;figcaption&gt;ç‰‡æ–¹ã ã‘&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-08-25_abc215e&amp;#x2F;20210825171627.png&quot;  &gt;
      
      
    &lt;figcaption&gt;ç‰‡æ–¹ã ã‘&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;$f _ {\text{AB}}$ ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨ˆç®—å¯èƒ½ã§ã™ãŒã€&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;fAB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;s[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;B&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# s[i-1] ã‚’å¿…ãšä½¿ã†ã¨ã„ã†æ¡ä»¶ã«ã‚ˆã‚Šã€2ã®æŒ‡æ•°ãŒ1æ¸›ã‚‹
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ãã‚Œã«ä¼´ã„æ›´æ–°å¼ãŒè‹¥å¹²å¤‰åŒ–ã—ãŸ
&lt;&#x2F;span&gt;&lt;span&gt;        fAB[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_A_[i]
&lt;&#x2F;span&gt;&lt;span&gt;        acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_A_[i]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;$f _ {\text{AB}}$ ã¨ $f _ {\text{BA}}$ ã®æ›´æ–°ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã‹ã¶ã‚‰ãªã„ãŸã‚ã€&lt;code&gt;if&lt;&#x2F;code&gt;, &lt;code&gt;else&lt;&#x2F;code&gt; ã«ã‚ˆã£ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ã¾ã¨ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;fAB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;fBA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span&gt;accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;s[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;A&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        fBA[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_B_[i]
&lt;&#x2F;span&gt;&lt;span&gt;        accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_B_[i]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        fAB[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_A_[i]
&lt;&#x2F;span&gt;&lt;span&gt;        accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_A_[i]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã•ã‚‰ã«é…åˆ—ã‚‚ã²ã¨ã¤ã«ã¾ã¨ã‚ã¦ã—ã¾ã†ã“ã¨ã§ã€ç›´æ¥ $f _ {\text{\{A,B\}}}$ ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;f_AB_&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span&gt;accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;s[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;A&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        f_AB_[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_B_[i]
&lt;&#x2F;span&gt;&lt;span&gt;        accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_B_[i]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        f_AB_[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_A_[i]
&lt;&#x2F;span&gt;&lt;span&gt;        accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_A_[i]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä»¥ä¸Šã®å†…å®¹ã¨ã€ $f$ ã®ç´¯ç©å’Œã‚’å–ã‚‹ã¨ $g$ ã«ãªã‚‹ã“ã¨ã‹ã‚‰ã€$g _ {\text{\{A,B\}}}$ ã¯çµå±€ä»¥ä¸‹ã®ã‚ˆã†ã«ç›´æ¥è¨ˆç®—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;g_AB_&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span&gt;accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;s[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;A&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        g_AB_[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_B_[i]
&lt;&#x2F;span&gt;&lt;span&gt;        accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accA &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_B_[i]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        g_AB_[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_A_[i]
&lt;&#x2F;span&gt;&lt;span&gt;        accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;accB &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;g_A_[i]
&lt;&#x2F;span&gt;&lt;span&gt;    g_AB_[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;g_AB_[i]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;ä¸€èˆ¬ã®_$\sigma$_ã«ã¤ã„ã¦&quot;&gt;ä¸€èˆ¬ã® $\sigma$ ã«ã¤ã„ã¦&lt;&#x2F;h3&gt;
&lt;p&gt;ã‚ˆã‚Šå¤šãã®æ–‡å­—ãŒå«ã¾ã‚Œã‚‹å ´åˆã«ã¤ã„ã¦ã‚‚ã€æœ€å¾Œã«é¸ã¶æ–‡å­—ãŒã©ã‚Œã§ã‚ã‚‹ã‹ã«ã‚ˆã£ã¦åˆ†é¡ã™ã‚‹ã¨ã€åŒæ§˜ã®è¨ˆç®—ãŒå¯èƒ½ã§ã™ã€‚
$\mathrm{dp}[S][i] \coloneqq \text{$s[0, i)$ ã‹ã‚‰ $S$ ä¸­ã®æ–‡å­—ã‚’é¸ã¶æ–¹æ³•ã®å€‹æ•°}$ ã‚’åŸ‹ã‚ã¦ã„ãã¾ã™ã€‚
æ›´æ–°å¼ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ã•ã‚Œã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# æ›´æ–°ã®ã‚¤ãƒ¡ãƒ¼ã‚¸
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;s[i]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;S:
&lt;&#x2F;span&gt;&lt;span&gt;        dp[S][i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc[c] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;dp[S\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;{c}][i]
&lt;&#x2F;span&gt;&lt;span&gt;        acc[c] = acc[c] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;dp[S\&lt;&#x2F;span&gt;&lt;span style=&quot;color:#ffffff;&quot;&gt;{c}][i]
&lt;&#x2F;span&gt;&lt;span&gt;    dp[S][i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt;= dp[S][i]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã“ã“ã§ã€ $\mathrm{dp}[S]$ ã‚’è¨ˆç®—ã™ã‚‹éš›ã«ã¯ $\mathrm{dp}[S \setminus \{c\}]$ ãŒæ—¢ã«è¨ˆç®—ã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å®Ÿéš›ã«å®Ÿè£…ã™ã‚‹éš›ã«ã¯ $S$ ã¯ãƒ“ãƒƒãƒˆè¡¨ç¾ã¨ã—ã¦æŒã¤ã“ã¨ã«ãªã‚‹ã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å„æ–‡å­—ã¯é©å½“ãªæ•´æ•°ã«å¤‰æ›
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;s[i]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;bit&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt;&amp;gt;&lt;&#x2F;span&gt;&lt;span&gt;c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        dp[bit][i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc[c] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;dp[bit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;^ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;c][i]
&lt;&#x2F;span&gt;&lt;span&gt;        acc[c] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc[c] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;dp[bit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;^ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;c][i]
&lt;&#x2F;span&gt;&lt;span&gt;    dp[bit][i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;dp[bit][i]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;bit&lt;&#x2F;code&gt; ã«ã¤ã„ã¦æ˜‡é †ã«æ›´æ–°ã—ã¦ã„ã‘ã°ã€$\mathrm{dp}[S]$ ã®æ›´æ–°ã«å¿…è¦ãª $\mathrm{dp}[T] ~ (T \subset S)$ ã¯å…¨ã¦è¨ˆç®—æ¸ˆã¿ã¨ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ä½™è«‡&quot;&gt;ä½™è«‡&lt;&#x2F;h4&gt;
&lt;p&gt;é€†ã«è¨€ãˆã°è‡ªåˆ†ã®ä¸Šä½é›†åˆã¯ã¾ã è¨ˆç®—ã•ã‚Œã¦ã„ãªã„ã“ã¨ã«ãªã‚‹ã®ã§ã€&lt;code&gt;if&lt;&#x2F;code&gt; ã‚’çœç•¥ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# bit &amp;amp; 1&amp;lt;&amp;lt;s[i] == 0 ãªã‚‰ dp[bit | 1&amp;lt;&amp;lt;s[i]][i] == 0
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# acc[s[i]] ã‚‚ãšã£ã¨ 0 ã®ã¾ã¾
&lt;&#x2F;span&gt;&lt;span&gt;    dp[bit][i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc[s[i]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;dp[bit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;^ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;s[i]][i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;dp[bit][i]
&lt;&#x2F;span&gt;&lt;span&gt;    acc[s[i]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;acc[s[i]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;dp[bit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;^ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;s[i]][i]
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;å…¨ä½“ã®å®Ÿè£…ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚è¨ˆç®—é‡ã¯ $O(N2^\sigma)$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc215&#x2F;submissions&#x2F;25328761&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰&lt;&#x2F;a&gt; (Python)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;K &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;10
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;MOD &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;998_244_353
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;s &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;ord&lt;&#x2F;span&gt;&lt;span&gt;(x) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- ord&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;A&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;()]
&lt;&#x2F;span&gt;&lt;span&gt;dp &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;K)]
&lt;&#x2F;span&gt;&lt;span&gt;dp[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;bit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;K):
&lt;&#x2F;span&gt;&lt;span&gt;    acc &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;K
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;        dp[bit][i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(acc[s[i]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;dp[bit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;^ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;s[i]][i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;dp[bit][i]) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;MOD
&lt;&#x2F;span&gt;&lt;span&gt;        acc[s[i]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(acc[s[i]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;dp[bit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;^ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;s[i]][i]) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;MOD
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= sum&lt;&#x2F;span&gt;&lt;span&gt;(dp[bit][N] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;bit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt;&lt;&#x2F;span&gt;&lt;span&gt;K)) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;MOD
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(ans)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ãƒ„ã‚¤ã‚¹ãƒ†ã®ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®— Web ã‚¢ãƒ—ãƒªã‚’ä½œã‚Šã¾ã—ãŸ</title>
        <published>2021-06-21T00:00:00+00:00</published>
        <updated>2021-06-21T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/twisted_calculator/"/>
        <id>https://blog.nebocco.dev/post/twisted_calculator/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/twisted_calculator/">&lt;p&gt;åˆã‚ã¦ã®Webã‚¢ãƒ—ãƒªã‚’ä½œã‚Šã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;del&gt;&lt;a href=&quot;https:&#x2F;&#x2F;twst-simulator.herokuapp.com&quot;&gt;ãƒ„ã‚¤ã‚¹ãƒ†ã®ãƒ€ãƒ¡ãƒ¼ã‚¸è¨ˆç®—&lt;&#x2F;a&gt;&lt;&#x2F;del&gt; ï¼ˆ&lt;strong&gt;2022&#x2F;07&#x2F;11 è¿½è¨˜&lt;&#x2F;strong&gt;ï¼šå…¬é–‹ã‚’åœæ­¢ã—ã¾ã—ãŸã€‚ï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚’ã‚„ã£ã¦ã„ã‚‹ã‹ã‚‰ã«ã¯ã„ã¤ã‹Webã®æŠ€è¡“ã‚‚è§¦ã‚ŠãŸã„ãªã‚ã€ã¨æ€ã„ãªãŒã‚‰ã‚‚ç‰¹ã«ä½œã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢ã‚‚ãªãã®ã†ã®ã†ã¨éã”ã—ã¦ã„ã¾ã—ãŸãŒã€ãµã¨ã“ã‚Œã‚’æ€ã„ã¤ã„ãŸã®ã§ä½œã£ã¦ã¿ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã‚Œã®ãŸã‚ã«HTMLã€CSSã€JavaScript (Vue.js) ã‚’ä¸€ã‹ã‚‰å‹‰å¼·ã—ã¾ã—ãŸã€‚æœ¬å½“ã«å¤§å¤‰ã ã£ãŸ&lt;&#x2F;p&gt;
&lt;p&gt;URLãŒã„ã¤ã¾ã§ãŸã£ã¦ã‚‚Googleã«ç™»éŒ²ã•ã‚Œãªã„ã®ã§æ¤œç´¢ã«å¼•ã£ã‹ã‹ã‚‰ãšã€ã ã‚Œã«ã‚‚ä½¿ã£ã¦ã‚‚ã‚‰ãˆã¾ã›ã‚“ Â  ã‚¦ã‚±ã‚‹ã­ Â  ã„ã¤ã‹ç™»éŒ²ã•ã‚Œã‚‹ã¨ã„ã„ã§ã™ã­&lt;&#x2F;p&gt;
&lt;p&gt;ä½œã‚‹éç¨‹ã§ Vue.js ã«æ…£ã‚Œã¦ã„ã£ãŸã®ã§ã€æ¬¡ã¯ã‚‚ã†å°‘ã—ã†ã¾ãæ›¸ã‘ã‚‹æ°—ãŒã—ã¾ã™ã€‚&lt;br &#x2F;&gt;
æ¬¡ã¯ä½•ã¤ãã‚ã£ã‹ãªï½ Â  ä½•ã‹ã®æŠ•ç¨¿ã‚µã‚¤ãƒˆã¨ã‹ä½œã‚ŠãŸã„ã­&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>Rime on Windows10</title>
        <published>2021-05-01T00:00:00+00:00</published>
        <updated>2021-05-01T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/rime_on_windows10/"/>
        <id>https://blog.nebocco.dev/post/rime_on_windows10/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/rime_on_windows10/">&lt;p&gt;ç«¶æŠ€ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ä½œå•æ”¯æ´ãƒ„ãƒ¼ãƒ« &lt;a href=&quot;https:&#x2F;&#x2F;rime.readthedocs.io&#x2F;ja&#x2F;latest&#x2F;&quot;&gt;Rime&lt;&#x2F;a&gt; ã‚’ Windows10 ã§ä½¿ãˆã‚‹ã‚ˆã†ã«æ”¹é€ ã—ã¾ã—ã‚‡ã†ï¼&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;rime&quot;, style=&quot;display:none&quot;&gt;[f:id:nebocco:20210501205255p:plain]&lt;figcaption&gt;rime&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;
&lt;p&gt;Mac ãªã‚“ã‹ã«â€¦â€¦è² ã‘ãªã„ã£â€¦â€¦ï¼&lt;&#x2F;p&gt;
&lt;h4 id=&quot;ãŠã“ã¨ã‚ã‚Š&quot;&gt;ãŠã“ã¨ã‚ã‚Š&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;ä½œæ¥­ã«ã‚ãŸã£ã¦ &lt;a href=&quot;https:&#x2F;&#x2F;rime-doc.readthedocs.io&#x2F;ja&#x2F;latest&#x2F;index.html&quot;&gt;Rime éå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ&lt;&#x2F;a&gt; ã‚’å¤§ã„ã«å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚åŸºæœ¬çš„ã«ã¯ã“ã“ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã«å¾“ã„ã€Windows ã§æ­£ã—ãå‹•ã‹ãªã‹ã£ãŸã‚‰é©å®œæ›¸ãæ›ãˆã¦ã„ãã€ã¨ã„ã†æ–¹é‡ã§ä½œæ¥­ã‚’è¡Œã„ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;è‡ªå·±è²¬ä»»ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚ãã‚“ãªã«ãƒ‘ã‚½ã‚³ãƒ³å…¨ä½“ã«å½±éŸ¿ã®ã‚ã‚‹ã‚ˆã†ãªä½œæ¥­ã¯ã—ãªã„ã®ã§å¤§ä¸ˆå¤«ã ã¨ã¯æ€ã„ã¾ã™ãŒâ€¦â€¦&lt;&#x2F;li&gt;
&lt;li&gt;å‹•ã‹ãªã„åŸå› ã‚’ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿ãªãŒã‚‰å»¶ã€…ã¨è©¦è¡ŒéŒ¯èª¤ã—ãŸçµæœãªã®ã§ã€æ›¸ãæ›ãˆãªãã¦ã„ã„å ´æ‰€ã‚„ã€ã‚‚ã£ã¨åŠ¹ç‡ã®ã„ã„æ–¹æ³•ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;ã€ŒåŒã˜ã‚ˆã†ã«ä½œæ¥­ã‚’ã—ãŸã®ã«ã“ã“ãŒé•ã†ï¼ã€ã¿ãŸã„ãªã“ã¨ã‚’è¨€ã‚ã‚Œã¦ã‚‚ä½•ã‚‚ã‚ã‹ã‚‰ãªã„ã®ã§è‡ªåˆ†ã§ã‚³ãƒ¼ãƒ‰ã¨å…¬å¼ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹èª­ã‚“ã§ãã ã•ã„ã€‚&lt;&#x2F;li&gt;
&lt;li&gt;Powershell ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&quot;&gt;ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«&lt;&#x2F;h2&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home&amp;gt; pip install git+https:&#x2F;&#x2F;github.com&#x2F;icpc-jag&#x2F;rime
&lt;&#x2F;span&gt;&lt;span&gt;Collecting git+https:&#x2F;&#x2F;github.com&#x2F;icpc-jag&#x2F;rime
&lt;&#x2F;span&gt;&lt;span&gt;...ï¼ˆç•¥ï¼‰...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãŒå®Œäº†ã—ãŸã“ã¨ã‚’ç¢ºã‹ã‚ã¾ã—ã‚‡ã†ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home&amp;gt; rime --help
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;ï¼Ÿï¼Ÿï¼Ÿ&quot;&gt;[f:id:nebocco:20210501171635p:plain]&lt;figcaption&gt;ï¼Ÿï¼Ÿï¼Ÿ&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-05-01_rime_on_windows10&amp;#x2F;20210501171635.png&quot;  &gt;
      
      
    &lt;figcaption&gt;ï¼Ÿï¼Ÿï¼Ÿ&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  &lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ&quot;&gt;[f:id:nebocco:20210501171653p:plain]&lt;figcaption&gt;ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-05-01_rime_on_windows10&amp;#x2F;20210501171653.png&quot;  &gt;
      
      
    &lt;figcaption&gt;ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ã‚³ãƒãƒ³ãƒ‰ãŒèµ°ã‚‰ãšã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è‡ªä½“ã‚’é–‹ã“ã†ã¨ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã©ã†ã‚„ã‚‰ Mac ã§ã¯ãƒ•ã‚¡ã‚¤ãƒ«åã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§ Python ã‚’èµ·å‹•ã§ãã‚‹ã‚ˆã†ãªã®ã§ã™ãŒã€Windows ã§ã¯ã”å­˜ã˜ã®ã‚ˆã†ã«&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;python&lt;&#x2F;span&gt;&lt;span&gt; file.py
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã®ã‚ˆã†ã«å…¥åŠ›ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚ã§ã¯ãã®ã‚ˆã†ã«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home&amp;gt; python rime --help
&lt;&#x2F;span&gt;&lt;span&gt;C:\Users\Personal\AppData\Local\Programs\Python\Python39\python.exe: can&amp;#39;t open file &amp;#39;C:\home\rime&amp;#39;: [Errno 2] No such file or directory
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã©ã†ã‚„ã‚‰äºŒç•ªç›®ä»¥é™ã®å¼•æ•°ã¯ãƒ‘ã‚¹ãŒé€šã£ã¦ã„ã¦ã‚‚èªè­˜ã—ã¦ãã‚Œãªã„ã‚ˆã†ã§ã™ã€‚ã¾ã£ãŸãã‚‚ã†&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã‚Œã‚’ãƒ•ãƒ«ãƒ‘ã‚¹ã§å…¥åŠ›ã™ã‚‹ã¨ã¡ã‚ƒã‚“ã¨å‹•ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home&amp;gt; python &amp;#39;C:\Users\Personal\AppData\Local\Programs\Python\Python39\Scripts\rime&amp;#39; --help
&lt;&#x2F;span&gt;&lt;span&gt;rime.py &amp;lt;command&amp;gt; [&amp;lt;options&amp;gt;...] [&amp;lt;args&amp;gt;...]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    Rime is a tool for programming contest organizers to automate usual, boring
&lt;&#x2F;span&gt;&lt;span&gt;    and error-prone process of problem set preparation. It supports various
&lt;&#x2F;span&gt;&lt;span&gt;    programming contest styles like ACM-ICPC, TopCoder, etc. by plugins.
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    To see a brief description and available options of a command, try:
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    rime.py help &amp;lt;command&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Commands:
&lt;&#x2F;span&gt;&lt;span&gt;...ï¼ˆç•¥ï¼‰...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ãŸã æ¯å›ã“ã‚“ãªã“ã¨ã¯ã‚„ã£ã¦ã„ã‚‰ã‚Œãªã„ã®ã§ã€èµ·å‹•ã—ã‚„ã™ã„å ´æ‰€ã«æŒã£ã¦ãã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;Rime ã§ä½œå•ã‚’ã™ã‚‹å°‚ç”¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œæˆã—ã€ãã®ä¸­ã«ã•ã£ãã®å ´æ‰€ã«ã‚ã‚‹ rime ã¨ rime_init ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ãã¾ã—ã‚‡ã†ã€‚ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ã‚’ä½¿ã£ã¦ãƒã‚¦ã‚¹ã§ã‚„ã£ã¦ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚ï¼ˆãã®ã»ã†ãŒé€Ÿã„ã‹ã‚‚ï¼‰&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home&amp;gt; mkdir Rime
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: C:\home
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Mode                 LastWriteTime         Length Name
&lt;&#x2F;span&gt;&lt;span&gt;----                 -------------         ------ ----
&lt;&#x2F;span&gt;&lt;span&gt;d-----        2021&#x2F;05&#x2F;01     17:25                Rime
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;PS C:\home&amp;gt; cd Rime
&lt;&#x2F;span&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; cp &amp;#39;C:\Users\Personal\AppData\Local\Programs\Python\Python39\Scripts\rime&amp;#39; .
&lt;&#x2F;span&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; cp &amp;#39;C:\Users\Personal\AppData\Local\Programs\Python\Python39\Scripts\rime_init&amp;#39; .
&lt;&#x2F;span&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; ls
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: C:\home\Rime
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Mode                 LastWriteTime         Length Name
&lt;&#x2F;span&gt;&lt;span&gt;----                 -------------         ------ ----
&lt;&#x2F;span&gt;&lt;span&gt;-a----        2021&#x2F;05&#x2F;01     17:11            172 rime
&lt;&#x2F;span&gt;&lt;span&gt;-a----        2021&#x2F;05&#x2F;01     17:11           2421 rime_init
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã“ã†ã™ã‚‹ã¨ã»ã¼æœ¬å®¶ã¨åŒã˜ã‚ˆã†ã«æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime --help
&lt;&#x2F;span&gt;&lt;span&gt;rime.py &amp;lt;command&amp;gt; [&amp;lt;options&amp;gt;...] [&amp;lt;args&amp;gt;...]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    Rime is a tool for programming contest organizers to automate usual, boring
&lt;&#x2F;span&gt;&lt;span&gt;    and error-prone process of problem set preparation. It supports various
&lt;&#x2F;span&gt;&lt;span&gt;    programming contest styles like ACM-ICPC, TopCoder, etc. by plugins.
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    To see a brief description and available options of a command, try:
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    rime.py help &amp;lt;command&amp;gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Commands:
&lt;&#x2F;span&gt;&lt;span&gt;...ï¼ˆç•¥ï¼‰...
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä»¥ä¸Šã®ã‚ˆã†ã«ã€ã‚³ãƒãƒ³ãƒ‰ã™ã¹ã¦ã®é ­ã« &lt;code&gt;py&lt;&#x2F;code&gt; ã‚’ä»˜ã‘ã‚Œã°OKã§ã™ã€‚ &lt;code&gt;py&lt;&#x2F;code&gt; ã‚’ç™»éŒ²ã—ã¦ã„ãªã„äººã¯ &lt;code&gt;python&lt;&#x2F;code&gt; ã«ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã‚Œã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¯å®Œäº†ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«&quot;&gt;ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«&lt;&#x2F;h2&gt;
&lt;h3 id=&quot;ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®åˆæœŸåŒ–&quot;&gt;ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®åˆæœŸåŒ–&lt;&#x2F;h3&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime_init --git
&lt;&#x2F;span&gt;&lt;span&gt;Initialized empty Git repository in C:&#x2F;home&#x2F;Rime&#x2F;.git&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;[master (root-commit) fe093c2] Initial commit
&lt;&#x2F;span&gt;&lt;span&gt; 3 files changed, 5049 insertions(+)
&lt;&#x2F;span&gt;&lt;span&gt; create mode 100644 .gitignore
&lt;&#x2F;span&gt;&lt;span&gt; create mode 100644 PROJECT
&lt;&#x2F;span&gt;&lt;span&gt; create mode 100644 common&#x2F;testlib.h
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;æ–°è¦å•é¡Œã®ä½œæˆ&quot;&gt;æ–°è¦å•é¡Œã®ä½œæˆ&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;subprocess&quot;&gt;subprocess&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime add . problem aplusb
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;Traceback (most recent call last):
&lt;&#x2F;span&gt;&lt;span&gt;  File &amp;quot;c:\users\personal\appdata\local\programs\python\python39\lib\site-packages\rime\core\main.py&amp;quot;, line 144, in Main
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;...ï¼ˆä¸­ç•¥ï¼‰...
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;FileNotFoundError: [WinError 2] æŒ‡å®šã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å‡ºåŠ›ãƒ­ã‚°ã‚’è¦‹ã‚‹ã¨ã€é€”ä¸­ã§ &lt;code&gt;call&lt;&#x2F;code&gt; ã¨ã„ã†é–¢æ•°ã‚’å‘¼ã‚“ã§ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ &lt;code&gt;subprocess&lt;&#x2F;code&gt; ã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é–¢æ•°ãªã®ã§ã™ãŒã€ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã‚·ã‚§ãƒ«ã‚³ãƒãƒ³ãƒ‰ã‚’å‘¼ã³å‡ºã™ãŸã‚ã«ã¯ &lt;code&gt;shell=True&lt;&#x2F;code&gt; ã¨ã„ã†å¼•æ•°ã‚’ä¸ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚Rime ã§ã¯ &lt;code&gt;subprocess&lt;&#x2F;code&gt; ã‹ã‚‰ &lt;code&gt;call()&lt;&#x2F;code&gt; ã®ã»ã‹ã« &lt;code&gt;check_output()&lt;&#x2F;code&gt; ã¨ &lt;code&gt;Popen()&lt;&#x2F;code&gt; ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã«ã¤ã„ã¦ã‚‚ &lt;code&gt;shell=True&lt;&#x2F;code&gt; ã‚’ä¸ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸€åº¦ã€Rime ã®ä¸­èº«ã®ã‚³ãƒ¼ãƒ‰ãŒç½®ã‹ã‚Œã¦ã„ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; cd &amp;#39;C:\users\personal\appdata\local\programs\python\python39\lib\site-packages\rime&amp;#39;
&lt;&#x2F;span&gt;&lt;span&gt;PS C:\..\..\rime&amp;gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä»¥é™ã€Rime æœ¬ä½“ã®ã‚³ãƒ¼ãƒ‰ã«è¨€åŠã™ã‚‹æ™‚ã¯åŸºæœ¬çš„ã«ã“ã®ä¸­ã«ã‚ã‚‹ã‚‚ã®ã‚’æŒ‡ã—ã¦ã„ã‚‹ã¨æ€ã£ã¦ãã ã•ã„ã€‚ã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§ &lt;code&gt;call()&lt;&#x2F;code&gt; ã‚’ä½¿ã£ã¦ã„ã‚‹ç®‡æ‰€ã‚’ã™ã¹ã¦è¦‹ã¤ã‘ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§æ¤œç´¢ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\..\..\rime&amp;gt; findstr &#x2F;s &#x2F;n &amp;#39;call\(&amp;#39; *.py
&lt;&#x2F;span&gt;&lt;span&gt;plugins\plus\commands.py:63:    call([EDITOR, filename])
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã“ã‚Œã§ &#x27;call(&#x27; ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ç®‡æ‰€ã‚’ã™ã¹ã¦æ¢ã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚&lt;code&gt;call()&lt;&#x2F;code&gt; ã¯ä¸€åº¦ã—ã‹ä½¿ã‚ã‚Œã¦ã„ãªã„ã‚ˆã†ã§ã™ã€‚ &lt;code&gt;plugins\plus\commands.py&lt;&#x2F;code&gt; ã‚’è¦‹ã«è¡Œã£ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;EditFile&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;filename&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;initial&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;EDITOR &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;os.environ.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;EDITOR&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;vi&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    files.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;WriteFile&lt;&#x2F;span&gt;&lt;span&gt;(initial, filename)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;call&lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;EDITOR&lt;&#x2F;span&gt;&lt;span&gt;, filename], &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;shell&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;check_output()&lt;&#x2F;code&gt;, &lt;code&gt;Popen()&lt;&#x2F;code&gt; ã«ã¤ã„ã¦ã‚‚åŒã˜ã‚ˆã†ã«æ¢ã—ã¦æ›¸ãæ›ãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;comple(None,_...)&quot;&gt;comple(None, ...)&lt;&#x2F;h4&gt;
&lt;p&gt;ã‚ãŸã‚‰ã‚ã¦å®Ÿè¡Œã—ã¾ã—ã‚‡ã†ã€‚æœ€åˆã®å®Ÿè¡Œæ™‚ã«ä½œæˆã§ãã¦ã—ã¾ã£ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯å‰Šé™¤ã—ã¦ãŠãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime add . problem aplusb
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb: compile() arg 1 must be a string, bytes or AST object
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã“ã‚Œã¯ &lt;code&gt;core&#x2F;targets.py&lt;&#x2F;code&gt; å†…ã® &lt;code&gt;TargetBase.Load()&lt;&#x2F;code&gt; å†…éƒ¨ã§ã€&lt;code&gt;compile()&lt;&#x2F;code&gt; ã« &lt;code&gt;None&lt;&#x2F;code&gt; ã‚’æ¸¡ã—ã¦ã—ã¾ã£ã¦ã„ã‚‹ã“ã¨ãŒåŸå› ã§ã™ã€‚ãã®ãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ¡ä»¶åˆ†å²ã‚’ä»˜ã‘åŠ ãˆã¦ãŠãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# Evaluate config.
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    script &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;files.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;ReadFile&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.config_file)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;IOError:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;ConfigurationError&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;cannot read file: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;%s&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.config_file)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;script &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;None&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    code &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= compile&lt;&#x2F;span&gt;&lt;span&gt;(script, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.config_file, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;exec&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;PreLoad&lt;&#x2F;span&gt;&lt;span&gt;(ui)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;exec&lt;&#x2F;span&gt;&lt;span&gt;(code, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.exports, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.configs)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;PostLoad&lt;&#x2F;span&gt;&lt;span&gt;(ui)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;ReloadConfiguration:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;raise  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# Passthru
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;Exception &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;e:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# TODO(nya): print pretty file&#x2F;lineno for debug
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;raise &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;ConfigurationError&lt;&#x2F;span&gt;&lt;span&gt;(e)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;vim&quot;&gt;vim&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime add . problem aplusb
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;&amp;#39;vi&amp;#39; ã¯ã€å†…éƒ¨ã‚³ãƒãƒ³ãƒ‰ã¾ãŸã¯å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã€
&lt;&#x2F;span&gt;&lt;span&gt;æ“ä½œå¯èƒ½ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¾ãŸã¯ãƒãƒƒãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦èªè­˜ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
&lt;&#x2F;span&gt;&lt;span&gt;[   ADD    ] C:\home\Rime\aplusb&#x2F;PROBLEM
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Error Summary:
&lt;&#x2F;span&gt;&lt;span&gt;Total 0 errors, 0 warnings
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;å•é¡Œãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä½œæˆã«æˆåŠŸã™ã‚‹ã¨è‡ªå‹•ã§ vim ãŒèµ·å‹•ã™ã‚‹ã®ã§ã™ãŒã€ç§ã¯ vim ã‚’å…¥ã‚Œã¦ã„ãªã„ã®ã§èµ·å‹•ã«å¤±æ•—ã—ã¾ã™ã€‚ä»£ã‚ã‚Šã« Visual Studio Code ã‚’æŒ‡å®šã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;plugins&#x2F;plus&#x2F;commands.py&lt;&#x2F;code&gt; ã® &lt;code&gt;EditFile()&lt;&#x2F;code&gt; ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;EditFile&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;filename&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;initial&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;EDITOR &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;os.environ.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;get&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;EDITOR&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;code&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    files.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;WriteFile&lt;&#x2F;span&gt;&lt;span&gt;(initial, filename)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;call&lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;EDITOR&lt;&#x2F;span&gt;&lt;span&gt;, filename], &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;shell&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ãŠå¥½ããªã‚¨ãƒ‡ã‚£ã‚¿ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã“ã¾ã§æ¸ˆã¾ã›ã‚‹ã¨ç„¡äº‹ã« &lt;code&gt;Rime&#x2F;aplusb&lt;&#x2F;code&gt; ãŒä½œæˆã•ã‚Œã€&lt;code&gt;Rime&#x2F;aplusb&#x2F;PROBLEM&lt;&#x2F;code&gt; ãŒè‡ªå‹•ã§é–‹ãã¾ã™ï¼ãŠç–²ã‚Œã•ã¾ã§ã—ãŸã€‚ã¾ã ã¾ã ç¶šãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; ls
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: C:\home\Rime
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Mode                 LastWriteTime         Length Name
&lt;&#x2F;span&gt;&lt;span&gt;----                 -------------         ------ ----
&lt;&#x2F;span&gt;&lt;span&gt;d-----        2021&#x2F;05&#x2F;01     18:21                aplusb
&lt;&#x2F;span&gt;&lt;span&gt;d-----        2021&#x2F;05&#x2F;01     17:36                common
&lt;&#x2F;span&gt;&lt;span&gt;-a----        2021&#x2F;05&#x2F;01     17:36             72 .gitignore
&lt;&#x2F;span&gt;&lt;span&gt;-a----        2021&#x2F;05&#x2F;01     17:36            671 PROJECT
&lt;&#x2F;span&gt;&lt;span&gt;-a----        2021&#x2F;05&#x2F;01     17:11            172 rime
&lt;&#x2F;span&gt;&lt;span&gt;-a----        2021&#x2F;05&#x2F;01     17:11           2421 rime_init
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; ls aplusb
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: C:\home\Rime\aplusb
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Mode                 LastWriteTime         Length Name
&lt;&#x2F;span&gt;&lt;span&gt;----                 -------------         ------ ----
&lt;&#x2F;span&gt;&lt;span&gt;-a----        2021&#x2F;05&#x2F;01     18:21            408 PROBLEM
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;è§£ç­”ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä½œæˆ&quot;&gt;è§£ç­”ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä½œæˆ&lt;&#x2F;h3&gt;
&lt;blockquote&gt;
&lt;p&gt;å…ˆã»ã©ä½œæˆã—ãŸ &lt;code&gt;aplusb&#x2F;&lt;&#x2F;code&gt; ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã§ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;p&gt;ã¨æ›¸ã‹ã‚Œã¦ã„ã¾ã™ãŒã€&lt;code&gt;Rime&#x2F;&lt;&#x2F;code&gt; ã§ã‚‚ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹å¼•æ•°ã‚’æ›¸ãæ›ãˆã‚Œã°åŒã˜ã“ã¨ãŒã§ãã‚‹ã®ã§ãã†ã—ã¾ã™ã€‚ç§ã¯ Rust ãŒå¥½ããªã®ã§ Rust ã§æ›¸ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime add aplusb solution rust_correct
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;[   ADD    ] C:\home\Rime\aplusb\rust_correct&#x2F;SOLUTION
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Error Summary:
&lt;&#x2F;span&gt;&lt;span&gt;Total 0 errors, 0 warnings
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;Rime&#x2F;aplusb&#x2F;rust_correct&#x2F;SOLUTION&lt;&#x2F;code&gt; ãŒè‡ªå‹•ã§é–‹ãã¾ã™ã€‚Rust ç”¨ã®è¡Œã‚’ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã—ã¦ã€&lt;code&gt;ans.rs&lt;&#x2F;code&gt; ã‚’æ›¸ãã¾ã—ã‚‡ã†ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;rust&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-rust &quot;&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;fn &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;main&lt;&#x2F;span&gt;&lt;span&gt;() {
&lt;&#x2F;span&gt;&lt;span&gt;    input!{
&lt;&#x2F;span&gt;&lt;span&gt;        a: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;i32&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        b: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;i32
&lt;&#x2F;span&gt;&lt;span&gt;    }
&lt;&#x2F;span&gt;&lt;span&gt;    println!(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;{}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt; b);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;SOLUTION&lt;&#x2F;code&gt; ã‚’è¦‹ã‚Œã°åˆ†ã‹ã‚‹ã‚ˆã†ã«ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯ rustc ã‚’é€šã—ã¦è¡Œã‚ã‚Œã‚‹ã®ã§ã€cargo ã‚’ä½¿ã£ã¦ã»ã‹ã®ã‚¯ãƒ¬ãƒ¼ãƒˆã‚’æŒã£ã¦ãã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚å…¥å‡ºåŠ›é–¢æ•°ãªã©ã‚‚è‡ªåˆ†ã§ç”¨æ„ã—ã¾ã—ã‚‡ã†ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ãƒ†ã‚¹ãƒˆç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä½œæˆ&quot;&gt;ãƒ†ã‚¹ãƒˆç”¨ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ä½œæˆ&lt;&#x2F;h3&gt;
&lt;p&gt;å…¨éƒ¨è‡ªåˆ†ã§æ›¸ã‹ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã§ã€generator ã¨ validator ã‚’ Rust ã§ä½œã‚‹ã®ã¯ã‹ãªã‚Šçµ¶æœ›çš„ã§ã™ã€‚ã‚ãã‚‰ã‚ã¦ C++ ã§æ›¸ãã“ã¨ã«ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã“ã¾ã§æ¥ãŸã‚‰&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime add aplusb testset tests
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;[   ADD    ] aplusb: C:\home\Rime\aplusb\tests&#x2F;TESTSET
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Error Summary:
&lt;&#x2F;span&gt;&lt;span&gt;Total 0 errors, 0 warnings
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã‚‚å•é¡Œãªãå®Ÿè¡Œã§ãã‚‹ã¯ãšãªã®ã§ã€ãã®å¾Œã¯æœ¬å®¶ã«å‰‡ã£ã¦ä½œæ¥­ã—ã¦ãã ã•ã„ã€‚ç§ã¯ã‚³ãƒ”ãƒšã—ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ&quot;&gt;ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ&lt;&#x2F;h3&gt;
&lt;h4 id=&quot;SIGXCPU&quot;&gt;SIGXCPU&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime test aplusb
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;[ COMPILE  ] aplusb&#x2F;tests: generator.cc
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb&#x2F;tests: generator.cc: Compile Error (On compiling: module &amp;#39;signal&amp;#39; has no attribute &amp;#39;SIGXCPU&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;[ COMPILE  ] aplusb&#x2F;tests: validator.cc
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb&#x2F;tests: validator.cc: Compile Error (On compiling: module &amp;#39;signal&amp;#39; has no attribute &amp;#39;SIGXCPU&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Build Summary:
&lt;&#x2F;span&gt;&lt;span&gt;aplusb ... in: 0B, diff: 0B, md5: d41d8cd98f00b204e9800998ecf8427e
&lt;&#x2F;span&gt;&lt;span&gt;  rust_correct RUST 236 lines, 5.1kB
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Test Summary:
&lt;&#x2F;span&gt;&lt;span&gt;aplusb ... 1 solutions, 0 tests
&lt;&#x2F;span&gt;&lt;span&gt;  rust_correct FAIL Failed to build tests
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Error Summary:
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb&#x2F;tests: generator.cc: Compile Error (On compiling: module &amp;#39;signal&amp;#39; has no attribute &amp;#39;SIGXCPU&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb&#x2F;tests: validator.cc: Compile Error (On compiling: module &amp;#39;signal&amp;#39; has no attribute &amp;#39;SIGXCPU&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;Total 2 errors, 0 warnings
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;python ã® &lt;a href=&quot;https:&#x2F;&#x2F;docs.python.org&#x2F;ja&#x2F;3&#x2F;library&#x2F;signal.html&quot;&gt;signal&lt;&#x2F;a&gt; ã¨ã„ã†ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã£ã¦ã„ã‚‹ã‚‰ã—ã„ã®ã§ã™ãŒã€&lt;code&gt;SIGXCPU&lt;&#x2F;code&gt; ã¨ã„ã†å¤‰æ•°ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚ã©ã†ã‚„ã‚‰ Python3.5 ã§ &lt;code&gt;SIG_DFL&lt;&#x2F;code&gt; ã¨ã„ã†å¤‰æ•°ã«çµ±åˆã•ã‚Œã¦ã—ã¾ã£ãŸã‚ˆã†ã§ã™ã€‚&lt;a href=&quot;https:&#x2F;&#x2F;blog.nebocco.dev&#x2F;post&#x2F;rime_on_windows10&#x2F;#subprocess&quot;&gt;å…ˆã»ã©&lt;&#x2F;a&gt;ã¨åŒæ§˜ã€ &lt;code&gt;findstr&lt;&#x2F;code&gt; ã‚’ä½¿ã£ã¦æ¤œç´¢ã—ã¦ã™ã¹ã¦æ›¸ãæ›ãˆã¾ã—ã‚‡ã†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã“ã§ã¯å®Ÿè¡Œã«æ™‚é–“ãŒæ›ã‹ã‚Šã™ãã¦ã„ã‚‹å ´åˆã«å‡¦ç†ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚ˆã†ãªä½œæ¥­ã‚’è¡Œã£ã¦ã„ã¾ã™ãŒã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’è¡Œã†éš›ã¯å¿…ãšå¼•ã£ã‹ã‹ã£ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ã“ã‚ŒãŒæ­£ã—ã„æŒ™å‹•ãªã®ã‹ã¯ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚å‹•ã‘ã°ã‚ˆã‹ã‚ã†ãªã®ã§ã™ã€‚ã ã‚Œã‹åŠ©ã‘ã¦ï½ï½ï½&lt;&#x2F;p&gt;
&lt;h4 id=&quot;seek&quot;&gt;seek&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime test aplusb
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;[ COMPILE  ] aplusb&#x2F;tests: generator.cc
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb&#x2F;tests: generator.cc: Compile Error (On compiling: &amp;#39;int&amp;#39; object has no attribute &amp;#39;seek&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;[ COMPILE  ] aplusb&#x2F;tests: validator.cc
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb&#x2F;tests: validator.cc: Compile Error (On compiling: &amp;#39;int&amp;#39; object has no attribute &amp;#39;seek&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Build Summary:
&lt;&#x2F;span&gt;&lt;span&gt;aplusb ... in: 0B, diff: 0B, md5: d41d8cd98f00b204e9800998ecf8427e
&lt;&#x2F;span&gt;&lt;span&gt;  rust_correct RUST 236 lines, 5.1kB
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Test Summary:
&lt;&#x2F;span&gt;&lt;span&gt;aplusb ... 1 solutions, 0 tests
&lt;&#x2F;span&gt;&lt;span&gt;  rust_correct FAIL Failed to build tests
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Error Summary:
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb&#x2F;tests: generator.cc: Compile Error (On compiling: &amp;#39;int&amp;#39; object has no attribute &amp;#39;seek&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb&#x2F;tests: validator.cc: Compile Error (On compiling: &amp;#39;int&amp;#39; object has no attribute &amp;#39;seek&amp;#39;)
&lt;&#x2F;span&gt;&lt;span&gt;Total 2 errors, 0 warnings
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;rime&#x2F;basic&#x2F;codes.py&lt;&#x2F;code&gt; ã® &lt;code&gt;CodeBase._ResetIO()&lt;&#x2F;code&gt; å†…ã§ &lt;code&gt;args&lt;&#x2F;code&gt; (&lt;code&gt;stdin&lt;&#x2F;code&gt;, &lt;code&gt;stdout&lt;&#x2F;code&gt;, &lt;code&gt;stderr&lt;&#x2F;code&gt;) ã«å¯¾ã—ã¦ &lt;code&gt;seek()&lt;&#x2F;code&gt; ã‚’å‘¼ã³ã¾ã™ãŒã€&lt;code&gt;stderr&lt;&#x2F;code&gt; ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹ &lt;code&gt;subprocess.STDOUT&lt;&#x2F;code&gt; ã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ãªãã€ç‰¹æ®Šãªåå‰ã‚’æŒã¤ãŸã ã®æ•´æ•°ã§ã™ã€‚ãã“ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;_ResetIO&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;f &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;args:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;f &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;is &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;None &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;or &lt;&#x2F;span&gt;&lt;span&gt;f &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;is &lt;&#x2F;span&gt;&lt;span&gt;subprocess.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;STDOUT&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;continue
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;try&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;seek&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;            f.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;truncate&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;except &lt;&#x2F;span&gt;&lt;span&gt;IOError:
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;pass
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;UTF-8&quot;&gt;UTF-8&lt;&#x2F;h4&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime test aplusb
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;[ COMPILE  ] aplusb&#x2F;tests: generator.cc
&lt;&#x2F;span&gt;&lt;span&gt;[ COMPILE  ] aplusb&#x2F;tests: validator.cc
&lt;&#x2F;span&gt;&lt;span&gt;[ GENERATE ] aplusb&#x2F;tests: generator.cc
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: 02_random_01.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: 02_random_02.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: 02_random_03.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: 02_random_04.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: 02_random_05.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: 02_random_06.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: 02_random_07.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: 02_random_08.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: 02_random_09.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: 02_random_10.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[ VALIDATE ] aplusb&#x2F;tests: OK
&lt;&#x2F;span&gt;&lt;span&gt;[ COMPILE  ] aplusb&#x2F;rust_correct
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct: 02_random_01.in: DONE
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct: 02_random_02.in: DONE
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct: 02_random_03.in: DONE
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct: 02_random_04.in: DONE
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct: 02_random_05.in: DONE
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct: 02_random_06.in: DONE
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct: 02_random_07.in: DONE
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct: 02_random_08.in: DONE
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct: 02_random_09.in: DONE
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct: 02_random_10.in: DONE
&lt;&#x2F;span&gt;&lt;span&gt;[  REFRUN  ] aplusb&#x2F;rust_correct
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb&#x2F;rust_correct: 02_random_01.in: Wrong Answer
&lt;&#x2F;span&gt;&lt;span&gt;  judge log: C:\home\Rime\aplusb\rime-out\rust_correct\02_random_01.judge
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_01.in: Wrong Answer
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Build Summary:
&lt;&#x2F;span&gt;&lt;span&gt;aplusb ... in: 40B, diff: 25B, md5: -
&lt;&#x2F;span&gt;&lt;span&gt;  rust_correct RUST 236 lines, 5.1kB
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Test Summary:
&lt;&#x2F;span&gt;&lt;span&gt;aplusb ... 1 solutions, 10 tests
&lt;&#x2F;span&gt;&lt;span&gt;  rust_correct FAIL 02_random_01.in: Wrong Answer
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Error Summary:
&lt;&#x2F;span&gt;&lt;span&gt;ERROR: aplusb&#x2F;rust_correct: 02_random_01.in: Wrong Answer
&lt;&#x2F;span&gt;&lt;span&gt;  judge log: C:\home\Rime\aplusb\rime-out\rust_correct\02_random_01.judge
&lt;&#x2F;span&gt;&lt;span&gt;Total 1 errors, 0 warnings
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯ã§ãã¾ã—ãŸãŒã€ã©ã†ã‚„ã‚‰ã‚¸ãƒ£ãƒƒã‚¸ãŒåˆã‚ãªã„ã‚ˆã†ã§ã™ã€‚output ã‚’ä½œæˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¨è§£ç­”ã‚³ãƒ¼ãƒ‰ãŒåŒä¸€ãªã®ã«â€¦â€¦ã©ã†ã„ã†ã“ã¨ã§ã—ã‚‡ã†ã‹ï¼Ÿãƒ­ã‚°ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ judge log ã‚’ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;#39;diff&amp;#39; ï¿½ÍAï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ü‚ï¿½ï¿½ÍŠOï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½A
&lt;&#x2F;span&gt;&lt;span&gt;ï¿½ï¿½ï¿½ï¿½\ï¿½Èƒvï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Íƒoï¿½bï¿½` ï¿½tï¿½@ï¿½Cï¿½ï¿½ï¿½Æ‚ï¿½ï¿½Ä”Fï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½B
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ãƒãƒ³ã‚³ãƒ„å¤ªéƒãŒã‚ˆâ€¦â€¦&lt;&#x2F;p&gt;
&lt;p&gt;Python ã® &lt;code&gt;open()&lt;&#x2F;code&gt; ã¯ã¡ã‚ƒã‚“ã¨æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’æŒ‡å®šã—ã¦ã‚ã’ãªã„ã¨ã“ã†ã„ã†ã“ã¨ãŒèµ·ã“ã‚ŠãŒã¡ãªã®ã§ã€ã¡ã‚ƒã‚“ã¨ UTF-8 ã‚’æŒ‡å®šã—ã¦ã‚ã’ã¾ã—ã‚‡ã†ã€‚çµæ§‹ãŸãã•ã‚“ã‚ã‚‹ã®ã§é ‘å¼µã£ã¦ãã ã•ã„ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;def _ExecForCompile(self, args):
&lt;&#x2F;span&gt;&lt;span&gt;    with open(os.path.join(self.out_dir, self.log_name), &amp;#39;w&amp;#39;, encoding=&amp;#39;utf-8&amp;#39;) as outfile:
&lt;&#x2F;span&gt;&lt;span&gt;        yield (yield self._ExecInternal(
&lt;&#x2F;span&gt;&lt;span&gt;            args=args, cwd=self.src_dir,
&lt;&#x2F;span&gt;&lt;span&gt;            stdin=files.OpenNull(), stdout=outfile,
&lt;&#x2F;span&gt;&lt;span&gt;            stderr=subprocess.STDOUT))
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;diff&quot;&gt;diff&lt;&#x2F;h4&gt;
&lt;p&gt;ã“ã‚Œã§ã‚‚ã†ä¸€åº¦å®Ÿè¡Œã—ã¦ judge log ã‚’è¦‹ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;#39;diff&amp;#39; ï¿½ÍAï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ü‚ï¿½ï¿½ÍŠOï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½A
&lt;&#x2F;span&gt;&lt;span&gt;ï¿½ï¿½ï¿½ï¿½\ï¿½Èƒvï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Íƒoï¿½bï¿½` ï¿½tï¿½@ï¿½Cï¿½ï¿½ï¿½Æ‚ï¿½ï¿½Ä”Fï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½ï¿½B
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã©ã†ã—ã¦â€¦â€¦&lt;&#x2F;p&gt;
&lt;p&gt;ç§ã®åŠ›ã§ã¯ judge log ã‚’å‡ºåŠ›ã—ã¦ã„ã‚‹ã®ãŒã©ã“ãªã®ã‹åˆ†ã‹ã‚‰ãšã€æ–‡å­—åŒ–ã‘ã‚’æ²»ã™ã“ã¨ãŒã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ä»•æ–¹ãŒãªã„ã®ã§ã“ã“ã‚’ç›´ã™ã®ã¯ã‚ãã‚‰ã‚ã¦åˆ¥ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã§é–‹ãã“ã¨ã«ã—ã¾ã™ã€‚VSCode ã§ã‚ã‚Œã°ä¸‹éƒ¨ã®ã€ŒUTF-8ã€ã¨æ›¸ã‹ã‚ŒãŸç®‡æ‰€ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã“ã¨ã§è‡ªåˆ†ã§ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’æŒ‡å®šã—ã¦é–‹ãã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;ã“ã“&quot;&gt;[f:id:nebocco:20210501193656p:plain]&lt;figcaption&gt;ã“ã“&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-05-01_rime_on_windows10&amp;#x2F;20210501193656.png&quot;  &gt;
      
      
    &lt;figcaption&gt;ã“ã“&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  &lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;&amp;#39;diff&amp;#39; ã¯ã€å†…éƒ¨ã‚³ãƒãƒ³ãƒ‰ã¾ãŸã¯å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰ã€
&lt;&#x2F;span&gt;&lt;span&gt;æ“ä½œå¯èƒ½ãªãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¾ãŸã¯ãƒãƒƒãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦èªè­˜ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;subprocess&lt;&#x2F;code&gt; ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹éš›ã¯ Powershell ã§ã¯ãªã cmd.exe ã‚’å‘¼ã³å‡ºã™ã®ã§ã™ãŒã€æ®‹å¿µãªãŒã‚‰ cmd.exe ã«ã¯ &lt;code&gt;diff&lt;&#x2F;code&gt; ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä»£ã‚ã‚Šã« &lt;code&gt;fc&lt;&#x2F;code&gt; ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ãŒã‚ã‚‹ã®ã§ã€ã“ã‚Œã‚’ä½¿ãˆã°ã‚ˆã„ã§ã™ã€‚&lt;code&gt;rime&#x2F;basic&#x2F;codes.py&lt;&#x2F;code&gt; ã® &lt;code&gt;InternalDiffCode.Run()&lt;&#x2F;code&gt; ã‚’æ›¸ãæ›ãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;Run&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;self&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;args&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;cwd&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;output&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;timeout&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;precise&lt;&#x2F;span&gt;&lt;span&gt;,
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;redirect_error&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    parser &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;optparse.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;OptionParser&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;    parser.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;add_option&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;-i&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;--infile&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;dest&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;infile&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    parser.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;add_option&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;-d&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;--difffile&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;dest&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;difffile&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    parser.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;add_option&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;-o&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;--outfile&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;dest&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;outfile&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    (options, pos_args) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;parser.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;parse_args&lt;&#x2F;span&gt;&lt;span&gt;([&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ list&lt;&#x2F;span&gt;&lt;span&gt;(args))
&lt;&#x2F;span&gt;&lt;span&gt;    run_args &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;fc&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, options.difffile, options.outfile) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ã“ã“
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;with &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;open&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;r&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;encoding&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;#39;utf-8&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;infile:
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;UTF-8 ã¨ã—ã¦æ¯”è¼ƒã™ã‚‹ã‚ˆã†ãªã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã€ãã‚ŒãŒãªã„ã¨éASCIIæ–‡å­—ã‚’å‡ºåŠ›ã™ã‚‹å•é¡Œã§ãƒã‚°ã‚Šãã†ãªäºˆæ„ŸãŒã—ã¾ã™ãŒã€ãã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹ã¨æ”¹è¡ŒãŒ &lt;code&gt;\n&lt;&#x2F;code&gt; ã‹ &lt;code&gt;\n\r&lt;&#x2F;code&gt; ã‹ãŒåŒºåˆ¥ã•ã‚Œã€æ­£ã—ã„å‡ºåŠ›ã§ã‚‚ WA ã¨åˆ¤å®šã•ã‚Œã¦ã—ã¾ã†ã®ã§ä»˜ã‘ãªã„ã“ã¨ã«ã—ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã‚Œã§å®Ÿè¡Œã§ãã‚‹ã¯ãšã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime test aplusb
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;[ COMPILE  ] aplusb&#x2F;rust_correct: up-to-date
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_01.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_02.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_03.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_04.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_05.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_06.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_07.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_08.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_09.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_10.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: max 0.03s, acc 0.29s
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Build Summary:
&lt;&#x2F;span&gt;&lt;span&gt;aplusb ... in: 40B, diff: 25B, md5: -
&lt;&#x2F;span&gt;&lt;span&gt;  rust_correct RUST 236 lines, 5.1kB
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Test Summary:
&lt;&#x2F;span&gt;&lt;span&gt;aplusb ... 1 solutions, 10 tests
&lt;&#x2F;span&gt;&lt;span&gt;  rust_correct  OK  max 0.03s, acc 0.29s
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Error Summary:
&lt;&#x2F;span&gt;&lt;span&gt;Total 0 errors, 0 warnings
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;èª¤ç­”ãŒè½ã¡ã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹&quot;&gt;èª¤ç­”ãŒè½ã¡ã‚‹ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹&lt;&#x2F;h3&gt;
&lt;p&gt;ã›ã£ã‹ããªã®ã§ã“ã“ã‚‚è©¦ã—ã¦ã¿ã¾ã™ã€‚ä»Šåº¦ã¯pythonã§æ›¸ã„ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime add aplusb solution py_wa
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;[   ADD    ] C:\home\Rime\aplusb\py_wa&#x2F;SOLUTION
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;code&gt;SOLUTION&lt;&#x2F;code&gt; ã«ã‚‚æ›¸ã‹ã‚Œã¦ã„ã‚‹ã¨ãŠã‚Šã€ shebang ã‚’å¿˜ã‚Œãªã„ã‚ˆã†ã«ã—ã¦ãã ã•ã„ã€‚ãƒ•ãƒ«ãƒ‘ã‚¹ã§æ›¸ã‹ãªã‘ã‚Œã°ãªã‚‰ãšçµæ§‹é¢å€’ã§ã™ã€‚ã“ã“ã‚‚ã†ã¾ãæ›¸ãæ›ãˆã‚Œã° shebang ã‚’çœç•¥ã§ãã‚‹æ°—ãŒã™ã‚‹ã‚“ã§ã™ãŒã€ã‚ã‚“ã¾ã‚Šè©¦ã—ã¦ãªã„ã®ã§è‰¯ãåˆ†ã‹ã‚Šã¾ã›ã‚“ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;#!C:\Users\Personal\AppData\Local\Programs\Python\Python39\python.exe
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;a, b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;5 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;b)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;pre style=&quot;background-color:#282c34;color:#abb2bf;&quot;&gt;&lt;code&gt;&lt;span&gt;PS C:\home\Rime&amp;gt; py rime test aplusb
&lt;&#x2F;span&gt;&lt;span&gt;Note: Running Rime under Windows will be unstable.
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;py_wa
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;py_wa: 02_random_01.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;py_wa: 02_random_02.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;py_wa: 02_random_03.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;py_wa: 02_random_04.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;py_wa: 02_random_05.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;py_wa: 02_random_06.in: Wrong Answer
&lt;&#x2F;span&gt;&lt;span&gt;[ COMPILE  ] aplusb&#x2F;rust_correct: up-to-date
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_01.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_02.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_03.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_04.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_05.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_06.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_07.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_08.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_09.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: 02_random_10.in: PASSED
&lt;&#x2F;span&gt;&lt;span&gt;[   TEST   ] aplusb&#x2F;rust_correct: max 0.02s, acc 0.20s
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Build Summary:
&lt;&#x2F;span&gt;&lt;span&gt;aplusb ... in: 40B, diff: 25B, md5: -
&lt;&#x2F;span&gt;&lt;span&gt;  rust_correct RUST   236 lines, 5.1kB
&lt;&#x2F;span&gt;&lt;span&gt;  py_wa        SCRIPT   6 lines,  142B
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Test Summary:
&lt;&#x2F;span&gt;&lt;span&gt;aplusb ... 2 solutions, 10 tests
&lt;&#x2F;span&gt;&lt;span&gt;  rust_correct  OK  max 0.02s, acc 0.20s
&lt;&#x2F;span&gt;&lt;span&gt;  py_wa         OK  02_random_06.in: Wrong Answer
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;Error Summary:
&lt;&#x2F;span&gt;&lt;span&gt;Total 0 errors, 0 warnings
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ã—ã£ã‹ã‚Š WA ã‚‚åˆ¤å®šã§ãã¾ã—ãŸ&lt;&#x2F;p&gt;
&lt;p&gt;ã‚„ã£ãŸï½ï½ï½ï½ï½ï½ï½ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ãŠã‚ã‚Šã«&quot;&gt;ãŠã‚ã‚Šã«&lt;&#x2F;h3&gt;
&lt;p&gt;ã¨ã¦ã‚‚ãŒã‚“ã°ã‚Šã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã‚ˆãä½œå•ãƒ©ã‚¤ãƒ•ã‚’ï¼&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>AtCoderæå‡ºãƒšãƒ¼ã‚¸ã®ã‚¿ãƒ–å¹…ã‚’å¤‰ãˆã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</title>
        <published>2021-04-21T00:00:00+00:00</published>
        <updated>2021-05-03T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/atcoder_tab_4matter/"/>
        <id>https://blog.nebocco.dev/post/atcoder_tab_4matter/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/atcoder_tab_4matter/">&lt;p&gt;AtCoderã®æå‡ºè©³ç´°ã§è¦‹ã‚Œã‚‹ã‚³ãƒ¼ãƒ‰ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¿ãƒ–å¹…ãŒ8ã«å›ºå®šã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;è¦‹ã«ãã„ã­&quot;&gt;[f:id:nebocco:20210421180701p:plain]&lt;figcaption&gt;è¦‹ã«ãã„ã­&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-04-21_atcoder_tab_4matter&amp;#x2F;20210421180701.png&quot;  &gt;
      
      
    &lt;figcaption&gt;è¦‹ã«ãã„ã­&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ä½œã‚Šã¾ã—ãŸã€‚
&lt;del&gt;&lt;a href=&quot;https:&#x2F;&#x2F;blog.nebocco.dev&#x2F;post&#x2F;atcoder_tab_4matter&#x2F;&quot;&gt;AtCoder Tab 4matter&lt;&#x2F;a&gt;&lt;&#x2F;del&gt;&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;2021&#x2F;05&#x2F;03 è¿½è¨˜&lt;&#x2F;strong&gt;
TamperMonkey ã‹ã‚‰ Stylus ã«ç§»è¡Œã—ã¾ã—ãŸã€‚
&lt;a href=&quot;https:&#x2F;&#x2F;userstyles.org&#x2F;styles&#x2F;202735&#x2F;atcoder-tab-4matter&quot;&gt;AtCoder Tab 4matter&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;è¦‹ã‚„ã™ã„ã­&quot;&gt;[f:id:nebocco:20210421181058p:plain]&lt;figcaption&gt;è¦‹ã‚„ã™ã„ã­&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;
&lt;p&gt;
  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-04-21_atcoder_tab_4matter&amp;#x2F;20210421181058.png&quot;  &gt;
      
      
    &lt;figcaption&gt;è¦‹ã‚„ã™ã„ã­&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
å¬‰ã—ã„ï½ï½&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>yukicoder No.119 æ—…è¡Œã®ãƒ„ã‚¢ãƒ¼ã®å•é¡Œ è§£èª¬</title>
        <published>2021-03-18T00:00:00+00:00</published>
        <updated>2021-03-18T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/yuki119/"/>
        <id>https://blog.nebocco.dev/post/yuki119/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/yuki119/">&lt;p&gt;ä½™è«‡ãŒæœ¬ç·¨&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;yukicoder.me&#x2F;problems&#x2F;no&#x2F;119&quot;&gt;yukicoder - No.119 æ—…è¡Œã®ãƒ„ã‚¢ãƒ¼ã®å•é¡Œ&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;æ¦‚è¦&quot;&gt;æ¦‚è¦&lt;&#x2F;h3&gt;
&lt;p&gt;$N$ å€‹ã®å›½ãŒã‚ã‚Šã€ãã‚Œãã‚Œã®å›½ $i \; (0 \leq i &amp;lt; N)$ ã«å¯¾ã—ã¦ä»¥ä¸‹ã®è¡Œå‹•ã®ã†ã¡ä¸€ã¤ã‚’é¸ã¶ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;é¸æŠ $p$ : ãƒ„ã‚¢ãƒ¼æ—…è¡Œã«è¡Œãã€‚åˆ©å¾— $b_i$&lt;&#x2F;li&gt;
&lt;li&gt;é¸æŠ $q$ : å€‹äººæ—…è¡Œã«è¡Œãã€‚åˆ©å¾— $c_i$&lt;&#x2F;li&gt;
&lt;li&gt;é¸æŠ $r$ : è¡Œã‹ãªã„ã€‚åˆ©å¾— $0$&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ãŸã ã—ã€ã„ãã¤ã‹ã®å›½ã®ãƒšã‚¢ $i, j$ ã«å¯¾ã—ã¦ã€Œå›½ $i$ ã®ãƒ„ã‚¢ãƒ¼æ—…è¡Œã«è¡Œããªã‚‰ã°ã€å›½ $j$ ã®å€‹äººæ—…è¡Œã«è¡Œã£ã¦ã¯ãªã‚‰ãªã„ã€ã¨ã„ã†å½¢ã®åˆ¶ç´„ãŒèª²ã•ã‚Œã‚‹ã€‚å¾—ã‚‰ã‚Œã‚‹æœ€å¤§ã®åˆ©å¾—ã‚’æ±‚ã‚ã‚ˆã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;ãƒ‘ãƒƒã¨è¦‹ãŸæ„Ÿã˜ã ã¨ Project Selection Plobremï¼ˆPSPã€ã€Œç‡ƒã‚„ã™åŸ‹ã‚ã‚‹ã€ãªã©ã¨ã‚‚å‘¼ã°ã‚Œã¦ã„ã¾ã™ï¼‰ã‚’ä½¿ã£ã¦è§£ã‘ãã†ã ã‘ã©ã€å–ã‚Šã†ã‚‹çŠ¶æ…‹ãŒä¸‰ã¤ã‚ã‚‹ã®ã§å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã™ã€‚ã“ã“ã§ã¯äºŒç¨®é¡ã®æ–¹é‡ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;&#x2F;strong&gt; :ã€Œç‡ƒã‚„ã™åŸ‹ã‚ã‚‹ã€ã¨ã„ã†åå‰ã‚’å«Œã†äººãŒã„ã‚‹ã®ã§è¨˜äº‹ä¸­ã§ã¯ PSP ã¨è¡¨ç¾ã—ã¦ã„ã¾ã™ãŒã€ã“ã®è¨˜äº‹ã§ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯ç´›ã‚Œã‚‚ãªãã€Œç‡ƒã‚„ã™åŸ‹ã‚ã‚‹ã€ã§ã™ï¼ˆè€ƒãˆæ–¹ãŒå°‘ã—é•ã†ã‚‰ã—ã„ï¼‰ã€‚æœ¬æ¥ã® PSP ã«ã¤ã„ã¦ã¯ &lt;a href=&quot;https:&#x2F;&#x2F;tokoharuland.hateblo.jp&#x2F;entry&#x2F;2017&#x2F;12&#x2F;25&#x2F;000003&quot;&gt;Project Selection (ç‡ƒã‚„ã™åŸ‹ã‚ã‚‹) å‘¨ã‚Šã®è©±ã«ã¤ã„ã¦ã‚‚ã†å°‘ã—è€ƒãˆãŸ - ã¨ã“ã¯ã‚‹ã®ã¾ã¨ã‚&lt;&#x2F;a&gt; ã§è§£èª¬ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;1._è¾ºã®åˆ‡æ–­&quot;&gt;1. è¾ºã®åˆ‡æ–­&lt;&#x2F;h3&gt;
&lt;p&gt;ã¾ãšå¤šãã®äººãŒè§£èª¬ã—ã¦ã„ã‚‹æ–¹é‡ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä¸€èˆ¬çš„ã«ã¯PSPã¯é ‚ç‚¹ã®å‰²ã‚ŠæŒ¯ã‚Šã«é–¢ã™ã‚‹å•é¡Œã¨ã—ã¦æ‰ãˆã‚‰ã‚Œã¾ã™ãŒã€ã“ã“ã§ã¯ã€Œè¾ºã‚’ã„ãã¤ã‹é¸ã‚“ã§åˆ‡æ–­ã™ã‚‹ã€ã¨ã„ã†ã€æœ¬æ¥ã®æœ€å°ã‚«ãƒƒãƒˆå•é¡Œã«è¿‘ã„å½¢å¼ã§å•é¡Œã‚’è§£é‡ˆã—ã¦ã¿ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å„ $i$ ã«ã¤ã„ã¦ã€ç„¡æ¡ä»¶ã«åˆ©å¾— $b_i + c_i$ ãŒå¾—ã‚‰ã‚Œã‚‹ã¨ã—ãŸä¸Šã§ã€å§‹ç‚¹ $\mathrm{S}$ ã‹ã‚‰é ‚ç‚¹ $i$ ã«ã‚³ã‚¹ãƒˆ $b_i$ ã€é ‚ç‚¹ $i$ ã‹ã‚‰çµ‚ç‚¹ $\mathrm{T}$ ã«ã‚³ã‚¹ãƒˆ $c_i$ ã®è¾ºã‚’å¼µã‚Šã¾ã™ã€‚ã™ã‚‹ã¨ã€ $\mathrm{S}$ ã‹ã‚‰ $\mathrm{T}$ ã‚’åˆ°é”ä¸å¯èƒ½ã«ã™ã‚‹ãŸã‚ã«ã¯ã€å°‘ãªãã¨ã‚‚ã“ã®ã©ã¡ã‚‰ã‹ã®è¾ºã¯åˆ‡ã‚‰ãªãã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚æœ€çµ‚çš„ã«å¾—ã‚‰ã‚Œã‚‹åˆ©å¾—ã«æ³¨ç›®ã™ã‚‹ã¨ã€å‰è€…ã‚’åˆ‡ã‚‹ã“ã¨ãŒ $q_i$ ã€å¾Œè€…ã‚’åˆ‡ã‚‹ã“ã¨ãŒ $p_i$ ã€ãã—ã¦ã©ã¡ã‚‰ã‚‚åˆ‡ã‚‹ã“ã¨ãŒ $r_i$ ã«ç›¸å½“ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- [f:id:nebocco:20210315195145p:plain] --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-03-18_yuki119&amp;#x2F;20210315195145.png&quot;  &gt;
      
      
    
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;æ¬¡ã«ç¦æ­¢åˆ¶ç´„ã€Œ $p_i \to \lnot q_j$ ã€ã‚’è€ƒãˆã‚‹ã¨ã€ã“ã‚Œã¯ $p_i$ ã¨ $q_j$ ãŒåŒæ™‚ã«é¸ã°ã‚ŒãŸã¨ãã« $\mathrm{S}$ ã‹ã‚‰ $\mathrm{T}$ ã¸ã®çµŒè·¯ãŒæ®‹ã£ã¦ã„ã‚‹ã‚ˆã†ã«ã™ã‚Œã°ã„ã„ã®ã§ã€ $i$ ã‹ã‚‰ $j$ ã«ã‚³ã‚¹ãƒˆ $\infty$ ã®è¾ºã‚’å¼µã‚‹ã“ã¨ã§è¡¨ç¾ã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã—ã‹ã—ã€ã“ã‚Œã ã¨ã‚µãƒ³ãƒ—ãƒ«3ã®ã‚ˆã†ãªã‚±ãƒ¼ã‚¹ã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;å›½ 2 ã«è¡Œã‹ãªã„ã®ã§æœ¬å½“ã¯å¤§ä¸ˆå¤«ãªã¯ãš&quot;&gt;[f:id:nebocco:20210319104245p:plain]&lt;figcaption&gt;å›½ 2 ã«è¡Œã‹ãªã„ã®ã§æœ¬å½“ã¯å¤§ä¸ˆå¤«ãªã¯ãš&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-03-18_yuki119&amp;#x2F;20210319104245.png&quot;  &gt;
      
      
    &lt;figcaption&gt;å›½ 2 ã«è¡Œã‹ãªã„ã®ã§æœ¬å½“ã¯å¤§ä¸ˆå¤«ãªã¯ãš&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ç¦æ­¢åˆ¶ç´„ã®è¾ºãŒé€£é–ã—ã¦ã€æœ¬æ¥è¨±ã•ã‚Œã‚‹ã¯ãšã®é¸æŠã¾ã§ãƒ–ãƒ­ãƒƒã‚¯ã—ã¦ã—ã¾ã£ã¦ã„ã¾ã™ã€‚ãã“ã§ã€åˆ¶ç´„ã®é€£é–ãŒèµ·ã“ã‚‰ãªã„ã‚ˆã†ã«ã€å„é ‚ç‚¹ã‚’2ã¤ãšã¤ã«åˆ†å‰²ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«è¾ºã‚’å¼µã‚Šç›´ã—ã¦ã¿ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;å¤©æ‰&quot;&gt;[f:id:nebocco:20210315195151p:plain]&lt;figcaption&gt;å¤©æ‰&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-03-18_yuki119&amp;#x2F;20210315195151.png&quot;  &gt;
      
      
    &lt;figcaption&gt;å¤©æ‰&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;$i_1$ ã¨ $i_2$ ã¯å…ƒã€…åŒã˜é ‚ç‚¹ã‚’è¡¨ã—ã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã‚‰ã¯åˆ†æ–­ã•ã‚Œãªã„ã‚ˆã†ã«ã‚³ã‚¹ãƒˆ $\infty$ ã®è¾ºã§ç¹‹ã„ã§ãŠãã¾ã—ã‚‡ã†ã€‚ã“ã†ã™ã‚‹ã“ã¨ã§ã€ç¦æ­¢åˆ¶ç´„ã¯ä¸Šæµã‹ã‚‰ä¸‹æµã¸ã®ä¸€æ–¹é€šè¡Œã«ãªã‚Šã€é€£é–ã™ã‚‹ã“ã¨ã‚’é˜²ã’ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®ã‚°ãƒ©ãƒ•ã§å§‹ç‚¹ã‹ã‚‰çµ‚ç‚¹ã¸ã®æœ€å°ã‚«ãƒƒãƒˆï¼ˆ= æœ€å¤§æµï¼‰ã‚’æ±‚ã‚ã‚Œã°ã„ã„ã§ã™ã€‚æœ€å°ã‚«ãƒƒãƒˆã®ã‚³ã‚¹ãƒˆã‚’ $K$ ã¨ã™ã‚‹ã¨ã€æœ€çµ‚çš„ãªç­”ãˆã¯ $\sum_{i} (b_i+c_i) - K$ ã¨ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;rust&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-rust &quot;&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;u &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;| { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; i }; &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#7f848e;&quot;&gt;&#x2F;&#x2F; i_1
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;v &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;| { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span&gt;}; &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#7f848e;&quot;&gt;&#x2F;&#x2F; i_2
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; source &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= u&lt;&#x2F;span&gt;&lt;span&gt;(n);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; sink &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= v&lt;&#x2F;span&gt;&lt;span&gt;(n);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span&gt; ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span&gt; din &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;Dinic::new();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;(i, j) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;in &amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;cl { &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#7f848e;&quot;&gt;&#x2F;&#x2F; ç¦æ­¢åˆ¶ç´„
&lt;&#x2F;span&gt;&lt;span&gt;  din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;add_edge&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;u&lt;&#x2F;span&gt;&lt;span&gt;(i), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;v&lt;&#x2F;span&gt;&lt;span&gt;(j), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;INF&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(i, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;(b, c)) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;in&lt;&#x2F;span&gt;&lt;span&gt; plans.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span&gt;() { &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#7f848e;&quot;&gt;&#x2F;&#x2F; å„é¸æŠã®å ±é…¬
&lt;&#x2F;span&gt;&lt;span&gt;  ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span&gt; b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt; c;
&lt;&#x2F;span&gt;&lt;span&gt;  din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;add_edge&lt;&#x2F;span&gt;&lt;span&gt;(source, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;u&lt;&#x2F;span&gt;&lt;span&gt;(i), b);
&lt;&#x2F;span&gt;&lt;span&gt;  din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;add_edge&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;u&lt;&#x2F;span&gt;&lt;span&gt;(i), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;v&lt;&#x2F;span&gt;&lt;span&gt;(i), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;INF&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;add_edge&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;v&lt;&#x2F;span&gt;&lt;span&gt;(i), sink, c);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-=&lt;&#x2F;span&gt;&lt;span&gt; din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;max_flow&lt;&#x2F;span&gt;&lt;span&gt;(source, sink).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;2._é ‚ç‚¹ã®åˆ†é…&quot;&gt;2. é ‚ç‚¹ã®åˆ†é…&lt;&#x2F;h3&gt;
&lt;p&gt;ç¶šã„ã¦ã€ä¸€èˆ¬çš„ãª PSP åŒæ§˜ã€é ‚ç‚¹ã‚’å§‹ç‚¹å´ã¨çµ‚ç‚¹å´ã«å‰²ã‚ŠæŒ¯ã‚‹å•é¡Œã¨ã—ã¦æ‰ãˆã‚‹æ–¹é‡ã§è§£ã„ã¦ã¿ã¾ã™ã€‚
ã‚½ãƒ¼ã‚¹ã‚’ $\text{True}(\top)$ ã€ã‚·ãƒ³ã‚¯ã‚’ $\text{False}(âŠ¥)$ ã¨ã—ã¦ã€é ‚ç‚¹ã‚’å‰²ã‚ŠæŒ¯ã£ã¦ã„ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»¥ä¸‹ã®äºŒé ‚ç‚¹ã‚’ç”¨æ„ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;$u_i$ : å›½ $i$ ã®ãƒ„ã‚¢ãƒ¼æ—…è¡Œã«è¡Œãã‹ã€å›½ $i$ ã‚’è¨ªã‚Œãªã„ï¼ˆ$p_i \lor r_i$ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;$v_i$ : å›½ $i$ ã®ãƒ„ã‚¢ãƒ¼æ—…è¡Œã«è¡Œãï¼ˆ$p_i$ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ã“ã†ã™ã‚‹ã“ã¨ã§ã€$u_i$ ã¨ $v_i$ ã®çœŸå½ã¨è¡Œå‹•é¸æŠãŒä»¥ä¸‹ã®é€šã‚Šã«å¯¾å¿œã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;$u_i \land v_i = (p_i \lor r_i) \land p_i = p_i$&lt;&#x2F;li&gt;
&lt;li&gt;$u_i \land \lnot v_i = (p_i \lor r_i) \land \lnot p_i = r_i$&lt;&#x2F;li&gt;
&lt;li&gt;$\lnot u_i \land v_i = \lnot (p_i \lor r_i) \land p_i = âŠ¥$&lt;&#x2F;li&gt;
&lt;li&gt;$\lnot u_i \land \lnot v_i = \lnot (p_i \lor r_i) \land \lnot p_i = \lnot p_i \land \lnot r_i = q_i$&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ã‚ˆã£ã¦ã€ $u_i, v_i$ ã®å‰²ã‚Šå½“ã¦ã«å¿œã˜ãŸã‚³ã‚¹ãƒˆã¯ä»¥ä¸‹ã®è¡¨ã®é€šã‚Šã¨ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{array}{c|cc}
&amp;amp; u_i  &amp;amp; \lnot u_i \\ \hline
v_i &amp;amp; -b_i &amp;amp; \infty    \\
\lnot v_i &amp;amp; 0    &amp;amp; -c_i      \\
\end{array}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ç„¡æ¡ä»¶ã§ $b_i + c_i$ ã®åˆ©å¾—ãŒå¾—ã‚‰ã‚Œã‚‹ã“ã¨ã«ã™ã‚‹ã¨ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚³ã‚¹ãƒˆã¯å…¨ã¦æ­£ã®å€¤ã¨ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{array}{c|cc}
&amp;amp; u_i       &amp;amp; \lnot u_i \\ \hline
v_i &amp;amp; c_i       &amp;amp; \infty    \\
\lnot v_i &amp;amp; b_i + c_i &amp;amp; b_i
\end{array}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã¡ã‚ƒã‚“ã¨åŠ£ãƒ¢ã‚¸ãƒ¥ãƒ©ã«ãªã£ã¦ã‚‹ã®ã§ã€ã“ã‚Œã¯é€šå¸¸ã®2å¤‰æ•°ã«é–¢ã™ã‚‹ã‚³ã‚¹ãƒˆã¨ã—ã¦è¡¨ç¾å¯èƒ½ã§ã™ã€‚ä¾‹ãˆã°ã“ã‚“ãªæ„Ÿã˜ã€‚&lt;&#x2F;p&gt;
&lt;!-- [f:id:nebocco:20210315195139p:plain] --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-03-18_yuki119&amp;#x2F;20210315195139.png&quot;  &gt;
      
      
    
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ã•ã‚‰ã«ã€è¿½åŠ åˆ¶ç´„ã€Œ$p_i \to \lnot q_j$ã€ã¯ã€$v_i \to u_i$ ã‚’ç”¨ã„ã‚‹ã“ã¨ã§&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{aligned}
p_i \to \lnot q_j
&amp;amp; \Leftrightarrow (u_i \land v_i) \to \lnot (\lnot u_j \land \lnot v_j) \\
&amp;amp; \Leftrightarrow v_i \to (u_j \lor v_j) \\
&amp;amp; \Leftrightarrow v_i \to u_j
\end{aligned}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã¨è¨€ã„æ›ãˆã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¾ºã‚’å¼µã‚Œã°ã„ã„ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- [f:id:nebocco:20210315195142p:plain] --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-03-18_yuki119&amp;#x2F;20210315195142.png&quot;  &gt;
      
      
    
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ã“ã‚Œã§å§‹ç‚¹ã‹ã‚‰çµ‚ç‚¹ã¾ã§æµã›ã°OKã§ã™ã€‚æœ€çµ‚çš„ãªç­”ãˆã¯ $\sum_{i} (b_i+c_i) - K$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;rust&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-rust &quot;&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;u &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;| { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; i };
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;v &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;|&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;| { &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt; i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span&gt;};
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; source &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= u&lt;&#x2F;span&gt;&lt;span&gt;(n);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let&lt;&#x2F;span&gt;&lt;span&gt; sink &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= v&lt;&#x2F;span&gt;&lt;span&gt;(n);
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span&gt; ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;let mut&lt;&#x2F;span&gt;&lt;span&gt; din &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;Dinic::new();
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;(i, j) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;in &amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;cl { &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#7f848e;&quot;&gt;&#x2F;&#x2F; ç¦æ­¢åˆ¶ç´„
&lt;&#x2F;span&gt;&lt;span&gt;  din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;add_edge&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;v&lt;&#x2F;span&gt;&lt;span&gt;(i), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;u&lt;&#x2F;span&gt;&lt;span&gt;(j), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;INF&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(i, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span&gt;(b, c)) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;in&lt;&#x2F;span&gt;&lt;span&gt; plans.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;iter&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span&gt;() { &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#7f848e;&quot;&gt;&#x2F;&#x2F; å„é¸æŠã®å ±é…¬
&lt;&#x2F;span&gt;&lt;span&gt;  ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+=&lt;&#x2F;span&gt;&lt;span&gt; b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt; c;
&lt;&#x2F;span&gt;&lt;span&gt;  din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;add_edge&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;v&lt;&#x2F;span&gt;&lt;span&gt;(i), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;u&lt;&#x2F;span&gt;&lt;span&gt;(i), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;INF&lt;&#x2F;span&gt;&lt;span&gt;);
&lt;&#x2F;span&gt;&lt;span&gt;  din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;add_edge&lt;&#x2F;span&gt;&lt;span&gt;(source, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;u&lt;&#x2F;span&gt;&lt;span&gt;(i), b);
&lt;&#x2F;span&gt;&lt;span&gt;  din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;add_edge&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;u&lt;&#x2F;span&gt;&lt;span&gt;(i), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;v&lt;&#x2F;span&gt;&lt;span&gt;(i), b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt; c);
&lt;&#x2F;span&gt;&lt;span&gt;  din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;add_edge&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;v&lt;&#x2F;span&gt;&lt;span&gt;(i), sink, c);
&lt;&#x2F;span&gt;&lt;span&gt;}
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-=&lt;&#x2F;span&gt;&lt;span&gt; din.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;max_flow&lt;&#x2F;span&gt;&lt;span&gt;(source, sink).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;yukicoder.me&#x2F;submissions&#x2F;630915&quot;&gt;è§£æ³• 1&lt;&#x2F;a&gt; (Rust)&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;yukicoder.me&#x2F;submissions&#x2F;630914&quot;&gt;è§£æ³• 2&lt;&#x2F;a&gt; (Rust)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;h2 id=&quot;ä½™è«‡&quot;&gt;ä½™è«‡&lt;&#x2F;h2&gt;
&lt;p&gt;åˆè¦‹ã§è§£ã„ã¦ã„ãŸã¨ãã€ã€Œä¸‰ç¨®é¡ã®å€¤ã‚’å–ã‚‹ã¨ãã¯ã€å„è¦ç´ ã«å¯¾ã—ã¦äºŒã¤ã®é ‚ç‚¹ã‚’ç”¨æ„ã—ã¦ã„ã„æ„Ÿã˜ã«åŒ…å«é–¢ä¿‚ã‚’å…¥ã‚Œã‚‹ã¨ã„ã„ã€ã¨ã„ã†è©±ã‚’ä½•ã¨ãªãèã„ãŸã“ã¨ãŒã‚ã£ãŸã®ã§ã€äºŒç¨®é¡ã®å‘½é¡Œ&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;$x_i$ : å›½ $i$ ã‚’è¨ªã‚Œã‚‹ï¼ˆ$p_i \lor q_i$ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;$y_i$ : å›½ $i$ ã®ãƒ„ã‚¢ãƒ¼æ—…è¡Œã«è¡Œãï¼ˆ$p_i$ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ã‚’é ‚ç‚¹ã¨ã—ã¦ä½œã‚‹ã“ã¨ã«ã—ãŸã®ã§ã™ãŒã€é–“é•ã„ã§ã—ãŸã€‚$p$ ã¨ $q$ ã«ã¯ã€Œå›½ã‚’è¨ªã‚Œã‚‹ã€ã¨ã„ã†åˆ†ã‹ã‚Šã‚„ã™ã„å…±é€šé …ãŒã‚ã‚‹ä¸Šã€å…ƒå•é¡Œæ–‡ã§ã¯ç¦æ­¢åˆ¶ç´„ãŒã‚ãŸã‹ã‚‚ã€Œå›½ã‚’è¨ªã‚Œã‚‹ã€ã¨ã„ã†æ‹¬ã‚ŠãŒã‚ã‚‹ã‹ã®ã‚ˆã†ã«è¡¨ç¾ã•ã‚Œã¦ã„ãŸãŸã‚ã«çº’ã‚ãŸããªã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€å®Ÿéš›ã«ã¯å®Œå…¨ã«åˆ¥ã®äº‹è±¡ã¨ã—ã¦æ‰ãˆã‚‹ã¹ãã§ã—ãŸï¼ˆã¨ã„ã†ã‹å®Ÿéš›ã«ãã†ï¼‰ã€‚ã¾ã‚“ã¾ã¨ç½ ã«ã‹ã‹ã‚Šã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$x, y$ ã®çœŸå½ã‚‚ã†ã¾ã $p, q, r$ ã«å¯¾å¿œã—ã¦ã€ã‚³ã‚¹ãƒˆã‚‚åŠ£ãƒ¢ã‚¸ãƒ¥ãƒ©ã«ãªã‚Šã¾ã™ãŒã€ç¦æ­¢åˆ¶ç´„ãŒã€Œ $y_i \to \lnot x_j \lor y_j$ ã€ã¨ãªã£ã¦ã—ã¾ã„ã€ã‚°ãƒ©ãƒ•ã§è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åŒ…å«é–¢ä¿‚ã‚’ã©ã®ã‚ˆã†ã«è¨­å®šã™ã‚Œã°ã†ã¾ãã„ããã†ã‹ã€ã‚’åˆ¤æ–­ã™ã‚‹ææ–™ã¨ã—ã¦ã€äºŒç¨®é¡ã®æ–¹é‡ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;1._åŒ…å«é–¢ä¿‚ã®ã‚ã‚‹æ¡ä»¶ã®ä¸€èˆ¬çš„ãªè¡¨ç¾&quot;&gt;1. åŒ…å«é–¢ä¿‚ã®ã‚ã‚‹æ¡ä»¶ã®ä¸€èˆ¬çš„ãªè¡¨ç¾&lt;&#x2F;h3&gt;
&lt;p&gt;&lt;a href=&quot;http:&#x2F;&#x2F;tokoharuland.hateblo.jp&#x2F;entry&#x2F;2017&#x2F;12&#x2F;25&#x2F;000003&quot;&gt;Project Selection (ç‡ƒã‚„ã™åŸ‹ã‚ã‚‹) å‘¨ã‚Šã®è©±ã«ã¤ã„ã¦ã‚‚ã†å°‘ã—è€ƒãˆãŸ - ã¨ã“ã¯ã‚‹ã®ã¾ã¨ã‚&lt;&#x2F;a&gt; ã®å¾ŒåŠã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹è€ƒãˆæ–¹ã§ã™ã€‚ $k$ çŠ¶æ…‹ã‚’å–ã‚Šã†ã‚‹å¤‰æ•°ã‚’ã€ä»Šå›ä½œã£ãŸã‚°ãƒ©ãƒ•ã®ã‚ˆã†ã«&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;$a_1 = s_1$&lt;&#x2F;li&gt;
&lt;li&gt;$a_2 = s_1 \lor s_2$&lt;&#x2F;li&gt;
&lt;li&gt;$\vdots$&lt;&#x2F;li&gt;
&lt;li&gt;$a_{k - 1} = s_1 \lor s_2 \lor \cdots \lor s _ { k - 1 }$&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ã¨ã„ã† $k - 1$ å€‹ã®é ‚ç‚¹ $a_1, a_2,  ..., a _ { k - 1 } $ ã§è¡¨ç¾ã™ã‚‹ã¨ã€ã‚°ãƒ©ãƒ•ã®å½¢ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;a_k-1 -&amp;gt; a_k-2 -&amp;gt; ... -&amp;gt; a_2 -&amp;gt; a_1&quot;&gt;[f:id:nebocco:20210315195131p:plain]&lt;figcaption&gt;a_k-1 -&amp;gt; a_k-2 -&amp;gt; ... -&amp;gt; a_2 -&amp;gt; a_1&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-03-18_yuki119&amp;#x2F;20210315195131.png&quot;  &gt;
      
      
    &lt;figcaption&gt;$a_{k-1} \to a_{k-2} \to \cdots \to a_2 \to a_1$&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;$a_k = s_1 \lor s_2 \lor \cdots \lor s _ k$ ã¯å¿…ãš $\top$ ã«ãªã‚‹ã®ã§ã€é ‚ç‚¹ã‚’ç”¨æ„ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã¾ãŸã€ $a _ {i - 1} \to a _ i$ ãŒæˆã‚Šç«‹ã¤ã®ã§ã€ $a _ {i-1} \land \lnot a _ i$ ã¨ã„ã†çŠ¶æ…‹ã«ç„¡é™ã®ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹ã‚ˆã†ã«é€†å‘ãã®è¾ºã‚’å¼µã£ã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¾ãšã¯ä¸€ã¤ã®å¤‰æ•°ã®ã¿ã«ç€ç›®ã—ã¾ã™ã€‚
1å¤‰æ•°é–¢æ•°ã¯å¿…ãšåŠ£ãƒ¢ã‚¸ãƒ¥ãƒ©ã§ã‚ã‚‹ã®ã§ã€é©åˆ‡ã«è¾ºã‚³ã‚¹ãƒˆã‚’å‰²ã‚ŠæŒ¯ã‚Šã•ãˆã™ã‚Œã°ã“ã®ã‚°ãƒ©ãƒ•ã«ã‚ˆã£ã¦å„ $s _ i$ ã®ã‚³ã‚¹ãƒˆã¯å¿…ãšè¡¨ç¾ã§ãã¾ã™ã€‚
ä¾‹ãˆã° $s_i$ ã‚’é¸ã‚“ã éš›ã®ã‚³ã‚¹ãƒˆã‚’ $\theta(s _ i)$ ã¨ã—ã¦ã€ä»¥ä¸‹ã®ã‚ˆã†ã«å¯¾å¿œã—ã¦ã„ãŸã¨ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{array}{c|cccc}
i           &amp;amp; 1 &amp;amp; 2 &amp;amp; 3 &amp;amp; 4 \\ \hline
\theta(s _ i) &amp;amp; -5 &amp;amp; 6 &amp;amp; 2 &amp;amp; -8
\end{array}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®ã¨ãã€ä»»æ„ã®å®šæ•° $w$ ã‚’ç”¨ã„ã¦ã€ç„¡æ¡ä»¶ã« $w$ ã®å ±é…¬ãŒã‚‚ã‚‰ãˆã‚‹ã¨ã—ãŸä¸Šã§ã€ä»¥ä¸‹ã®ã‚ˆã†ã«è¾ºã®ã‚³ã‚¹ãƒˆã‚’å®šã‚ã‚‹ã“ã¨ã§ $\theta$ ãŒè¡¨ç¾ã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- [f:id:nebocco:20210315195134p:plain] --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-03-18_yuki119&amp;#x2F;20210315195134.png&quot;  &gt;
      
      
    
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;$a _ i \land \lnot a _ { i - 1 } \to s _ i $ ãŒæˆã‚Šç«‹ã¤ã®ã§ã€$ a _ i , a _ { i - 1 } $ é–“ã®è¾ºã‚’åˆ‡ã‚‹ã¨ãã«ã¯
ã€Œãã®é¸æŠè‚¢ã®ã‚³ã‚¹ãƒˆ $\theta(s _ i)+$ ç„¡æ¡ä»¶ã«ã‚‚ã‚‰ãˆã¦ã—ã¾ã£ãŸå ±é…¬ $w$ã€ã®ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚
$w$ ã¯ã©ã®è¾ºã‚’é¸ã‚“ã§ã‚‚æ‰“ã¡æ¶ˆã•ã‚Œã‚‹å€¤ãªã®ã§ãªã‚“ã§ã‚‚ã‚ˆãã€é©åˆ‡ãªå€¤ã‚’ã¨ã‚‹ã“ã¨ã§è² è¾ºã‚’ãªãã™ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ¬¡ã«ã€å…¨ã¦ã®å¤‰æ•° $i$ ã«å¯¾ã—ã¦ã“ã‚Œã‚‰ã®é ‚ç‚¹ $a ^ { i } _ {d} \;( 1 \leq d &amp;lt; k ) $ ã‚’ç”¨æ„ã—ãŸã‚ã¨ã€ã‚ã‚‹é ‚ç‚¹ã‹ã‚‰åˆ¥ã®é ‚ç‚¹ã«å¼µã£ãŸè¾ºãŒã©ã®ã‚ˆã†ãªæ„å‘³ã‚’æŒã¤ã®ã‹ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚
$a ^ { i } _ { n }$ ã‹ã‚‰ $a ^ { j } _ { m }$ ã¸ã¨ã‚³ã‚¹ãƒˆ $c$ ã®è¾ºã‚’å¼µã£ã¦ã¿ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;è¾ºã¯é©å½“ã«çœç•¥ã—ã¦ã„ã¾ã™&quot;&gt;[f:id:nebocco:20210315195137p:plain]&lt;figcaption&gt;è¾ºã¯é©å½“ã«çœç•¥ã—ã¦ã„ã¾ã™&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-03-18_yuki119&amp;#x2F;20210315195137.png&quot;  &gt;
      
      
    &lt;figcaption&gt;è¾ºã¯é©å½“ã«çœç•¥ã—ã¦ã„ã¾ã™&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ã“ã®ã‚³ã‚¹ãƒˆãŒã‹ã‹ã‚‹ã®ã¯ $a ^ { i } _ { n } \land \lnot a ^ { j } _ { m }$ ã®ã¨ãã§ã™ã€‚ã¤ã¾ã‚Šã“ã®è¾ºã¯ã€Œ $i$ ãŒ $s_1, s_2, \ldots, s _ n$ ã®ã©ã‚Œã‹ã§ã‚ã‚‹ã¨ãã€$j$ ãŒ $s_1, s_2, \ldots, s _ m $ ã®ã©ã‚Œã‹ã§ãªã„ãªã‚‰ã‚³ã‚¹ãƒˆ $c$ ãŒã‹ã‹ã‚‹ã€ã¨ç¿»è¨³ã§ãã¾ã™ã€‚
å…ˆç¨‹æŒ™ã’ãŸãƒ–ãƒ­ã‚°ã®è¨€è‘‰ã‚’å€Ÿã‚Šã¦ã“ã‚Œã‚’ä¸€èˆ¬åŒ–ã™ã‚‹ã¨ã€åŒ…å«é–¢ä¿‚ã®ã‚ã‚‹é›†åˆ $A_1 \subset A_2 \subset A_3 \subset \cdots$ ã«å¤‰æ•° $v_1, v_2, v_3, \ldots$ ã‚’é…ç½®ã—ã¦ã„ãã¨ãã€ã€Œ $v _ i \in A _ n$ ã‹ã¤ $v _ j \not \in A _ m $ ãªã‚‰ã‚³ã‚¹ãƒˆ $c ;(&amp;gt; 0)$ ãŒã‹ã‹ã‚‹ã€ã¨ã„ã†æ¡ä»¶ã‚’è¡¨ç¾ã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã‚Œã‚’è¸ã¾ãˆã¦å…ƒã®å•é¡Œã®ç¦æ­¢åˆ¶ç´„ã€Œ$p _ i \to \lnot q _ j$ã€ã‚’ã€Œ$p _ i \to p _ j \lor r _ j$ã€ã¨è§£é‡ˆã™ã‚Œã°ã€ $p, p \lor r$ ã¨ã„ã†æ‹¬ã‚Šã‚’ä½œã‚‹ã“ã¨ã§ä¸Šæ‰‹ãã„ããã†ã ã€ã¨ã‚ãŸã‚Šã‚’ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã‚‹ã‹ã¨æ€ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;2._Mongeè¡Œåˆ—ã¸ã®æ„è­˜&quot;&gt;2. Mongeè¡Œåˆ—ã¸ã®æ„è­˜&lt;&#x2F;h3&gt;
&lt;p&gt;æœ¬å•é¡Œã§ã¯ã€ç¦æ­¢åˆ¶ç´„ã«é–¢ã™ã‚‹ã‚³ã‚¹ãƒˆè¡Œåˆ—ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{array}{c|ccc}
&amp;amp; p_i    &amp;amp; q_i &amp;amp; r_i \\ \hline
p_j &amp;amp; 0      &amp;amp; 0   &amp;amp; 0   \\
q_j &amp;amp; \infty &amp;amp; 0   &amp;amp; 0   \\
r_j &amp;amp; 0      &amp;amp; 0   &amp;amp; 0
\end{array}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã‚ŒãŒMongeã«ãªã‚‹ã‚ˆã†é¸æŠè‚¢ã‚’ä¸¦ã³æ›¿ãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{array}{c|ccc}
&amp;amp; p_i    &amp;amp; r_i &amp;amp; q_i \\ \hline
p_j &amp;amp; 0      &amp;amp; 0   &amp;amp; 0   \\
r_j &amp;amp; 0      &amp;amp; 0   &amp;amp; 0   \\
q_j &amp;amp; \infty &amp;amp; 0   &amp;amp; 0
\end{array}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã™ã‚‹ã¨ã“ã“ã‚’ã“ã†ã¾ã¨ã‚ãŸããªã‚Šã¾ã™ã€‚ï¼ˆï¼Ÿï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{array}{c|c:cc}
&amp;amp; p_i    &amp;amp; r_i &amp;amp; q_i \\ \hline
p_j &amp;amp; 0      &amp;amp; 0   &amp;amp; 0   \\
r_j &amp;amp; 0      &amp;amp; 0   &amp;amp; 0   \\ \hdashline
q_j &amp;amp; \infty &amp;amp; 0   &amp;amp; 0
\end{array}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã€Œ $p_i \land \lnot q_j$ ã€ $=$ ã€Œ $p_i \land \lnot (p_j \lor r_j)$ ã€ã®å ´åˆã«ã‚³ã‚¹ãƒˆã‚’ã‹ã‘ãŸã„ã®ã§ã€ $p, p \lor r$ ã¨ã„ã†äºŒç¨®é¡ã®é ‚ç‚¹ãŒã‚ã‚Œã°ã‚°ãƒ©ãƒ•ã§è¡¨ç¾å‡ºæ¥ãã†ã ãªã€ã¨ã„ã†é¢¨ã«æ€ãˆã‚‹ã€ã‚‰ã—ã„ã§ã™ã€‚ã¾ãŸã€ã“ã®ã‚ˆã†ã«ã™ã‚‹ã¨ $q, q \lor r$ ã¨ã„ã†äºŒç¨®é¡ã®é ‚ç‚¹ã‚’ä½œã£ã¦ã‚‚ãªã‚“ã¨ã‹ãªã‚Šãã†ã«æ€ãˆã¾ã™ã­ï¼ˆå®Ÿéš›ãªã‚“ã¨ã‹ãªã‚‹ï¼‰ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æ­£ç›´ã“ã®æ–¹æ³•ã«ã©ã®ãã‚‰ã„æ±ç”¨æ€§ãŒã‚ã‚‹ã®ã‹ã¯åˆ†ã‹ã‚Šã¾ã›ã‚“ã€‚ãŸã ã€ã“ã‚Œã«é™ã‚‰ãšã€ã‚°ãƒ©ãƒ•è¡¨ç¾ã‚’ã™ã‚‹ä¸Šã§ã‚³ã‚¹ãƒˆãŒåŠ£ãƒ¢ã‚¸ãƒ¥ãƒ©ã§ã‚ã‚‹ã“ã¨ãŒå¿…è¦ã ã¨ã„ã†ã“ã¨ã‚’å¸¸ã«å¿µé ­ã«ãŠããªãŒã‚‰å•é¡Œã‚’æ•´ç†ã™ã‚‹ã“ã¨ã§ã€ãªã‚“ã¨ãªãè¦‹é€šã—ã‚’ç«‹ã¦ã‚„ã™ããªã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;å‚è€ƒè¨˜äº‹&quot;&gt;å‚è€ƒè¨˜äº‹&lt;&#x2F;h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;tokoharuland.hateblo.jp&#x2F;entry&#x2F;2017&#x2F;11&#x2F;12&#x2F;234636&quot;&gt;ã€ç‡ƒã‚„ã™åŸ‹ã‚ã‚‹ã€ã¨ã€ProjectSelectionProblemã€ - ã¨ã“ã¯ã‚‹ã®ã¾ã¨ã‚&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;http:&#x2F;&#x2F;tokoharuland.hateblo.jp&#x2F;entry&#x2F;2017&#x2F;12&#x2F;25&#x2F;000003&quot;&gt;Project Selection (ç‡ƒã‚„ã™åŸ‹ã‚ã‚‹) å‘¨ã‚Šã®è©±ã«ã¤ã„ã¦ã‚‚ã†å°‘ã—è€ƒãˆãŸ - ã¨ã“ã¯ã‚‹ã®ã¾ã¨ã‚&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;kmyk.github.io&#x2F;blog&#x2F;blog&#x2F;2017&#x2F;12&#x2F;05&#x2F;minimum-cut-and-project-selection-problem&#x2F;&quot;&gt;æœ€å°ã‚«ãƒƒãƒˆã¨Project Selection Problemã®ã¾ã¨ã‚ - ã†ã•ãå°å±‹&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;theory-and-me.hatenablog.com&#x2F;entry&#x2F;2020&#x2F;03&#x2F;13&#x2F;180935&quot;&gt;ç‡ƒã‚„ã™åŸ‹ã‚ã‚‹å•é¡Œã¨åŠ£ãƒ¢ã‚¸ãƒ¥ãƒ©é–¢æ•°ã®ã‚°ãƒ©ãƒ•è¡¨ç¾å¯èƒ½æ€§ ãã®â‘  - ç§ã¨ç†è«–&lt;&#x2F;a&gt;&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC189-C Mandarin Orange è§£èª¬ï¼ˆstack æ´»ç”¨ç·¨ï¼‰</title>
        <published>2021-01-31T00:00:00+00:00</published>
        <updated>2021-01-31T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc189c_stack/"/>
        <id>https://blog.nebocco.dev/post/abc189c_stack/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc189c_stack/">&lt;p&gt;$O(N)$ ã§è§£ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$O(N \log N)$ ã¯ã“ã¡ã‚‰ â†’ &lt;a href=&quot;https:&#x2F;&#x2F;blog.nebocco.dev&#x2F;post&#x2F;abc189c_dancing_links&#x2F;&quot;&gt;ABC189-C Mandarin Orange è§£èª¬ï¼ˆDancing Links ç·¨ï¼‰&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc189&#x2F;tasks&#x2F;abc189_c&quot;&gt;AtCoder Beginner Contest 189 | C - Mandarin Orange&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;æ¦‚è¦&quot;&gt;æ¦‚è¦&lt;&#x2F;h3&gt;
&lt;p&gt;$$
\max _ {1 \leq l \leq r \leq n} \left\lbrace (r - l + 1) \cdot \min _ {l \leq i \leq r} a _ i \right\rbrace
$$&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;blog.nebocco.dev&#x2F;post&#x2F;abc189c_dancing_links&#x2F;&quot;&gt;å‰å›&lt;&#x2F;a&gt;ã«ç¶šã„ã¦ã€ä»Šå›ã¯stackã‚’ä½¿ã£ãŸè§£æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ã“ã“ã§ã¯çš¿ã®å¤§ãã•é †ã§ã¯ãªãã€ã‚·ãƒ³ãƒ—ãƒ«ã«å·¦ã‹ã‚‰è¦‹ã¦ã„ãã“ã¨ã«ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å†ã³ã€Œãã®çš¿ã®ãƒŸã‚«ãƒ³ã‚’å…¨ã¦å–ã‚‹ã¨ã—ãŸæ™‚ã€åç©«ç¯„å›²ã‚’å·¦å³ã©ã“ã¾ã§åºƒã’ã‚‰ã‚Œã‚‹ã‹ã€ã‚’è€ƒãˆã¾ã™ã€‚
ã“ã“ã§ã€å·¦ã«ä¼¸ã°ã™ã“ã¨ã¨å³ã«ä¼¸ã°ã™ã“ã¨ã¯ãŠäº’ã„ã«å½±éŸ¿ã—ãªã„ã®ã§ã€ã¾ãšã€Œã©ã“ã¾ã§å·¦ã«ä¼¸ã°ã›ã‚‹ã‹ã€ã‚’è€ƒãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã©ã“ã¾ã§ä¼¸ã°ã›ã‚‹ã‹ã¨ã„ã†ã¨ã€ã€Œè‡ªåˆ†ã‚ˆã‚Šå°ã•ãªçš¿ã®ã†ã¡æœ€ã‚‚è¿‘ã„ã‚‚ã®ã€ï¼ˆ&lt;strong&gt;å¢ƒç•Œ&lt;&#x2F;strong&gt;ï¼‰ã®ä¸€å€‹æ‰‹å‰ã¾ã§ã§ã™ã€‚å…¨ã¦ã®çš¿ã«ã¤ã„ã¦ã€å¢ƒç•Œã‚’é †ç•ªã«è¨ˆç®—ã—ã¦ã„ãã¾ã™ã€‚
ã‚ã‚‹çš¿ã®å·¦å´ãŒã“ã®ã‚ˆã†ã«ãªã£ã¦ã„ãŸã¨ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;ãŸãã•ã‚“ã®ãƒŸã‚«ãƒ³&quot;&gt;[f:id:nebocco:20210130151000p:plain]&lt;figcaption&gt;ãŸãã•ã‚“ã®ãƒŸã‚«ãƒ³&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-01-30_abc189c&amp;#x2F;20210130151000.png&quot;  &gt;
      
      
    &lt;figcaption&gt;ãŸãã•ã‚“ã®ãƒŸã‚«ãƒ³&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ã“ã®æ™‚ã€æ¬¡ã«è¦‹ã‚‹çš¿ã®å¤§ãã•ã«é–¢ã‚ã‚‰ãšã€ $11$ ã®çš¿ã¯çµ¶å¯¾ã«å¢ƒç•Œã«ã¯ãªã‚Šã¾ã›ã‚“ã€‚å³éš£ã«ã‚ã‚‹ $2$ ã®çš¿ã®æ–¹ãŒå°ã•ãã€ã—ã‹ã‚‚å¿…ãšæ¬¡ã«è¦‹ã‚‹çš¿ã«è¿‘ããªã£ã¦ã—ã¾ã†ã‹ã‚‰ã§ã™ã€‚åŒæ§˜ã«ã€ $4, 19$ ã®çš¿ã‚‚å¢ƒç•Œã«ã¯ãªã‚Šã¾ã›ã‚“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®ã‚ˆã†ã«è€ƒãˆã‚‹ã¨ã€å¢ƒç•Œã®å€™è£œã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å˜èª¿ã«å¢—åŠ ã™ã‚‹æ•°åˆ—ã¨ã—ã¦è¡¨ã•ã‚Œã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;æ®‹ã£ãŸãƒŸã‚«ãƒ³ã¯å˜èª¿å¢—åŠ &quot;&gt;[f:id:nebocco:20210130151028p:plain]&lt;figcaption&gt;æ®‹ã£ãŸãƒŸã‚«ãƒ³ã¯å˜èª¿å¢—åŠ &lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt;  --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-01-30_abc189c&amp;#x2F;20210130151028.png&quot;  &gt;
      
      
    &lt;figcaption&gt;æ®‹ã£ãŸãƒŸã‚«ãƒ³ã¯å˜èª¿å¢—åŠ &lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;å˜èª¿ãªã®ã§ã€äºŒåˆ†æ¢ç´¢ã«ã‚ˆã£ã¦å¢ƒç•Œã®ä½ç½®ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ãã®å¾Œã€ã“ã®åˆ—ã«ä»Šè¦‹ãŸçš¿ãŒè¿½åŠ ã•ã‚Œã¾ã™ãŒã€æ–°ãŸã« $9, 80$ ã®çš¿ãŒçµ¶å¯¾ã«å¢ƒç•Œã«ãªã‚‰ãªããªã‚Šã¾ã—ãŸã€‚ã‚ˆã£ã¦ã€ã“ã®çš¿ã‚‚å‰Šé™¤ã—ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;çµå±€å˜èª¿å¢—åŠ ã®ã¾ã¾&quot;&gt;[f:id:nebocco:20210130151059p:plain]&lt;figcaption&gt;çµå±€å˜èª¿å¢—åŠ ã®ã¾ã¾&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-01-30_abc189c&amp;#x2F;20210130151059.png&quot;  &gt;
      
      
    &lt;figcaption&gt;çµå±€å˜èª¿å¢—åŠ ã®ã¾ã¾&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ã“ã®æ™‚ã€å·¦å´ã§æ®‹ã£ã¦ã„ã‚‹çš¿ãŒå˜èª¿å¢—åŠ ã§ã‚ã‚‹ã“ã¨ã‹ã‚‰ã€å‰Šé™¤ã™ã‚‹ã¹ãå¤§ãã„çš¿ã¯å¸¸ã«æœ«å°¾ã«å›ºã¾ã£ã¦ã„ã‚‹ã¯ãšãªã®ã§ã€æœ«å°¾ãŒè‡ªåˆ†ã‚ˆã‚Šå¤§ãã„é™ã‚Šå‰Šé™¤ã‚’ç¶šã‘ã‚Œã°ã‚ˆã„ã§ã™ã€‚
å‰Šé™¤ãŒçµ‚ã‚ã£ãŸã¨ãã€æœ«å°¾ã«ã‚ã‚‹ã‚‚ã®ã¯å…ˆç¨‹äºŒåˆ†æ¢ç´¢ã§è¦‹ã¤ã‘ãŸå¢ƒç•Œã®ã¯ãšã§ã™ã€‚ã¨ã„ã†ã“ã¨ã¯ã€&lt;strong&gt;å…ˆã«å‰Šé™¤ã®æ“ä½œã‚’è¡Œã£ã¦ã—ã¾ãˆã°&lt;&#x2F;strong&gt;äºŒåˆ†æ¢ç´¢ã‚’ã—ãªãã¦ã‚‚å¢ƒç•Œã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã‚ˆã£ã¦ã€å·¦å´ã«ã‚ã‚‹çš¿ã‚’è“„ãˆã‚‹stackã‚’ç”¨æ„ã—ã¦ã€&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;è‡ªåˆ†ã‚ˆã‚Šå¤§ããªçš¿ã‚’å‰Šé™¤ï¼ˆæœ«å°¾ã‹ã‚‰ã®&lt;code&gt;pop&lt;&#x2F;code&gt;ã‚’ç¹°ã‚Šè¿”ã™ï¼‰&lt;&#x2F;li&gt;
&lt;li&gt;å¢ƒç•Œã‚’è¨˜éŒ²ã—ã¦ã€è‡ªåˆ†ã‚’è¿½åŠ &lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ã‚’ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€å…¨ã¦ã®çš¿ã«ã¤ã„ã¦å¢ƒç•Œï¼ˆåç©«ç¯„å›²ã®å·¦ç«¯ï¼‰ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
&lt;code&gt;push&lt;&#x2F;code&gt;ã€&lt;code&gt;pop&lt;&#x2F;code&gt;ã®è¨ˆç®—é‡ã¯ $O(1)$ ã§ã‚ã‚Šã€å…¨ã¦ã®çš¿ã¯é«˜ã€…ä¸€åº¦ã¥ã¤ã—ã‹è¿½åŠ ãƒ»å‰Šé™¤ã•ã‚Œãªã„ã®ã§ã€è¨ˆç®—é‡ã¯åˆè¨ˆã§ $O(N)$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åŒæ§˜ã«ã“ã‚Œã‚’å³å´ã‹ã‚‰è¡Œãˆã°ã€ãã‚Œãã‚Œã®åç©«ç¯„å›²ã®å³ç«¯ã‚‚æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚ˆã£ã¦å…¨ã¦ã®çš¿ã«å¯¾ã—ã¦æœ€å¤§ã®åç©«ç¯„å›²ãŒæ±‚ã¾ã‚‹ã®ã§ã€ã‚ã¨ã¯ãã‚Œã‚‰ã®ã†ã¡ç­”ãˆãŒæœ€å¤§ã«ãªã‚‹ã‚‚ã®ã‚’è¨ˆç®—ã™ã‚Œã°è‰¯ã„ã§ã™ã€‚
è¨ˆç®—é‡ã¯å…¨ä½“ã§ $O(N)$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;å¢ƒç•Œã‚’æ¢ã™ã®ã‚’ç°¡å˜ã«ã™ã‚‹ãŸã‚ã€stackã«ã¯çš¿ã®å¤§ãã•ã§ã¯ãªãindexã‚’å…¥ã‚Œã¦ã„ã¾ã™ã€‚
ã¾ãŸã€stackãŒç©ºã«ãªã£ãŸæ™‚ã®å‡¦ç†ã‚’å˜ç´”åŒ–ã™ã‚‹ãŸã‚äºˆã‚ç•ªå…µã‚’å…¥ã‚Œã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc189&#x2F;submissions&#x2F;19762458&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰&lt;&#x2F;a&gt; (Python3)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;n &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;()))
&lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ç•ªå…µ
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;left &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;n &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# left[i]: çš¿iã®å·¦ã®å¢ƒç•Œ
&lt;&#x2F;span&gt;&lt;span&gt;right &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;n
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å·¦ã‹ã‚‰è¦‹ã‚‹
&lt;&#x2F;span&gt;&lt;span&gt;st &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ç•ªå…µ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(n):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;a[st[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;a[i]:
&lt;&#x2F;span&gt;&lt;span&gt;        st.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;    left[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;st[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;    st.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(i)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å³ã‹ã‚‰
&lt;&#x2F;span&gt;&lt;span&gt;st &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[n] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ç•ªå…µ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;a[st[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span&gt;a[i]:
&lt;&#x2F;span&gt;&lt;span&gt;        st.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;    right[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;st[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;    st.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(i)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(a[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(right[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;left[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(n))
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(ans)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC189-C Mandarin Orange è§£èª¬ï¼ˆDancing Links ç·¨ï¼‰</title>
        <published>2021-01-30T00:00:00+00:00</published>
        <updated>2021-01-30T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc189c_dancing_links/"/>
        <id>https://blog.nebocco.dev/post/abc189c_dancing_links/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc189c_dancing_links/">&lt;p&gt;$O(N \log N)$ ã§è§£ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$O(N)$ ã¯ã“ã¡ã‚‰ â†’ &lt;a href=&quot;https:&#x2F;&#x2F;blog.nebocco.dev&#x2F;post&#x2F;abc189c_stack&#x2F;&quot;&gt;ABC189-C Mandarin Orange è§£èª¬ï¼ˆstack æ´»ç”¨ç·¨ï¼‰&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc189&#x2F;tasks&#x2F;abc189_c&quot;&gt;AtCoder Beginner Contest 189 | C - Mandarin Orange&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;æ¦‚è¦&quot;&gt;æ¦‚è¦&lt;&#x2F;h3&gt;
&lt;p&gt;$$
\max _ {1 \leq l \leq r \leq n} \left\lbrace (r - l + 1) \cdot \min _ {l \leq i \leq r} a _ i \right\rbrace
$$&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;ä»¥ä¸‹ã§ã¯ã€è¼‰ã£ã¦ã„ã‚‹ãƒŸã‚«ãƒ³ãŒå¤šã„çš¿ã‚’ã€Œå¤§ãã„çš¿ã€ã€å°‘ãªã„ã‚‚ã®ã‚’ã€Œå°ã•ã„çš¿ã€ã€ãƒŸã‚«ãƒ³ã‚’å–ã‚‹çš¿ã®ç¯„å›²ã‚’ã€Œåç©«ç¯„å›²ã€ã¨è¡¨ç¾ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã€Œæ¦‚è¦ã€ã§ã¯ç‰¹ã«æ–­ã‚Šãªãå¤‰å½¢ã—ã¾ã—ãŸãŒã€åç©«ç¯„å›²ã‚’æ±ºã‚ãŸã‚‰ãã“ã‹ã‚‰å–ã‚Œã‚‹ã ã‘å–ã‚ŠãŸã„ã®ã§ã€æœ€çµ‚çš„ã«ä¸€ã¤ã®çš¿ã‹ã‚‰å–ã‚‹ãƒŸã‚«ãƒ³ã®å€‹æ•°ã¯ç¯„å›²å†…ã§æœ€ã‚‚å°ã•ã„çš¿ã«ä¸€è‡´ã—ã¾ã™ã€‚
é€†ã«ä¸€ã¤ã®çš¿ã‹ã‚‰å–ã‚‹ãƒŸã‚«ãƒ³ã®å€‹æ•°ã‚’æ±ºã‚ãŸãªã‚‰ã€åç©«ç¯„å›²ã¯ã§ãã‚‹ã ã‘åºƒãã—ãŸæ–¹ãŒã„ã„ã§ã™ã€‚
ãã“ã§ã€ãã‚Œãã‚Œã®çš¿ã”ã¨ã«ã€Œãã®çš¿ã®ãƒŸã‚«ãƒ³ã‚’å…¨ã¦å–ã‚‹ã¨ã—ãŸæ™‚ã€åç©«ç¯„å›²ã‚’å·¦å³ã©ã“ã¾ã§åºƒã’ã‚‰ã‚Œã‚‹ã‹ã€ã‚’è€ƒãˆã¾ã™ã€‚ä»¥ä¸‹ã®äºŒã¤ã®æ–¹é‡ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;çš¿ãŒå¤§ãã„é †ã«èª¿ã¹ã‚‹&quot;&gt;çš¿ãŒå¤§ãã„é †ã«èª¿ã¹ã‚‹&lt;&#x2F;h3&gt;
&lt;p&gt;å˜ç´”ã«è€ƒãˆã‚‹ãŸã‚ã«ã€å…¨ã¦ã®çš¿ã«è¼‰ã£ã¦ã„ã‚‹ãƒŸã‚«ãƒ³ã®å€‹æ•°ãŒãã‚Œãã‚Œé•ã†ã¨ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¾ãšä¸€ç•ªå¤§ãã„çš¿ï¼ˆ $A$ ã¨ã—ã¾ã™ï¼‰ã‚’è¦‹ã‚‹ã¨ã€ãã®ä¸¡è„‡ã®çš¿ï¼ˆ $B, C$ ã¨ã—ã¾ã™ï¼‰ã¯ $A$ ã‚ˆã‚Šã‚‚å°ã•ã„ã®ã§ã€åç©«ç¯„å›²ã¯å·¦å³ã©ã¡ã‚‰ã«ã‚‚ä¼¸ã°ã™ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚&lt;&#x2F;p&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-01-30_abc189c&amp;#x2F;20210130144805.png&quot;  &gt;
      
      
    &lt;figcaption&gt;$A$ ã®åç©«ç¯„å›²&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ã“ã®æ™‚ã€é€†ã«çš¿ $B$ ã‹ã‚‰è¦‹ã‚‹ã¨ã€çš¿ $A$ ã¯ç¢ºå®Ÿã« $B$ ã®åç©«ç¯„å›²ã«å«ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚ˆã£ã¦ã€ $B$ ã‚’è¦‹ã‚‹ã¨ãã«ã¯ $A$ ã¯é£›ã°ã—ã¦ã€ $C$ ãŒå«ã‚ã‚‰ã‚Œã‚‹ã‹ã©ã†ã‹ã‚’èª¿ã¹ã‚Œã°ã‚ˆã„ã§ã™ã€‚ $C$ ã«ã¤ã„ã¦ã‚‚åŒæ§˜ã§ã™ã€‚
ãã“ã§ã€ $A$ ã‚’ç„¡ã‹ã£ãŸã“ã¨ã«ã—ã¦ã€ $B$ ã¨ $C$ ã‚’éš£åˆã‚ã›ã«ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-01-30_abc189c&amp;#x2F;20210130144810.png&quot;  &gt;
      
      
    &lt;figcaption&gt;$A$ ã‚’ç„¡è¦–ã™ã‚‹&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;æ¬¡ã«è¦‹ã‚‹çš¿ãŒ $B$ ã ã£ãŸã¨ã—ã¾ã™ã€‚å¤§ãã„é †ã«è¦‹ã¦ã„ã‚‹ã®ã§ã€ $C$ ã¯ $B$ ã‚ˆã‚Šã‚‚å°ã•ãã€åç©«ç¯„å›²ã«ã¯å«ã‚ã‚‰ã‚Œãªã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
é€†ã« $C$ ã‹ã‚‰è¦‹ã‚‹ã¨ã€ $C$ ã®åç©«ç¯„å›²ã‚’èª¿ã¹ã‚‹æ™‚ã«ã¯ $A$ ã ã‘ã§ãªã $B$ ã‚‚ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ã„ã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-01-30_abc189c&amp;#x2F;20210130144931.png&quot;  &gt;
      
      
    &lt;figcaption&gt;ã©ã‚“ã©ã‚“æ¶ˆãˆã¦ã„ã&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ã“ã®ã‚ˆã†ã«è€ƒãˆã¦ã„ãã¨ã€å¤§ãã„é †ã«è¦‹ã¦ã„ã‚‹å ´åˆã€&lt;&#x2F;p&gt;
&lt;p&gt;&lt;strong&gt;ã‚¹ã‚­ãƒƒãƒ—ã§ãã‚‹ã“ã¨ãŒæ±ºã¾ã£ã¦ã„ã‚‹çš¿ã¯åç©«ç¯„å›²ã«å«ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ãŒã€ãã®å…ˆï¼ˆä»Šéš£ã‚Šåˆã£ã¦ã„ã‚‹çš¿ï¼‰ã¯è‡ªåˆ†ã‚ˆã‚Šå°ã•ã„ã®ã§åç©«ç¯„å›²ã«å«ã‚ã‚‹ã“ã¨ãŒã§ããªã„&lt;&#x2F;strong&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ã‚ˆã£ã¦ã€çš¿ãŒå¤§ãã„é †ã«&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸¡éš£ã®çš¿ã«æŒŸã¾ã‚ŒãŸç¯„å›²ã‚’åç©«ç¯„å›²ã¨ã™ã‚‹&lt;&#x2F;li&gt;
&lt;li&gt;çš¿ã‚’å–ã‚Šé™¤ãã€ä¸¡éš£ã«ã‚ã£ãŸçš¿ã‚’æ–°ã—ãéš£ã‚Šåˆã‚ã›ã‚‹&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ã¨ã„ã†æ“ä½œã‚’ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€å…¨ã¦ã®çš¿ã«ã¤ã„ã¦æœ€å¤§ã®åç©«ç¯„å›²ãŒã‚ã‹ã‚‹ã®ã§ã€æœ€çµ‚çš„ãªç­”ãˆã‚‚æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¨ã“ã‚ã§ã€ä»Šã¯ã€ŒåŒã˜å¤§ãã•ã®çš¿ãŒãªã„ã€ã¨å•é¡Œã‚’å˜ç´”åŒ–ã—ã¦ã„ã¾ã—ãŸãŒã€ã“ã®åˆ¶ç´„ã‚’å¤–ã—ã¦ã‚‚ä¸Šè¿°ã®è€ƒãˆæ–¹ã§ç­”ãˆã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æœ€çµ‚çš„ãªç­”ãˆã‚’ä¸ãˆã‚‹åç©«ç¯„å›²ã‚’ã€Œæœ€é©ãªç¯„å›²ã€ã¨å‘¼ã¶ã“ã¨ã«ã—ã¾ã™ã€‚ã“ã®ç¯„å›²ã¯ã€ç¯„å›²å†…ã§æœ€å°ã®çš¿ $X$ ã«ã¤ã„ã¦æ“ä½œã‚’è¡Œã†éš›ã«å¾—ã‚‰ã‚Œã‚‹ã‚‚ã®ã®ã¯ãšã§ã™ã€‚æœ€é©ãªç¯„å›²ã®ä¸­ã«åŒã˜å¤§ãã•ã®çš¿ãŒè¤‡æ•°å€‹å«ã¾ã‚Œã¦ã„ãŸã¨ã—ã¾ã™ã€‚ã“ã‚ŒãŒ $X$ ã‚ˆã‚Šã‚‚å¤§ãã„å ´åˆã€çµå±€ $X$ ã‚’è¦‹ã¦ã„ã‚‹ã¨ãã«ã¯ã©ã¡ã‚‰ã‚‚å–ã‚Šé™¤ã‹ã‚Œã¦ã„ã¦ã€å–ã‚Šé™¤ã‹ã‚ŒãŸé †ç•ªã¯é–¢ä¿‚ã‚ã‚Šã¾ã›ã‚“ã€‚ $X$ ã¨åŒã˜å¤§ãã•ã®çš¿ãŒã‚ã£ãŸå ´åˆã€ãã‚Œã‚‰ã‚’å‡¦ç†ã—ã¦ã‹ã‚‰æœ€å¾Œã« $X$ ã®æ“ä½œã‚’è¡Œã†ã“ã¨ã«ã™ã‚Œã°ã€æœ€é©ãªåŒºé–“ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚ã•ã‚‰ã«ã€åŒã˜å¤§ãã•ã®çš¿ã§ã‚ã‚Œã°ã©ã‚Œã‚’ $X$ ã«é¸ã‚“ã§ã‚‚é–¢ä¿‚ãŒãªãã€é©å½“ãªé †ç•ªã«æ“ä½œã‚’ã—ã¦æœ€å¾Œã«ãªã£ãŸã‚‚ã®ã‚’ $X$ ã¨ã—ã¦ã—ã¾ãˆã°è‰¯ã„ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã‚ˆã£ã¦ã€åŒã˜å¤§ãã•ã®çš¿ãŒå«ã¾ã‚Œã¦ã„ã‚‹å ´åˆã§ã‚‚ã€ãã‚Œã‚‰ã«ã¤ã„ã¦ã¯é †ä¸åŒã§æ“ä½œã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®è§£æ³•ã‚’ã‚³ãƒ¼ãƒ‰ã«è½ã¨ã—è¾¼ã‚€éš›ã€å®Ÿéš›ã«é…åˆ—ã‹ã‚‰å‰Šé™¤ã—ã¦ã„ãã®ã¯åŠ¹ç‡ãŒæ‚ªã„ã§ã™ã€‚ãã“ã§ã€ã™ã¹ã¦ã®çš¿ã«å¯¾ã—ã¦è‡ªèº«ã®å·¦å³ã®çš¿ã¸ã®ãƒã‚¤ãƒ³ã‚¿ã‚’æŒãŸã›ã¾ã™ã€‚ã¨ã„ã£ã¦ã‚‚ã€å¯¾å¿œã™ã‚‹çš¿ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’æŒãŸã›ã¦ãƒã‚¤ãƒ³ã‚¿ä»£ã‚ã‚Šã«ã™ã‚Œã°è‰¯ã„ã§ã™ã€‚
ã‚ã‚‹çš¿ã«ã¤ã„ã¦æ“ä½œã‚’ã™ã‚‹ã¨ãã€å·¦å³ã®çš¿ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‹ã‚‰åç©«ç¯„å›²ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ãã—ã¦çš¿ã‚’å–ã‚Šé™¤ãéš›ã«ã¯ã€ä»£ã‚ã‚Šã«å·¦å³ã®çš¿ã®ãƒã‚¤ãƒ³ã‚¿ã‚’ä»˜ã‘æ›¿ãˆã¦ã‚ã’ã¾ã™ã€‚ã“ã†ã™ã‚‹ã“ã¨ã§è‡ªåˆ†è‡ªèº«ã‚’ã‚¹ã‚­ãƒƒãƒ—ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;!-- &lt;figure class=&quot;figure-image figure-image-fotolife&quot; title=&quot;ä¸¡éš£ã®ãƒã‚¤ãƒ³ã‚¿ã‚’ã¡ã‚‡ã£ã¨ã„ã˜ã‚‹&quot;&gt;[f:id:nebocco:20210130144957p:plain]
&lt;figcaption&gt;ä¸¡éš£ã®ãƒã‚¤ãƒ³ã‚¿ã‚’ã¡ã‚‡ã£ã¨ã„ã˜ã‚‹&lt;&#x2F;figcaption&gt;&lt;&#x2F;figure&gt; --&gt;

  &lt;figure class=&quot;&quot;&gt;
    
      
      &lt;img src=&quot;&amp;#x2F;assets&amp;#x2F;2021-01-30_abc189c&amp;#x2F;20210130144957.png&quot;  &gt;
      
      
    &lt;figcaption&gt;ä¸¡éš£ã®ãƒã‚¤ãƒ³ã‚¿ã‚’ã¡ã‚‡ã£ã¨ã„ã˜ã‚‹&lt;&#x2F;figcaption&gt;
  &lt;&#x2F;figure&gt;
  
&lt;p&gt;ãƒã‚¤ãƒ³ã‚¿ã®ä»˜ã‘æ›¿ãˆã¯ $O(1)$ ã§æ¸ˆã‚€ã®ã§ã€å…¨ä½“ã®è¨ˆç®—é‡ã¯æœ€åˆã®ã‚½ãƒ¼ãƒˆãŒãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã«ãªã‚Š $O(N\log N)$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;å®Ÿè£…ã®éš›ã¯ä¸¡ç«¯ã®å‡¦ç†ã«æ³¨æ„ã—ã¾ã—ã‚‡ã†ã€‚ä¸¡ç«¯ã«å¤§ãã• $0$ ã®çš¿ã‚’ç•ªå…µã¨ã—ã¦ç½®ã„ã¦ãŠãã¨è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚
ä»¥ä¸‹ã®å®Ÿè£…ã§ã¯Pythonã®ä»•æ§˜ã‚’åˆ©ç”¨ã—ã¦ã€æœ«å°¾ã«ä¸€ã¤ç•ªå…µã‚’è¶³ã™ã“ã¨ã§æ¸ˆã¾ã›ã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc189&#x2F;submissions&#x2F;19762458&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰&lt;&#x2F;a&gt; (Python3)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;n &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;()))
&lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ç•ªå…µ
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;left &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, n)) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# left[i]: çš¿iã®å·¦éš£ã®çš¿ã®ç•ªå·
&lt;&#x2F;span&gt;&lt;span&gt;right &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, n&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å¤§ãã„é †ã«å‡¦ç†
&lt;&#x2F;span&gt;&lt;span&gt;l &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(n))
&lt;&#x2F;span&gt;&lt;span&gt;l.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;sort&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;key&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;=&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;lambda &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;i&lt;&#x2F;span&gt;&lt;span&gt;: a[i])
&lt;&#x2F;span&gt;&lt;span&gt;l.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;reverse&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;l:
&lt;&#x2F;span&gt;&lt;span&gt;    s &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;right[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;left[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# åç©«ç¯„å›²
&lt;&#x2F;span&gt;&lt;span&gt;    ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(ans, s &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;a[i])
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ã€Œå·¦éš£ã®å³éš£ã€ã¨ã€Œå³éš£ã®å·¦éš£ã€ã‚’æ›¸ãæ›ãˆã‚‹
&lt;&#x2F;span&gt;&lt;span&gt;    right[left[i]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;right[i]
&lt;&#x2F;span&gt;&lt;span&gt;    left[right[i]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;left[i]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(ans)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC128-C Switches è§£èª¬</title>
        <published>2021-01-13T00:00:00+00:00</published>
        <updated>2021-01-13T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc128c/"/>
        <id>https://blog.nebocco.dev/post/abc128c/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc128c/">&lt;p&gt;$O(M ^ 2)$ ï¼ˆä¸€èˆ¬ã® $N, M$ ã«ã¤ã„ã¦ã¯ $O(NM ^ 2)$ ï¼‰ã§è§£ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc128&#x2F;tasks&#x2F;abc128_c&quot;&gt;AtCoder Beginner Contest 128 | C - Switches&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;æ¦‚è¦&quot;&gt;æ¦‚è¦&lt;&#x2F;h3&gt;
&lt;p&gt;$N$ å€‹ã®ã‚¹ã‚¤ãƒƒãƒã¨ $M$ å€‹ã®é›»çƒãŒã‚ã‚‹ã€‚$i$ ç•ªç›®ã®ã‚¹ã‚¤ãƒƒãƒ $ (1\leq i\leq N) $ ã¯ $k_i$ å€‹ã®é›»çƒ $s_{i1}, s_{i2}, \ldots, s_{ik_i} (1 \leq s_{ij} \leq M)$ ã®çŠ¶æ…‹ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã€‚
å…¨ã¦ã®é›»çƒã‚’ ON ã«ã™ã‚‹ã‚¹ã‚¤ãƒƒãƒã® ON &#x2F; OFF ã®æ±ºã‚æ–¹ã¯ä½•é€šã‚Šã‹ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;editorial è§£ã¯ç´ æœ´ãªå…¨æ¢ç´¢ã§ã™ãŒã€ç·šå½¢ä»£æ•°ã‚’ç”¨ã„ã¦è¨ˆç®—é‡ã‚’æ”¹å–„ã—ã¾ã™ã€‚
(å¤§å­¦ä¸€å¹´ç”Ÿãƒ¬ãƒ™ãƒ«ã®ç·šå½¢ä»£æ•°ã®çŸ¥è­˜ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚)&lt;&#x2F;p&gt;
&lt;p&gt;$N$ æ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ« $\bm{x}$ã€$N \times M $ è¡Œåˆ— $A$ ã‚’ãã‚Œãã‚Œ&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{aligned}
\bm{x} _ i &amp;amp;=
\begin{cases}
1 &amp;amp; \text{(ã‚¹ã‚¤ãƒƒãƒ $i$ ãŒ ON)} \newline
0 &amp;amp; \text{(OFF)}
\end{cases} \newline
A _ {ij} &amp;amp;=
\begin{cases}
1 &amp;amp; \text{(é›»çƒ $i$ ãŒã‚¹ã‚¤ãƒƒãƒ $j$ ã®å½±éŸ¿ã‚’å—ã‘ã‚‹)} \newline
0 &amp;amp; \text{(å—ã‘ãªã„)}
\end{cases}
\end{aligned}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã¨å®šç¾©ã—ã¾ã™ã€‚æ±‚ã‚ã‚‹ç­”ãˆã¯å…¥åŠ›ã§ä¸ãˆã‚‰ã‚Œã‚‹ $\bm{p}$ ã‚’ç”¨ã„ã¦ã€$\bm{x}$ ã«ã¤ã„ã¦ã®&lt;&#x2F;p&gt;
&lt;p&gt;$$
A\bm{x} \equiv \bm{p} \quad (\mathrm{mod}\:2)
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã®è§£ã®å€‹æ•°ã«ç­‰ã—ã„ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®è§£ã¯æ‹¡å¤§ä¿‚æ•°è¡Œåˆ— $(A\mid\bm{p})$ ã«æƒãå‡ºã—æ³•ã‚’è¡Œã†ã“ã¨ã§æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã¾ãŸã€è§£ã®è‡ªç”±åº¦ã‚’ $r$ ã¨ã™ã‚‹ã¨ $r = N - \mathrm{rank}(A\mid\bm{p})$ ã§ã™ã€‚
ã¤ã¾ã‚Š $r$ å€‹ã®ã‚¹ã‚¤ãƒƒãƒã«ã¤ã„ã¦ã¯ ON &#x2F; OFF ã‚’è‡ªç”±ã«æ±ºå®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã€è§£ã®å€‹æ•°ã¯ $2 ^ r$ ã§ã™ã€‚
ãŸã ã—ã€ä¿‚æ•°è¡Œåˆ—éƒ¨åˆ†ãŒå…¨ã¦ $0$ ãªã®ã«å®šæ•°é …ãŒ $0$ ã§ãªã„ã‚ˆã†ãªè¡ŒãŒå­˜åœ¨ã—ãŸå ´åˆã¯ &lt;strong&gt;è§£ãªã—&lt;&#x2F;strong&gt; ã¨ãªã‚‹ãŸã‚æ³¨æ„ã—ã¦ãã ã•ã„ã€‚è¨ˆç®—é‡ã¯ $O(NM ^ 2)$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã•ã‚‰ã«ã€æ¼”ç®—ãŒ $\mathrm{mod}\:2$ ä¸Šã§è¡Œã‚ã‚Œã‚‹ã“ã¨ã€ $N$ ãŒãƒ¯ãƒ¼ãƒ‰ã‚µã‚¤ã‚ºã«åã¾ã‚‹ $(\leq 32)$ ã“ã¨ã‹ã‚‰ã€
ä»¥ä¸‹ã®å®Ÿè£…ã§ã¯ $A$ ã‚’ãƒ“ãƒƒãƒˆã§è¡¨ç¾ã—ã€æƒãå‡ºã—æ³•ã‚’ãƒ“ãƒƒãƒˆæ¼”ç®—ã«ã‚ˆã£ã¦è¡Œã£ã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{array}{ccc}
A =
\begin{pmatrix}
0 &amp;amp; 1 &amp;amp; 1 &amp;amp; 0 &amp;amp; 1 \newline
0 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 1 \newline
1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 &amp;amp; 0 \newline
0 &amp;amp; 1 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 \newline
0 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0 &amp;amp; 1 \newline
1 &amp;amp; 1 &amp;amp; 1 &amp;amp; 0 &amp;amp; 0
\end{pmatrix} &amp;amp;
\longrightarrow &amp;amp;
A =
\begin{pmatrix}
\mathrm{01101} _ {(2)} \newline
\mathrm{00011} _ {(2)} \newline
\mathrm{10010} _ {(2)} \newline
\mathrm{01100} _ {(2)} \newline
\mathrm{01001} _ {(2)} \newline
\mathrm{11100} _ {(2)}
\end{pmatrix} =
\begin{pmatrix}
13 \newline 3 \newline 18 \newline 12 \newline 9 \newline 28
\end{pmatrix}
\end{array}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã‚Œã«ã‚ˆã‚Šè¨ˆç®—é‡ã¯ $O(M ^ 2)$ ã«ãªã£ã¦ã„ã¾ã™ã€‚ $N$ ãŒå¤§ãã„å ´åˆã«ã‚‚ã€Python ã®å¤šå€é•·æ•´æ•°ã‚„ C++ ã® &lt;code&gt;bitset&lt;&#x2F;code&gt; ã‚’ç”¨ã„ã¦åŒæ§˜ã®å·¥å¤«ã‚’è¡Œãªã†ã“ã¨ã§ã€å®šæ•°å€ã‚’å¤§ããæ”¹å–„ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc128&#x2F;submissions&#x2F;19415164&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰&lt;&#x2F;a&gt; (Python)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;N, M &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;s &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;()))[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(M)]
&lt;&#x2F;span&gt;&lt;span&gt;p &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;()))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# è¡Œåˆ— A ã®æ§‹ç¯‰
&lt;&#x2F;span&gt;&lt;span&gt;A &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;M
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(M):
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;s[i]:
&lt;&#x2F;span&gt;&lt;span&gt;    A[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;|= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;(N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;x)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# æ‹¡å¤§
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(M):
&lt;&#x2F;span&gt;&lt;span&gt;  A[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;A[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;| &lt;&#x2F;span&gt;&lt;span&gt;p[i]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# æƒãå‡ºã—æ³•
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# mod2 ãªã®ã§ XOR ã§ã‚ˆã„
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(M):
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# æœ€ã‚‚é«˜ã„ bit ãŒç«‹ã£ã¦ã„ã‚‹è¡Œã‚’æ¢ã™
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, M):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;A[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;A[j]:
&lt;&#x2F;span&gt;&lt;span&gt;      A[i], A[j] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;A[j], A[i]
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;A[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;break
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# æƒãå‡ºã™
&lt;&#x2F;span&gt;&lt;span&gt;  msb &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span&gt;(A[i].&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;bit_length&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(M):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span&gt;i:
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;continue
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;A[j] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp; &lt;&#x2F;span&gt;&lt;span&gt;msb:
&lt;&#x2F;span&gt;&lt;span&gt;      A[j] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;^= &lt;&#x2F;span&gt;&lt;span&gt;A[i]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ä¿‚æ•°ãŒå…¨ã¦0 ã‹ã¤ å®šæ•°é …ãŒ1 ã®è¡ŒãŒã‚ã‚‹ &amp;lt;=&amp;gt; è§£ãªã—
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;A:
&lt;&#x2F;span&gt;&lt;span&gt;  ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;  rank &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= sum&lt;&#x2F;span&gt;&lt;span&gt;(x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;A)
&lt;&#x2F;span&gt;&lt;span&gt;  ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= pow&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;, N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;rank)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(ans)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC142-F Pure è§£èª¬</title>
        <published>2021-01-13T00:00:00+00:00</published>
        <updated>2021-01-13T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc142f/"/>
        <id>https://blog.nebocco.dev/post/abc142f/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc142f/">&lt;p&gt;$O(N+M)$ ã§è§£ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc142&#x2F;tasks&#x2F;abc142_f&quot;&gt;AtCoder Beginner Contest 142 | F - Pure&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;æ¦‚è¦&quot;&gt;æ¦‚è¦&lt;&#x2F;h3&gt;
&lt;p&gt;$N$ é ‚ç‚¹ $M $ è¾ºã®æœ‰å‘ã‚°ãƒ©ãƒ•ãŒä¸ãˆã‚‰ã‚Œã‚‹ã€‚æ¥µå°ã®ã‚µã‚¤ã‚¯ãƒ«ã‚’ä¸€ã¤è¦‹ã¤ã‘ã‚ˆã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;å•é¡Œæ–‡ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹æ¡ä»¶ã¯ã€Œæ¦‚è¦ã€ã®ã‚ˆã†ã«è¨€ã„æ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
editorial ã§ã¯&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;æœ€å°ã®ã‚µã‚¤ã‚¯ãƒ«ã‚’è¦‹ã¤ã‘ã‚‹&lt;&#x2F;li&gt;
&lt;li&gt;ã‚µã‚¤ã‚¯ãƒ«ã‚’ä¸€ã¤è¦‹ã¤ã‘ã€ã©ã‚“ã©ã‚“å°ã•ãã—ã¦ã„ã&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ã®äºŒé€šã‚Šã®æ–¹æ³•ã§è§£ã„ã¦ãŠã‚Šã€ã©ã¡ã‚‰ã‚‚è¨ˆç®—é‡ã¯ $O(N(N + M))$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®ã†ã¡å¾Œè€…ã®æ–¹æ³•ã¯&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;ã‚µã‚¤ã‚¯ãƒ«ã‚’ä¸€ã¤è¦‹ã¤ã‘ã‚‹&lt;&#x2F;li&gt;
&lt;li&gt;ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆãŒã§ãã‚‹é™ã‚Šã€ã‚ˆã‚Šå°ã•ãªã‚µã‚¤ã‚¯ãƒ«ã«æ›´æ–°ã—ã¦ã„ã&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ã®äºŒã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã‹ã‚‰ãªã£ã¦ã„ã¾ã™ã€‚ã“ã®è§£æ³•ã‚’ãƒ™ãƒ¼ã‚¹ã«é€²ã‚ã¦ã„ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ã‚µã‚¤ã‚¯ãƒ«ã‚’ä¸€ã¤è¦‹ã¤ã‘ã‚‹&quot;&gt;ã‚µã‚¤ã‚¯ãƒ«ã‚’ä¸€ã¤è¦‹ã¤ã‘ã‚‹&lt;&#x2F;h3&gt;
&lt;p&gt;ã“ã®ãƒ‘ãƒ¼ãƒˆã¯ç‰¹ã«å·¥å¤«ã¯è¦ã‚Šã¾ã›ã‚“ã€‚
ã€Œæœ‰å‘ã‚°ãƒ©ãƒ• ã‚µã‚¤ã‚¯ãƒ« æ¤œå‡ºã€ãªã©ã§æ¤œç´¢ã™ã‚‹ã¨ãŸãã•ã‚“å‡ºã¦ãã‚‹ã®ã§èª¿ã¹ã¦ã¿ã¦ãã ã•ã„ã€‚
æ·±ã•å„ªå…ˆæ¢ç´¢ã‚’è¡Œã†ã ã‘ã§ã¯ã‚ã‚Šã¾ã™ãŒã€éå†å¸°ã§å®Ÿè£…ã™ã‚‹ã®ã¯ã¡ã‚‡ã£ã¨ã ã‘å¤§å¤‰ã§ã™ã€‚
è¨ˆç®—é‡ã¯ $O(N + M)$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;å°ã•ãªã‚µã‚¤ã‚¯ãƒ«ã«æ›´æ–°ã—ã¦ã„ã&quot;&gt;å°ã•ãªã‚µã‚¤ã‚¯ãƒ«ã«æ›´æ–°ã—ã¦ã„ã&lt;&#x2F;h3&gt;
&lt;p&gt;æº–å‚™ã¨ã—ã¦ã€&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{aligned}
\mathit{used}[v] &amp;amp;= \begin{cases}
\mathrm{true} &amp;amp; \text{(é ‚ç‚¹ $v$ ãŒã‚µã‚¤ã‚¯ãƒ«ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹)} \\
\mathrm{false} &amp;amp; \text{(ä½¿ã‚ã‚Œã¦ã„ãªã„)}
\end{cases} \\
\mathit{next}[v] &amp;amp;= \text{ã‚µã‚¤ã‚¯ãƒ«ä¸Šã§ $v$ ã®æ¬¡ã®é ‚ç‚¹}
\end{aligned}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã§ã‚ã‚‹ã‚ˆã†ãªé…åˆ— $\mathit{used}, \mathit{next}$ ã‚’ä½œã£ã¦ãŠãã¾ã™ã€‚ã‚µã‚¤ã‚¯ãƒ«ã«ä½¿ã‚ã‚Œã¦ã„ãªã„é ‚ç‚¹ã¯ $\mathit{next}$ ã«ä½•ãŒå…¥ã£ã¦ã„ã¦ã‚‚ã„ã„ã“ã¨ã¨ã—ã¾ã™ã€‚ã‚µã‚¤ã‚¯ãƒ«ã®é•·ã•ã¯é«˜ã€… $N$ ãªã®ã§ã€ã“ã‚Œã‚‰ã®é…åˆ—ã¯ $O(N)$ ã§è¨ˆç®—å¯èƒ½ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;æº–å‚™ãŒã§ããŸã‚‰ã€è¾ºã‚’é †ç•ªã«è¦‹ã¦ã„ãã¾ã™ã€‚è¾º $uv$ ã«ã¤ã„ã¦ $\mathit{used}[u] = \mathrm{true}, \mathit{used}[v] = \mathrm{true}, \mathit{next}[u] \neq v$ ã§ã‚ã‚‹ã‚ˆã†ãªæ™‚ã¯ã€ä¸‹å›³ã®ã‚ˆã†ãªçŠ¶æ³ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;&#x2F;assets&#x2F;2021-01-13_abc142f&#x2F;20210113193158.png&quot; alt=&quot;èµ¤ã„è¾ºã‚’ä½¿ãˆã°ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã§ãã‚‹&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®ã‚ˆã†ã«ã€ $u$ ã‹ã‚‰ $v$ ã¸ã®çµŒè·¯ã‚’è¾º $uv$ ã«ç½®ãæ›ãˆã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šå°ã•ãªã‚µã‚¤ã‚¯ãƒ«ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã“ã§ã®æ›´æ–°å‡¦ç†ãŒé‡è¦ã§ã€
&lt;strong&gt;ã‚µã‚¤ã‚¯ãƒ«ä¸Šã§ $u$ ã‹ã‚‰ $v$ ã®é–“ã«ã‚ã‚‹é ‚ç‚¹ã® $\mathit{used}$ ã‚’ $\mathrm{false}$ ã«ã™ã‚‹&lt;&#x2F;strong&gt;
ã¨ã„ã†å‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚ã‚‚ã¡ã‚ã‚“ $\mathit{next}[u]$ ã®æ›´æ–°ã‚‚å¿˜ã‚Œãšã«è¡Œã£ã¦ãã ã•ã„ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã‚µã‚¤ã‚¯ãƒ«ã‚’ç¸®ã‚ã‚‹æ“ä½œã¯ä½•åº¦ã‹è¡Œã†å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã®æ–¹æ³•ã§ã¯ä¸€åº¦ $\mathrm{false}$ ã«ãªã£ãŸé ‚ç‚¹ã¯ãã®å¾Œå‡¦ç†ã®å¯¾è±¡ã¨ãªã‚Šã¾ã›ã‚“ã€‚ãã®ãŸã‚ã€å…¨ã¦ã®è¾ºã«å¯¾ã™ã‚‹å‡¦ç†ã¯åˆè¨ˆã—ã¦ã‚‚ $O(N+M)$ ã§æ¸ˆã¿ã¾ã™ã€‚
ä¸€æ–¹ã€$v$ ã‹ã‚‰ $u$ ã¸ã¨è¾¿ã£ã¦ã‚µã‚¤ã‚¯ãƒ«ã‚’å†æ§‹æˆã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚µã‚¤ã‚¯ãƒ«ã®å¤§ãã•ãŒ $N \to N-1 \to N-2 \to \cdots$ ã¨å¤‰åŒ–ã™ã‚‹ã‚ˆã†ãªå ´åˆã« $O(N ^ 2)$ ã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¾ãŸã€ã“ã®å‡¦ç†ã®éç¨‹ã§ã‚µã‚¤ã‚¯ãƒ«ã«æ–°ãŸãªé ‚ç‚¹ãŒè¿½åŠ ã•ã‚Œã‚‹ã“ã¨ã¯ãªã„ã®ã§ã€ãã‚Œã¾ã§ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã«ä½¿ãˆãªã‹ã£ãŸè¾ºãŒæ–°ã—ãä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
ãªã®ã§ã€é †ç•ªã‚’æ°—ã«ã™ã‚‹ã“ã¨ãªãå…¨ã¦ã®è¾ºã‚’ä¸€å›ãšã¤è¦‹ã‚‹ã ã‘ã§ã€ãã‚Œä»¥ä¸Šã®ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆãŒä¸å¯èƒ½ãªæ¥µå°ã®ã‚µã‚¤ã‚¯ãƒ«ã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¨ˆç®—é‡ã¯å…¨ä½“ã§ $O(N+M)$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc142&#x2F;submissions&#x2F;19417394&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰&lt;&#x2F;a&gt; (Python)&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;N, M &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;edges &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;tuple&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;())) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(M)]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;G &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(u, v) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;edges:
&lt;&#x2F;span&gt;&lt;span&gt;  G[u].&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(v)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ã‚µã‚¤ã‚¯ãƒ«æ¤œå‡º
&lt;&#x2F;span&gt;&lt;span&gt;seen &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# -1: æœªåˆ°é”
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# 0: stackè¿½åŠ æ¸ˆã¿
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# 1: è¡ŒããŒã‘ã§é€šéæ¸ˆã¿(cycleå€™è£œ)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# 2: å¸°ã‚ŠãŒã‘ã§é€šéæ¸ˆã¿
&lt;&#x2F;span&gt;&lt;span&gt;curr_path &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]
&lt;&#x2F;span&gt;&lt;span&gt;stack &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;dfs&lt;&#x2F;span&gt;&lt;span&gt;():
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;seen[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;continue
&lt;&#x2F;span&gt;&lt;span&gt;    stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(i)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;stack:
&lt;&#x2F;span&gt;&lt;span&gt;      u &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;u &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# è¡ŒããŒã‘
&lt;&#x2F;span&gt;&lt;span&gt;        stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;u)
&lt;&#x2F;span&gt;&lt;span&gt;        curr_path.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(u)
&lt;&#x2F;span&gt;&lt;span&gt;        seen[u] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;v &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;G[u]:
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;seen[v] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== -&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            seen[v] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span&gt;            stack.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(v)
&lt;&#x2F;span&gt;&lt;span&gt;          &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;elif &lt;&#x2F;span&gt;&lt;span&gt;seen[v] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            cycle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;curr_path[curr_path.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;(v):]
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;cycle
&lt;&#x2F;span&gt;&lt;span&gt;      &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;: &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å¸°ã‚ŠãŒã‘
&lt;&#x2F;span&gt;&lt;span&gt;        seen[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;u] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;        curr_path.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;list&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;cycle &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;dfs&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if not &lt;&#x2F;span&gt;&lt;span&gt;cycle:
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;exit&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ã‚µã‚¤ã‚¯ãƒ«ã‚’å°ã•ãã™ã‚‹
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# æº–å‚™
&lt;&#x2F;span&gt;&lt;span&gt;used &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;False&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;next = &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(cycle)):
&lt;&#x2F;span&gt;&lt;span&gt;  used[cycle[i]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;True
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;next&lt;&#x2F;span&gt;&lt;span&gt;[cycle[i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;cycle[i]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã§ãã‚‹ã‹ç¢ºã‹ã‚ã‚‹
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(u, v) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;edges:
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;used[u] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;used[v] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;and &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;next&lt;&#x2F;span&gt;&lt;span&gt;[u] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span&gt;v:
&lt;&#x2F;span&gt;&lt;span&gt;    w &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= next&lt;&#x2F;span&gt;&lt;span&gt;[u]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;w &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span&gt;v:
&lt;&#x2F;span&gt;&lt;span&gt;      used[w] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;False
&lt;&#x2F;span&gt;&lt;span&gt;      w &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= next&lt;&#x2F;span&gt;&lt;span&gt;[w]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;next&lt;&#x2F;span&gt;&lt;span&gt;[u] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;v
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ã‚µã‚¤ã‚¯ãƒ«å¾©å…ƒ
&lt;&#x2F;span&gt;&lt;span&gt;u &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;used.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;True&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[u]
&lt;&#x2F;span&gt;&lt;span&gt;v &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= next&lt;&#x2F;span&gt;&lt;span&gt;[u]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;v &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;!= &lt;&#x2F;span&gt;&lt;span&gt;u:
&lt;&#x2F;span&gt;&lt;span&gt;  ans.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(v)
&lt;&#x2F;span&gt;&lt;span&gt;  v &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= next&lt;&#x2F;span&gt;&lt;span&gt;[v]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(ans))
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;ans:
&lt;&#x2F;span&gt;&lt;span&gt;  &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(x)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4 id=&quot;ä½™è«‡&quot;&gt;ä½™è«‡&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc142&#x2F;submissions&#x2F;19417479&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ã‚¦ã‚±ã¾ã™ã­&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC187-B Gentle Pairs è§£èª¬</title>
        <published>2021-01-07T00:00:00+00:00</published>
        <updated>2021-01-07T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc187b/"/>
        <id>https://blog.nebocco.dev/post/abc187b/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc187b/">&lt;p&gt;\(O(N \log N)\) ã§è§£ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc187&#x2F;tasks&#x2F;abc187_b&quot;&gt;AtCoder Beginner Contest 187 | B - Gentle Pairs&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;æ¦‚è¦&quot;&gt;æ¦‚è¦&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸ãˆã‚‰ã‚Œã‚‹ç‚¹ã®é›†åˆ \(S\) ã®ä¸­ã‹ã‚‰äºŒç‚¹ã‚’é¸ã¶ã¨ãã€ãã‚Œã‚‰ã‚’çµã‚“ã ç›´ç·šã®å‚¾ããŒ \(-1\) ä»¥ä¸Š \(1\) ä»¥ä¸‹ã«ãªã‚‹çµ„ã¿åˆã‚ã›ã¯ã„ãã¤ã‚ã‚‹ã‹ï¼Ÿ&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;editorial è§£ã¯å˜ç´”ã«ã™ã¹ã¦ã®ãƒšã‚¢ã«ã¤ã„ã¦èª¿ã¹ã‚‹ã ã‘ã§ã™ãŒã€ã“ã“ã§ã¯ä»–ã®è§£ãæ–¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¾ãšã€ã“ã†ã„ã†å›³ã‚’æƒ³åƒã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;&#x2F;assets&#x2F;2021-01-07_abc187b&#x2F;20210108160250.png&quot; alt=&quot;ã“ã†ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;ç‚¹ \(\mathrm{P}\) ã¨çµã‚“ã æ™‚ã«å‚¾ããŒ \(-1\) ä»¥ä¸Š \(1\) ä»¥ä¸‹ã«ãªã‚‹ã®ã¯ç°è‰²ã§å¡—ã‚‰ã‚ŒãŸç¯„å›²ã§ã™ã€‚ã‚ˆã£ã¦ã€ \((\mathrm{P}, \mathrm{Q})\) ã¯æ¡ä»¶ã‚’æº€ãŸã—ã¾ã™ãŒã€ \((\mathrm{P}, \mathrm{R})\) ã¯æº€ãŸã•ãªã„ã“ã¨ãŒè¦‹ã¦å–ã‚Œã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®å›³ã‚’å·¦ã« \(45^\circ\) å›è»¢ã—ã¦ã¿ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;img src=&quot;&#x2F;assets&#x2F;2021-01-07_abc187b&#x2F;20210108160203.png&quot; alt=&quot;45Â°å›è»¢ã—ãŸå›³&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;p&gt;\(45^\circ\) å›è»¢ã—ãŸåº§æ¨™ç³»ã‚’æ–°ãŸã«è€ƒãˆã‚‹ã¨ã€å•é¡Œã®æ¡ä»¶ã¯ã€Œè‡ªåˆ†ã‚ˆã‚Šå·¦ä¸‹ã€ã¾ãŸã¯å³ä¸Šã«ã‚ã‚‹ã€ã¨è¨€ã„æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã‚ˆã£ã¦ã€å…¨ã¦ã®ç‚¹ã«ã¤ã„ã¦è‡ªèº«ã®å·¦ä¸‹ã«ã„ãã¤ã®ç‚¹ãŒã‚ã‚‹ã‹ã‚’æ•°ãˆã‚‹ã“ã¨ã§ã€å…¨ã¦ã®ãƒšã‚¢ã‚’é‡è¤‡ãªãæ•°ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã‚Œã¯ã€ \(X\) åº§æ¨™ã®å°ã•ã„é †ã«ç‚¹ã‚’è¦‹ã¦ã„ãã€ä»Šè¦‹ã¦ã„ã‚‹ç‚¹ã‚ˆã‚Š \(Y\) åº§æ¨™ã®å°ã•ãªç‚¹ãŒã“ã‚Œã¾ã§ã«ã„ãã¤ã‚ã£ãŸã‹ãŒè¨ˆç®—ã§ãã‚Œã°è‰¯ã„ã®ã§ã€
å¹³è¡¡äºŒåˆ†æœ¨ã‚„Fenwick Treeã‚’ä½¿ã†ã“ã¨ã§ \(O(N \log N)\) ã§è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚
ï¼ˆã€Œå¹³é¢èµ°æŸ»ã€ã¨å‘¼ã°ã‚Œã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§ã™ã€‚ï¼‰&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;ä»Šå›ã®åˆ¶ç´„ã§ã¯ã‚ã–ã‚ã–åº§æ¨™åœ§ç¸®ã‚’è¡Œã†å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€è² æ•°ãŒãªããªã‚‹ã‚ˆã†åº•ä¸Šã’ã™ã‚‹å‡¦ç†ãŒå¿…è¦ãªã®ã§ã›ã£ã‹ãã ã—ã‚„ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc187&#x2F;submissions&#x2F;19253538&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰ï¼ˆPythonï¼‰&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;class &lt;&#x2F;span&gt;&lt;span&gt;FenwickTree:
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å®Ÿè£…ç•¥
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;P &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;tuple&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;())) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N)]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# åº§æ¨™å¤‰æ›
&lt;&#x2F;span&gt;&lt;span&gt;P &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[(x&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span&gt;y, x&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span&gt;y) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(x, y) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;P]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# åº§æ¨™åœ§ç¸®
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;compress&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    x_set &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= sorted&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;set&lt;&#x2F;span&gt;&lt;span&gt;([x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(x, y) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;p]))
&lt;&#x2F;span&gt;&lt;span&gt;    y_set &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= sorted&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;set&lt;&#x2F;span&gt;&lt;span&gt;([y &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(x, y) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;p]))
&lt;&#x2F;span&gt;&lt;span&gt;    x_dict &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{x:i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i, x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span&gt;(x_set)}
&lt;&#x2F;span&gt;&lt;span&gt;    y_dict &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;{y:i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i, y &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;enumerate&lt;&#x2F;span&gt;&lt;span&gt;(y_set)}
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;[(x_dict[x], y_dict[y]) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(x, y) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;p]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;P &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;compress&lt;&#x2F;span&gt;&lt;span&gt;(P)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å¹³é¢èµ°æŸ»
&lt;&#x2F;span&gt;&lt;span&gt;P.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;sort&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;bit &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;FenwickTree&lt;&#x2F;span&gt;&lt;span&gt;(N)
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_&lt;&#x2F;span&gt;&lt;span&gt;, y) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;P:
&lt;&#x2F;span&gt;&lt;span&gt;    ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;bit.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;bitsum&lt;&#x2F;span&gt;&lt;span&gt;(y&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    bit.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;bitadd&lt;&#x2F;span&gt;&lt;span&gt;(y, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(ans)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>AGC005-B Minimum Sum è§£èª¬</title>
        <published>2020-08-23T00:00:00+00:00</published>
        <updated>2020-08-23T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/agc005b/"/>
        <id>https://blog.nebocco.dev/post/agc005b/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/agc005b/">&lt;p&gt;\(O(N )\) ã§è§£ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;agc005&#x2F;tasks&#x2F;agc005_b&quot;&gt;AtCoder Grand Contest 005 | B - Minimum Sum&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;æ¦‚è¦&quot;&gt;æ¦‚è¦&lt;&#x2F;h3&gt;
&lt;p&gt;$$
\sum _ {l = 1} ^ N \sum _ {r = l} ^ N \mathrm{min} \left( a _ l, a _ {l + 1} , \ldots , a _ r \right)
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã‚’æ±‚ã‚ãªã•ã„ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;editorial è§£ã¯å¹³è¡¡äºŒåˆ†æœ¨ã‚’ç”¨ã„ãŸã‚‚ã®ã§ã™ã€‚Pythonã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¯å¹³è¡¡äºŒåˆ†æœ¨ãŒãªã„ã®ã§ã€&lt;a href=&quot;https:&#x2F;&#x2F;qiita.com&#x2F;nebocco&#x2F;items&#x2F;638da118cd621d2628d1&quot;&gt;åˆ¥ã®æ–¹æ³•&lt;&#x2F;a&gt;ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ï¼ˆå®£ä¼ï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;ã»ã‹ã«ã‚‚ã„ãã¤ã‹è§£æ³•ãŒã‚ã‚‹ã®ã§ã€ãã®ä¸­ã‹ã‚‰ editorial ã‚ˆã‚Šã‚‚è¨ˆç®—é‡ã®å°ã•ã„æ–¹æ³•ã‚’äºŒã¤ç´¹ä»‹ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;Dancing_Links&quot;&gt;Dancing Links&lt;&#x2F;h3&gt;
&lt;p&gt;äºŒã¤ã®é…åˆ—&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;\(\mathit{left}\left[i\right]\) ï¼š \(\mathrm{max} \{\ j\ |\ j &amp;lt; i, a _ j &amp;lt; a _ i  \} \)&lt;&#x2F;li&gt;
&lt;li&gt;\(\mathit{right}\left[i\right]\) ï¼š \(\mathrm{min} \{\ j\ |\ j &amp;gt; i, a _ j &amp;lt; a _ i  \} \)&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ã‚’ç”¨æ„ã—ã¾ã™ã€‚ç°¡å˜ã«è¨€ã†ã¨ã€ãã‚Œãã‚Œã€Œè‡ªåˆ†ã®å·¦å³ã«ã‚ã‚‹è‡ªåˆ†ã‚ˆã‚Šå°ã•ã„ã‚‚ã®ã®ä¸­ã§ä¸€ç•ªè¿‘ã„ã‚‚ã®ã€ã®indexã‚’è¨˜éŒ²ã—ãŸã‚‚ã®ã§ã™ã€‚ã¨ã‚Šã‚ãˆãšã€ã“ã®äºŒã¤ã®é…åˆ—ã‚’å®Œæˆã•ã›ã‚‹ã“ã¨ã‚’ç›®æ¨™ã«ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;åˆã‚ã«ã€ \(\mathit{left}\left[i\right] \leftarrow i-1,\ \mathit{right}\left[i\right] \leftarrow i+1 \) ã§åˆæœŸåŒ–ã—ã¾ã™ã€‚
\(a _ i\) ã®å¤§ãã„é †ã«ã“ã®é…åˆ—ã‚’åŸ‹ã‚ã¦ã„ãã¾ã™ã€‚
\(a _ i\) ã‚’å‡¦ç†ã—ã¦ã„ã‚‹ã¨ãã€ \(\mathit{left}\left[i\right]\) ã‚ˆã‚Šå¤§ãã \(\mathit{right}\left[i\right]\) ã‚ˆã‚Šå°ã•ã„å ´æ‰€ã«ã¯ã€
\(a _ {\mathit{left}\left[i\right]}\) ã‚ˆã‚Šã‚‚å¤§ããã€\(a _ {\mathit{right}\left[i\right]}\) ã‚ˆã‚Šã‚‚å¤§ãã„è¦ç´ ã—ã‹å­˜åœ¨ã—ã¦ã„ãªã„ã¯ãšã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ï¼œã“ã“ã«å›³ã‚’å…¥ã‚Œã‚‹ï¼&lt;&#x2F;p&gt;
&lt;p&gt;ãã“ã§ã€ \(a _ {\mathit{left}\left[i\right]} ,\  a _ {\mathit{right}\left[i\right]}\) ã«å¯¾ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«æ›´æ–°ã‚’ã—ã¦ã‚ã’ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{aligned}
\mathit{left}\left[\mathit{right}\left[i\right]\right] &amp;amp;\leftarrow \mathit{right}\left[i\right] \\
\mathit{right}\left[\mathit{left}\left[i\right]\right] &amp;amp;\leftarrow \mathit{left}\left[i\right] \\
\end{aligned}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ãŠäº’ã„ã®é–“ã«ã‚ã‚‹è¦ç´ ã¯è¦‹ã‚‹å¿…è¦ãŒãªã„ã®ã§ã‚¹ã‚­ãƒƒãƒ—ã•ã›ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚ã“ã‚Œã‚’ç¹°ã‚Šè¿”ã—ã¦ã„ãã“ã¨ã§ã€å…¨ \(a _ i\) ã«å¯¾ã—ã¦æ­£ã—ã„ \(\mathit{left}\left[i\right],\mathit{right}\left[i\right]\) ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ç­”ãˆã«åŠ ç®—ã—ã¦ã„ãåŒºé–“ã®ã†ã¡ã€å·¦ç«¯ãŒ \(\mathit{left}\left[i\right] + 1,\ \mathit{left}\left[i\right] + 2 ,\ \ldots ,\ i\) ã®ã©ã‚Œã‹ã§ã€å³ç«¯ãŒ \(i,\ i + 1 ,\ \ldots ,\ \mathit{right}\left[i\right] - 1\) ã®ã©ã‚Œã‹ã§ã‚ã‚‹ã‚ˆã†ãªã‚‚ã®ã¯ã€ åŒºé–“å†…ã®æœ€å°å€¤ãŒ \(a _ i\) ã«ãªã‚Šã¾ã™ã€‚ã‚ˆã£ã¦æœ€çµ‚çš„ãªç­”ãˆã¯&lt;&#x2F;p&gt;
&lt;p&gt;$$
\sum _ {i = 1} ^ N a _ i ( i - \mathit{left}\left[i\right]) (\mathit{right}\left[i\right] - i)
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã§æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ä¸€èˆ¬çš„ã«ã¯ã‚½ãƒ¼ãƒˆã« \(O( N \log N)\) ã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ãŒã€ã“ã®å•é¡Œã§ã¯ \(\{a_ i\}\) ãŒé †åˆ—ã§ã‚ã‚‹ã“ã¨ã‹ã‚‰ã€ãƒã‚±ãƒ„ã‚½ãƒ¼ãƒˆã®è¦é ˜ã§ \(O(N)\) ã§ä¸¦ã³æ›¿ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å…¨ä½“ã®è¨ˆç®—é‡ã‚‚ \(O(N)\) ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;é›‘ã«å®Ÿè£…ã™ã‚‹ã¨ä¸¡ç«¯ã®è¦ç´ ã®æ›´æ–°ã‚’è¡Œã†éš›ã«ãŠã‹ã—ããªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã€if æ–‡ãªã©ã§é©åˆ‡ã«å‡¦ç†ã‚’ã—ã¦ãã ã•ã„ã€‚ä»¥ä¸‹ã® Python ã®ã‚³ãƒ¼ãƒ‰ã§ã¯è² ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’ä¸ãˆã‚‹ã¨æœ«å°¾ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ä»•æ§˜ã‚’åˆ©ç”¨ã—ã¦ç°¡ä¾¿ã«å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¡ãªã¿ã«ã€æ›´æ–°ã« Union-Find ã‚’åˆ©ç”¨ã—ã¦ \(O(N \alpha (N))\) ã§è§£ãã“ã¨ã‚‚ã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;()))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# indexã‚’ã‚½ãƒ¼ãƒˆ
&lt;&#x2F;span&gt;&lt;span&gt;b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;N
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    b[a[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# åˆæœŸåŒ–ç«¯ã£ã“å¯¾ç­–ã¨ã—ã¦ã²ã¨ã¤ä½™è¨ˆã«å–ã£ã¦ã„ã‚‹
&lt;&#x2F;span&gt;&lt;span&gt;left &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;right &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    left[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;    right[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;i&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# æ›´æ–°
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;idx &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;reversed&lt;&#x2F;span&gt;&lt;span&gt;(b):
&lt;&#x2F;span&gt;&lt;span&gt;    left[right[idx]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;left[idx]
&lt;&#x2F;span&gt;&lt;span&gt;    right[left[idx]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;right[idx]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;a[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;left[i]) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(right[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(ans)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h3 id=&quot;stackã®æ´»ç”¨&quot;&gt;stackã®æ´»ç”¨&lt;&#x2F;h3&gt;
&lt;p&gt;ä¸Šã¨åŒæ§˜ã« \(\mathit{left} ,\ \mathit{right}\) ã‚’æ±‚ã‚ã‚‹ã®ã§ã™ãŒã€ä»Šåº¦ã¯å…ˆé ­ã®è¦ç´ ã‹ã‚‰é †ç•ªã« \(\mathit{left}\) ã‚’æ±‚ã‚ã¦ã„ãã“ã¨ã«ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;stack \(\mathit{buf}\) ã‚’ç”¨æ„ã—ã€ã“ã‚Œã«é †ã« \(1,\ 2,\ 3,\ \ldots\) ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚
\(i\) ã‚’è¿½åŠ ã™ã‚‹éš›ã€ \(\mathit{buf}\) æœ«å°¾ã®è¦ç´  \(j\) ãŒ \(a _  j &amp;gt; a _ i\) ã§ã‚ã‚‹é™ã‚Š pop ã—ã¦ã„ãã¾ã™ã€‚
ã™ã‚‹ã¨ã€æœ€å¾Œã«æ®‹ã£ãŸæœ«å°¾ \(j\) ã¯ \(a _  j &amp;lt; a _ i\) ã‚’æº€ãŸã™æœ€å¤§ã® \(j\) ã¨ãªã£ã¦ã„ã‚‹ã¯ãšã§ã™ã€‚ï¼ˆ&lt;a href=&quot;https:&#x2F;&#x2F;www.google.com&#x2F;search?rlz=1C1CHBD_jaJP912JP912&amp;amp;sxsrf=ALeKk02VPCL_hZ3beZrnkXDBZ52oHF8K5Q%3A1598060903776&amp;amp;ei=Z3lAX-35LovW-Qaul5XwAg&amp;amp;q=%E3%83%92%E3%82%B9%E3%83%88%E3%82%B0%E3%83%A9%E3%83%A0%E3%80%80%E6%9C%80%E5%A4%A7%E9%95%B7%E6%96%B9%E5%BD%A2%E5%95%8F%E9%A1%8C&amp;amp;oq=%E3%83%92%E3%82%B9%E3%83%88%E3%82%B0%E3%83%A9%E3%83%A0%E3%80%80%E6%9C%80%E5%A4%A7%E9%95%B7%E6%96%B9%E5%BD%A2%E5%95%8F%E9%A1%8C&amp;amp;gs_lcp=CgZwc3ktYWIQAzIECCMQJ1AAWABgtsIPaABwAHgAgAFNiAFNkgEBMZgBAKoBB2d3cy13aXrAAQE&amp;amp;sclient=psy-ab&amp;amp;ved=0ahUKEwityf7j2K3rAhULa94KHa5LBS4Q4dUDCAw&amp;amp;uact=5&quot;&gt;ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ å†…æœ€å¤§é•·æ–¹å½¢å•é¡Œ&lt;&#x2F;a&gt;ã¨åŒã˜è¦é ˜ã§ã™ã€‚
ï¼‰
\(\mathit{left}\left[i\right] \leftarrow j\) ã¨è¨˜éŒ²ã—ã¦ \(\mathit{buf}\) ã« \(i\) ã‚’ push ã—ã€æ¬¡ã«é€²ã¿ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã®æ‰‹é †ã‚’ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã™ã¹ã¦ã®è¦ç´ ã«ã¤ã„ã¦ \(\mathit{left}\) ã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚åŒæ§˜ã®æ“ä½œã‚’å³ã‹ã‚‰è¡Œã†ã“ã¨ã§ \(\mathit{right}\) ã‚‚æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å„è¦ç´ ã«ã¤ãé«˜ã€…ä¸€åº¦ãšã¤ã—ã‹ push, pop ãŒè¡Œã‚ã‚Œãªã„ã®ã§ã€è¨ˆç®—é‡ã¯ \(O(N)\) ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;a &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;()))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;left &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;right &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å·¦ã‹ã‚‰
&lt;&#x2F;span&gt;&lt;span&gt;buf &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(buf) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;a[buf[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;a[i]:
&lt;&#x2F;span&gt;&lt;span&gt;        buf.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(buf) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        left[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;buf[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        left[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= -&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;    buf.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(i)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å³ã‹ã‚‰
&lt;&#x2F;span&gt;&lt;span&gt;buf &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;reversed&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N)):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(buf) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;and &lt;&#x2F;span&gt;&lt;span&gt;a[buf[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;a[i]:
&lt;&#x2F;span&gt;&lt;span&gt;        buf.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;pop&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;len&lt;&#x2F;span&gt;&lt;span&gt;(buf) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        right[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;buf[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;        right[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;N
&lt;&#x2F;span&gt;&lt;span&gt;    buf.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(i)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;a[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;left[i]) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(right[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;i)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(ans)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;agc005&#x2F;submissions&#x2F;16085209&quot;&gt;Dancing Links è§£æ³• (Python)&lt;&#x2F;a&gt;: 325 ms&lt;&#x2F;li&gt;
&lt;li&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;agc005&#x2F;submissions&#x2F;16085278&quot;&gt;stack è§£æ³• (Python)&lt;&#x2F;a&gt;: 393 ms&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC122-D We Like AGC è§£èª¬</title>
        <published>2020-08-22T00:00:00+00:00</published>
        <updated>2020-08-22T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc122/"/>
        <id>https://blog.nebocco.dev/post/abc122/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc122/">&lt;p&gt;\(O( \log N )\) ã§è§£ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc122&#x2F;tasks&#x2F;abc122_d&quot;&gt;AtCoder Beginner Contest 122 | D - We Like AGC&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;editorial ã®DPè§£æ³•ã‚’ãƒ™ãƒ¼ã‚¹ã«è€ƒãˆã¾ã™ã€‚ \(i\) æ–‡å­—ç›®ã‚’æ±ºã‚ã‚‹éš›ã®é·ç§»ã¯ \(i\) ã®å€¤ã«ã‚ˆã‚‰ãšå¸¸ã«å›ºå®šãªã®ã§ã€æ¼¸åŒ–å¼ã‚’è¡Œåˆ—ã®ç´¯ä¹—ã«è½ã¨ã—è¾¼ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚64æ¬¡å…ƒç·šå½¢ç©ºé–“ã®è¡Œåˆ—ã‚’æ‰‹æ›¸ãã§å…¥åŠ›ã™ã‚‹ã®ã¯é¢å€’ãªã®ã§ã€ã„ã„æ„Ÿã˜ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ„ã¿ã¾ã™ã€‚æ°—åˆã„ã§é ‘å¼µã£ã¦ãã ã•ã„ğŸ’ª&lt;&#x2F;p&gt;
&lt;p&gt;å§‹çŠ¶æ…‹ã¯ &lt;code&gt;&quot;TTT&quot;&lt;&#x2F;code&gt; ã«ã‚ãŸã‚‹çŠ¶æ…‹ã ã‘1ã«ã—ã¦ãŠãã¨ç‰¹ã«èª¿ç¯€ãŒä¸è¦ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€ã—ã‚Œã£ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’èµ·ã“ã™ã®ã§Pythonã®å¤šå€é•·æ•´æ•°æ¼”ç®—ã«é ¼ã£ã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å®šæ•°å€ãŒã¨ã¦ã‚‚å¤§ãã„ã®ã§ã€ã“ã®å•é¡Œã®åˆ¶ç´„ã®ç¯„å›²å†…ã§ã¯ç´ ç›´ã«DPã‚„ãƒ¡ãƒ¢åŒ–å†å¸°ã‚’æ›¸ãã»ã†ãŒæ–­ç„¶æ—©ã„ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc122&#x2F;submissions&#x2F;16072743&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰ï¼ˆPythonï¼‰&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;font-style:italic;color:#c678dd;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;numpy &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;as &lt;&#x2F;span&gt;&lt;span&gt;np
&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#c678dd;&quot;&gt;import &lt;&#x2F;span&gt;&lt;span&gt;re
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;mod &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;10&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;9 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;7
&lt;&#x2F;span&gt;&lt;span&gt;letters &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;ACGT&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# æ–‡å­—ã‚’æ·»ãˆå­—ã«
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;to_int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;s&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    res &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;s:
&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;letters.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;index&lt;&#x2F;span&gt;&lt;span&gt;(x)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# æ·»ãˆå­—ã‚’æ–‡å­—ã«
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;to_str&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;x&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;digit&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    res &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;&amp;quot;
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(digit):
&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;letters[x&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;        x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res[::&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# éƒ¨åˆ†æ–‡å­—åˆ—ã¨ã—ã¦å«ã‚“ã§ã¯ã„ã‘ãªã„ã‚‚ã®ã‚’æ­£è¦è¡¨ç¾ã§åˆ¤å®š
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;is_ok&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;s&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    ng &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;AGC&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;ACG&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;GAC&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;A&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;GC&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;r&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;AG&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;C&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;]
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;ng:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;re.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;search&lt;&#x2F;span&gt;&lt;span&gt;(x, s):
&lt;&#x2F;span&gt;&lt;span&gt;            &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;False
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;True
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# è¡Œåˆ—ã®äºŒåˆ†ç´¯ä¹—
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;mat_power&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;A&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;mod&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    res &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;np.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;eye&lt;&#x2F;span&gt;&lt;span&gt;(A.shape[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;dtype &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;object&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;while &lt;&#x2F;span&gt;&lt;span&gt;p:
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;p &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            res &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;np.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;dot&lt;&#x2F;span&gt;&lt;span&gt;(res, A) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span&gt;mod
&lt;&#x2F;span&gt;&lt;span&gt;        A &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;np.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;dot&lt;&#x2F;span&gt;&lt;span&gt;(A, A) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span&gt;mod
&lt;&#x2F;span&gt;&lt;span&gt;        p &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt;&amp;gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# è¡Œåˆ—ä½œæˆå„çŠ¶æ…‹ã‹ã‚‰ã®å„é·ç§»ãŒæœ‰åŠ¹ã‹ç¢ºã‹ã‚ã‚‹
&lt;&#x2F;span&gt;&lt;span&gt;A &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;64 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;64&lt;&#x2F;span&gt;&lt;span&gt;)]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;64&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    s &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;to_str&lt;&#x2F;span&gt;&lt;span&gt;(i, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;3&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;j &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;4&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;        t &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;s &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;to_str&lt;&#x2F;span&gt;&lt;span&gt;(j, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;is_ok&lt;&#x2F;span&gt;&lt;span&gt;(t):
&lt;&#x2F;span&gt;&lt;span&gt;            A[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;to_int&lt;&#x2F;span&gt;&lt;span&gt;(t[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:])] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;A &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;np.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(A, &lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;dtype &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#98c379;&quot;&gt;&amp;quot;object&amp;quot;&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ãƒ™ã‚¯ãƒˆãƒ«ä½œæˆTTTã®ã¿ç«‹ã¦ã¦ãŠã
&lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;]&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;*&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;64
&lt;&#x2F;span&gt;&lt;span&gt;x[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;63&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;np.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;array&lt;&#x2F;span&gt;&lt;span&gt;(x)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;((np.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;dot&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;mat_power&lt;&#x2F;span&gt;&lt;span&gt;(A, N, mod), x) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span&gt;mod).&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;sum&lt;&#x2F;span&gt;&lt;span&gt;() &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;% &lt;&#x2F;span&gt;&lt;span&gt;mod)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC156-C Rally è§£èª¬</title>
        <published>2020-08-21T00:00:00+00:00</published>
        <updated>2020-08-21T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc156c/"/>
        <id>https://blog.nebocco.dev/post/abc156c/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc156c/">&lt;p&gt;\(O(N)\) ã§è§£ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc156&#x2F;tasks&#x2F;abc156_c&quot;&gt;AtCoder Beginner Contest 156 | C - Rally&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;æ¦‚è¦&quot;&gt;æ¦‚è¦&lt;&#x2F;h3&gt;
&lt;p&gt;$$
\underset{P}{\min} \sum _ {i=1} ^ {N} (X _ i - P) ^ 2
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã‚’æ±‚ã‚ãªã•ã„ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;åˆ¶ç´„ãŒ \( N \leq 100,\ X _ i \leq 100\) ã¨å°ã•ã„ã®ã§ã€ \(X\) ã®å–ã‚Šã†ã‚‹ç¯„å›²ã™ã¹ã¦ã‚’èª¿ã¹ã¦ã‚‚\(O(NA) , (A = \max ( X ) - \min ( X ))\) ã§è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚ã—ã‹ã—ã€å°‘ã—æ•°å­¦çš„ãªè€ƒå¯Ÿã‚’æŒŸã‚€ã¨ã€æœ€å°å€¤ã‚’å–ã‚‹ \(P\) ã®å€™è£œã‚’é«˜ã€…2ã¤ã«çµã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
f(P) = \sum _ {i=1} ^ {N} (X _ i - P) ^ 2
= \sum _ {i=1} ^ {N} (X ^ 2 _ i  - 2 X _ i  P + P ^ 2)
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã¨ãŠãã¨ã€&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{aligned}
f &#x27; (P) &amp;amp;= \sum _ {i=1} ^ {N} (X ^ 2 _ i - 2 X _ i  P + P ^ 2) &#x27; \\
&amp;amp;= \sum _ {i=1} ^ {N} ( 0 - 2 X _ i + 2 P ) \\
&amp;amp;= 2 ( NP -  \sum _ {i=1} ^ {N} X _ i )
\end{aligned}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã¨ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã‚ˆã£ã¦ã€ \( S = \sum X _ i\) ã¨ã™ã‚‹ã¨ \(f(P)\) ã®å¢—æ¸›è¡¨ï¼ˆæ‡ã‹ã—ã„éŸ¿ãï¼ï¼‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{array}{|c| ccc|}\hline
x     &amp;amp; \cdots &amp;amp;   \frac{S}{N}  &amp;amp;  \cdots  \\ \hline
f&#x27;(P)&amp;amp;      -     &amp;amp;         0          &amp;amp;      +       \\ \hline
f(P) &amp;amp;    \searrow   &amp;amp;  f(\frac{S}{N}) &amp;amp;   \nearrow      \\ \hline
\end{array}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã¤ã¾ã‚Šã€ \(f(P)\) ã¯ \(X\) ã®å¹³å‡å€¤ \(\overline{X} = \frac{S}{N} \) ã§æœ€å°å€¤ã‚’ã¨ã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ãŸã ã—ã€ã“ã®å•é¡Œã® \(P\) ã¯æ•´æ•°ã®å€¤ã—ã‹å–ã‚Šãˆãªã„ã®ã§ã€ \( f ( \lfloor \overline{X} \rfloor ) , f ( \lceil \overline{X} \rceil ) \) ã®ã†ã¡å°ã•ã„ã»ã†ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc156&#x2F;submissions&#x2F;16070519&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰ï¼ˆPythonï¼‰&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;X &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;()))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;cost&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;p&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    res &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;X:
&lt;&#x2F;span&gt;&lt;span&gt;        res &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;(x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span&gt;p)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;res
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;m &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= sum&lt;&#x2F;span&gt;&lt;span&gt;(X) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F;&#x2F; &lt;&#x2F;span&gt;&lt;span&gt;N
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;min&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;cost&lt;&#x2F;span&gt;&lt;span&gt;(m), &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;cost&lt;&#x2F;span&gt;&lt;span&gt;(m&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)))
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ä½™è«‡ã§ã™ãŒã€ \(P\) ã« \(\overline{X}\) ãŒå…¥ã‚‹ã“ã¨ã‚’å¿µé ­ã«ãŠã„ã¦å†’é ­ã®å¼ã‚’è¦‹ã‚‹ã¨ã€ã“ã®å•é¡Œã¯ \(X\) ã®ãƒ‡ãƒ¼ã‚¿ã«å¯¾ã—ã¦æœ€å°äºŒä¹—æ³•ã‚’ç”¨ã„ã¦æœ€ç¢ºå€¤ã‚’æ±‚ã‚ã‚‹ã“ã¨ã«ç›¸å½“ã—ã¦ã„ã‚‹ã€ã¨æ°—ã¥ã‘ã¾ã™ã€‚çµ±è¨ˆå­¦ã®ç´ é¤Šã®ã‚ã‚‹äººãªã‚‰å•é¡Œã‚’è¦‹ãŸç¬é–“ã«ã€Œã‚ã€æ®‹å·®äºŒä¹—å’Œã®æœ€å°å€¤ã ã‹ã‚‰ \(P = \overline{X}\) ã ã€ã¨å¯ŸçŸ¥ã§ããŸã‚Šã™ã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚&lt;&#x2F;p&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC175-D Moving Piece è§£èª¬</title>
        <published>2020-08-16T00:00:00+00:00</published>
        <updated>2020-08-16T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc175d/"/>
        <id>https://blog.nebocco.dev/post/abc175d/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc175d/">&lt;p&gt;\(O(N \log K )\) ã§è§£ãã¾ã™ã€‚ã¾ãŸã€æœ¬å•é¡Œã®ã€Œä¸ãˆã‚‰ã‚ŒãŸã‚°ãƒ©ãƒ•ãŒå·¡å›ç½®æ›ã«åˆ†è§£ã§ãã‚‹ã€ã¨ã„ã†ç‰¹æ€§ã‚’ã»ã¨ã‚“ã©ç”¨ã„ã¦ã„ãªã„ã®ã§ã€ \(P\) ãŒé †åˆ—ã§ãªã„å ´åˆã§ã‚‚å°‘ã—æ›¸ãæ›ãˆã‚‹ã ã‘ã§è§£ãã“ã¨ãŒã§ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc175&#x2F;tasks&#x2F;abc175_d&quot;&gt;AtCoder Beginner Contest 175 | D - Moving Piece&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;ãƒ€ãƒ–ãƒªãƒ³ã‚°ã§å‰å‡¦ç†ã‚’ã—ãŸã‚ã¨ã„ã‚ã‚†ã‚‹æ¡DPã‚’ã—ã¾ã™ã€‚ãƒ€ãƒ–ãƒªãƒ³ã‚°ã€æ¡DPã«ã¤ã„ã¦ã‚ã¾ã‚ŠçŸ¥ã‚‰ãªã„ã¨ã„ã†æ–¹ã¯ã¾ãšã¯ã“ã¡ã‚‰ã®è¨˜äº‹ã‚’ã”è¦§ãã ã•ã„ã€‚ï¼ˆTODO:ã ã‚Œã‹ã®è¨˜äº‹ã‚’è²¼ã‚‰ã›ã¦ã‚‚ã‚‰ã†ï¼‰&lt;&#x2F;p&gt;
&lt;p&gt;ä»¥ä¸‹ã«è§£æ³•ã«è‡³ã‚‹ã¾ã§ã®ãªã‚“ã¨ãªãã®æ€è€ƒéç¨‹ã‚’è¨˜ã—ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã¾ãšã€å„é ‚ç‚¹ã‹ã‚‰è¡Œå…ˆã¯ä¸€ã¤ã—ã‹ãªã„ã®ã§ã€å§‹ç‚¹ã¨è¡Œå‹•å›æ•°ã‚’æ±ºã‚ã¦ã—ã¾ãˆã°ãã®å¾Œã®è¡Œå‹•ã¨ç²å¾—ã§ãã‚‹ç‚¹æ•°ã¯ä¸€æ„ã«å®šã¾ã‚Šã¾ã™ã€‚ã‚ˆã£ã¦ã€åŸç†çš„ã«ã¯&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;ç¾åœ¨ã©ã®ãƒã‚¹ã«ã„ã‚‹ã‹&lt;&#x2F;li&gt;
&lt;li&gt;ä½•ç‚¹å–ã£ã¦ã„ã‚‹ã‹&lt;&#x2F;li&gt;
&lt;li&gt;ã‚ã¨ä½•å›ã¾ã§ç§»å‹•ã§ãã‚‹ã‹&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;p&gt;ã¨ã„ã†çŠ¶æ…‹ã‚’ä¿æŒã™ã‚Œã°DPã«ã‚ˆã£ã¦ç­”ãˆã‚’æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã¯ãšã§ã™ã€‚ã—ã‹ã—ã€ç‚¹æ•°ã¯DPãƒ†ãƒ¼ãƒ–ãƒ«ã®å€¤ã¨ã—ã¦ç›´æ¥æŒã¤ã“ã¨ã«ã—ã¦ã‚‚ã€ç§»å‹•å›æ•°ã‚’æ·»ãˆå­—ã¨ã—ã¦ä¿æŒã™ã‚‹ã¨çŠ¶æ…‹æ•°ãŒçˆ†ç™ºã—ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ãã“ã§ã€ä»£ã‚ã‚Šã«ç§»å‹•å›æ•°ã®ä¸Šä½ãƒ“ãƒƒãƒˆã‹ã‚‰èµ°æŸ»ã—ã¦ã‚†ã‘ã°ã€Œ \(K\) ã‚ˆã‚Šå°ã•ã„ï¼åŒã˜ï¼å¤§ãã„ã€ã¨ã„ã†ä¸‰çŠ¶æ…‹ã«çµã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã®éƒ¨åˆ†ã«æ¡DPã®æ‰‹æŠ€ã‚’ç”¨ã„ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚é·ç§»ã‚’æ›¸ãéš›ã«ã¯ã€å„é ‚ç‚¹ã‹ã‚‰ \(2 ^ b\) å›ç§»å‹•ã—ãŸéš›ã®è¡Œå…ˆã€å¾—ç‚¹ã¨ã„ã†æƒ…å ±ãŒå¿…è¦ã«ãªã‚‹ã®ã§ã€ã“ã‚Œã‚‰ã¯ã‚ã‚‰ã‹ã˜ã‚ãƒ€ãƒ–ãƒªãƒ³ã‚°ã«ã‚ˆã£ã¦æ±‚ã‚ã¦ãŠã‘ã°OKã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;ãƒ€ãƒ–ãƒªãƒ³ã‚°&quot;&gt;ãƒ€ãƒ–ãƒªãƒ³ã‚°&lt;&#x2F;h3&gt;
&lt;p&gt;ç‰¹ã«å‡ã£ãŸã“ã¨ã¯ã—ã¾ã›ã‚“ã€‚&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;\(\mathrm{vertex}[b][i] :=\)é ‚ç‚¹ \(i\) ã‹ã‚‰ \(2 ^ b\) å›ç§»å‹•ã—ãŸã¨ãã«ã©ã®é ‚ç‚¹ã«ã„ã‚‹ã‹&lt;&#x2F;li&gt;
&lt;li&gt;\(\mathrm{score}[b][i] :=\)é ‚ç‚¹ \(i\) ã‹ã‚‰ \(2 ^ b\) å›ç§»å‹•ã—ãŸã¨ãã«ä½•ç‚¹ã‚‚ã‚‰ãˆã‚‹ã‹&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ã¨ã„ã†äºŒã¤ã®è¡¨ã‚’ç”¨æ„ã—ã¾ã™ã€‚ \(\mathrm{score}[0][i] = C _  {P _ i}\) ã¨ãªã‚‹ã®ãŒã‚„ã‚„æ°—æŒã¡æ‚ªã„ã®ã§ã€å…¬å¼ editorial åŒæ§˜ã«ä¸€ã¤ãšã‚‰ã—ã¦è€ƒãˆã€ \(\mathrm{score}[0][i] = C _  i\) ã¨ãªã‚‹ã‚ˆã†ã« \(C\) ã‚’æ›¸ãæ›ãˆã¦ã‹ã‚‰ãƒ€ãƒ–ãƒªãƒ³ã‚°ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;vertex &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;score &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;vertex.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(P)
&lt;&#x2F;span&gt;&lt;span&gt;score.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(C)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;m &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;31 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# bitæ•°
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, m&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    p_bth &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;N
&lt;&#x2F;span&gt;&lt;span&gt;    c_bth &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;N
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(n):
&lt;&#x2F;span&gt;&lt;span&gt;        p_bth[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;vertex[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][vertex[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i]]
&lt;&#x2F;span&gt;&lt;span&gt;        c_bth[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;score[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][vertex[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i]]
&lt;&#x2F;span&gt;&lt;span&gt;    vertex.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(p_bth)
&lt;&#x2F;span&gt;&lt;span&gt;    score.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(c_bth)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;è¨ˆç®—é‡ã¯ \(O(Nm) = O(N \log K)\) ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;æ¡DP&quot;&gt;æ¡DP&lt;&#x2F;h3&gt;
&lt;p&gt;\(\mathrm{dp}[b][i][j] :=\) ä¸‹ã‹ã‚‰ \(b\) bitç›®ã¾ã§è¦‹ã¦ã€é ‚ç‚¹ \(i\) ã«çŠ¶æ…‹ \(j\) ã§å­˜åœ¨ã™ã‚‹ã¨ãã®ã‚¹ã‚³ã‚¢ã®æœ€å¤§å€¤&lt;&#x2F;p&gt;
&lt;p&gt;ã¨ã„ã†ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ã€ \(b\) ã®é™é †ã«åŸ‹ã‚ã¦ã„ãã¾ã™ã€‚ã“ã“ã§çŠ¶æ…‹ \(j\) ã¯ã€&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;\(j = 0 :\) ç§»å‹•å›æ•°ãŒ \(K\) ã‚ˆã‚Šå°ã•ããªã‚‹ã“ã¨ãŒç¢ºå®šã—ã¦ã„ã‚‹&lt;&#x2F;li&gt;
&lt;li&gt;\(j = 1 :\) ç¢ºå®šã—ã¦ã„ãªã„ï¼ˆ\(b + 1\) bitç›®ã¾ã§ \(K\) ã«ç­‰ã—ã„ï¼‰&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ã‚’è¡¨ã™ã¨ã—ã¾ã™ã€‚ \(K\) ã® \(b\) bitç›®ã‚’ \(K _ b\) ã¨ã™ã‚‹ã¨ã€ \(K _ b\) ã¨ \(j\) ã®å€¤ã«ã‚ˆã£ã¦ä»¥ä¸‹ã®3é€šã‚Šã®é·ç§»ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;\(j_=_0\)&quot;&gt;\(j = 0\)&lt;&#x2F;h4&gt;
&lt;p&gt;æ—¢ã«ç§»å‹•å›æ•°ãŒ \(K\) ã‚ˆã‚Šå°ã•ããªã‚‹ã“ã¨ãŒç¢ºå®šã—ã¦ã„ã‚‹ã®ã§ã€ç§»å‹•ã™ã‚‹ã‹ã—ãªã„ã‹è‡ªç”±ã«æ±ºã‚ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚é·ç§»å…ˆã®çŠ¶æ…‹ã‚‚å¿…ãš \(j = 0\) ã§ã™ã€‚å…·ä½“çš„ã«ã¯&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{aligned}
\mathrm{dp}[b-1][\mathrm{vertex}[b][i]][0] &amp;amp;\leftarrow \mathrm{dp}[b][i][0] + \mathrm{score}[b][i] \\
\mathrm{dp}[b-1][i][0] &amp;amp;\leftarrow \mathrm{dp}[b][i][0]
\end{aligned}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã¨ãªã‚Šã¾ã™ã€‚ã€Œ \(\leftarrow\) ã€ã¯ã“ã“ã§ã¯ä»£å…¥ã§ã¯ãªã \(\mathrm{chmax}\) ã ã¨æ€ã£ã¦ãã ã•ã„ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;\(K___b_=_1,\,_j_=_1\)&quot;&gt;\(K _ b = 1,\, j = 1\)&lt;&#x2F;h4&gt;
&lt;p&gt;ã“ã“ã§ç§»å‹•ã—ãŸå ´åˆã€ \(b\) bitç›®ã¾ã§ \(K\) ã«ç­‰ã—ããªã‚‹ãŸã‚ã€é·ç§»å…ˆã®çŠ¶æ…‹ã¯ \(j = 1\) ã§ã™ã€‚ç§»å‹•ã—ãªã‹ã£ãŸå ´åˆã¯ã“ã®æ™‚ç‚¹ã§ \(K\) ã‚ˆã‚Šå°ã•ããªã‚‹ã“ã¨ãŒç¢ºå®šã™ã‚‹ã®ã§ã€é·ç§»å…ˆã¯ \(j = 0\) ã«ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{aligned}
\mathrm{dp}[b-1][\mathrm{vertex}[b][i]][1] &amp;amp;\leftarrow \mathrm{dp}[b][i][1] + \mathrm{score}[b][i] \\
\mathrm{dp}[b-1][i][0] &amp;amp;\leftarrow \mathrm{dp}[b][i][1]
\end{aligned}
$$&lt;&#x2F;p&gt;
&lt;h4 id=&quot;\(K___b_=_0,\,_j_=_1\)&quot;&gt;\(K _ b = 0,\, j = 1\)&lt;&#x2F;h4&gt;
&lt;p&gt;ã“ã“ã§ç§»å‹•ã™ã‚‹ã¨å›æ•°ãŒ \(K\) ã‚’è¶…ãˆã¦ã—ã¾ã†ãŸã‚ã€ç§»å‹•ã›ãšãã®å ´ã«ã¨ã©ã¾ã‚‹ã—ã‹ã‚ã‚Šã¾ã›ã‚“ã€‚ã“ã®å ´åˆã‚‚ \(b\) bitç›®ã¾ã§ \(K\) ã«ç­‰ã—ããªã‚‹ãŸã‚ã€é·ç§»å…ˆã®çŠ¶æ…‹ã¯ \(j = 1\) ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$$
\mathrm{dp}[b-1][i][1] \leftarrow \mathrm{dp}[b][i][1]
$$&lt;&#x2F;p&gt;
&lt;p&gt;ä»¥ä¸Šã®é·ç§»ã‚’ã‚³ãƒ¼ãƒ‰ã«è½ã¨ã—è¾¼ã‚€ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ã“ã“ã§ã¯ã€ \(j\) ã®å€¤ã«ã‚ˆã‚‹å ´åˆåˆ†ã‘ã¯è¡Œã‚ãšã€ç›´æ¥å…¨ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ›¸ãä¸‹ã—ã¦ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;m &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;31 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# bitæ•°
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(m, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(K &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;b) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], dp[b][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b][i])
&lt;&#x2F;span&gt;&lt;span&gt;            dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], dp[b][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b][i])
&lt;&#x2F;span&gt;&lt;span&gt;            dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], dp[b][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], dp[b][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], dp[b][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b][i])
&lt;&#x2F;span&gt;&lt;span&gt;            dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], dp[b][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;            dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(dp[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], dp[b][i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;ãŸã ã—ã€ä»¥ä¸Šã®ã‚³ãƒ¼ãƒ‰ã‚’ãã®ã¾ã¾èµ°ã‚‰ã›ã‚‹ã¨çµ‚ç«¯ã§ \(\mathrm{dp}[-1]\) ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å¯¾ç­–ã¨ã—ã¦ã¯ã€æ·»ãˆå­— \(b\) ã‚’ä¸€ã¤åˆ†ãšã‚‰ã—ã¦è€ƒãˆã‚‹ã®ã‚‚ã‚ˆã„ã§ã™ãŒã€æ›´æ–°ã«ä¸€è¡Œå‰ã®ãƒ‡ãƒ¼ã‚¿ã—ã‹å¿…è¦ãŒãªã„ã“ã¨ã‚’åˆ©ç”¨ã—ã¦ã€äºŒæœ¬ã®é…åˆ— \(\mathrm{prv},\, \mathrm{nxt}\) ã‚’ç”¨æ„ã—ã¦é †ç¹°ã‚Šã«æ›´æ–°ã—ã¦ã„ãã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã—ãŸã€‚ã“ã‚Œã§ç©ºé–“è¨ˆç®—é‡ãŒå‰Šæ¸›ã•ã‚Œã‚‹ã ã‘ã§ã¯ãªãã€é€Ÿåº¦ã‚‚å‘ä¸Šã™ã‚‹ã“ã¨ãŒè¦‹è¾¼ã¾ã‚Œã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;m &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;31 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# bitæ•°
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(m, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(K &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;b) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b][i])
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b][i])
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b][i])
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;    prv, nxt &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;nxt, prv
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;é€šå¸¸ã“ã®ã‚ˆã†ã«DPæ›´æ–°ã‚’è¡Œã†éš›ã¯æ¯å› \(\mathrm{nxt}\) ã‚’ã‹ã‚‰ã£ã½ï¼ˆåˆæœŸçŠ¶æ…‹ï¼‰ã«æˆ»ã™ã€ãªã©ã®æ“ä½œãŒå¿…è¦ã«ãªã‚Šã¾ã™ãŒã€ä»Šå› \(\mathrm{nxt}[b][i][j]\) ã«æ®‹ã£ã¦ã„ã‚‹å€¤ã¯ã€Œã²ã¨ã¤å‰ã® bit ã‚’è€ƒãˆã¦ã„ã‚‹ã¨ãã«ç§»å‹•ã—ãªã‹ã£ãŸå ´åˆã€ã®å€¤ã§ã™ï¼ˆå³å¯†ã«ã¯ã‚„ã‚„ç•°ãªã‚Šã¾ã™ãŒï¼‰ã€‚æ›´æ–°æ“ä½œãŒ \(\mathrm{chmax}\) ã®ã¿ãªã®ã§ã€æ¯å›ã®åˆæœŸåŒ–ã¯å¿…è¦ãªã„ã¨åˆ¤æ–­ã—çœãã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;è¨ˆç®—é‡ã¯ \(O(Nm) = O(N \log K )\) ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;å‡ºåŠ›&quot;&gt;å‡ºåŠ›&lt;&#x2F;h3&gt;
&lt;p&gt;æœ€çµ‚çš„ãªç­”ãˆã¯ \(\mathrm{prv}\) ã®ä¸­ã®æœ€å¤§å€¤ã§ã™ãŒã€ã“ã‚ŒãŒ \(0\) ã ã£ãŸå ´åˆã€å•é¡Œã® &lt;strong&gt;ã€Œ1å›ä»¥ä¸Šç§»å‹•ã™ã‚‹ã€&lt;&#x2F;strong&gt; ã¨ã„ã†åˆ¶ç´„ã«é•åã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒè€ƒãˆã‚‰ã‚Œã¾ã™ã€‚å…¨ãƒã‚¹ã®å¾—ç‚¹ãŒè² ã§ã‚ã‚Œã°ã€ä¸€åº¦ã‚‚ç§»å‹•ã‚’ã—ãªã„ã“ã¨ãŒä¸€ç•ªå¾—ã¨ãªã‚‹ã‹ã‚‰ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã“ã“ã§ã€ \(P\) ãŒé †åˆ—ã§ã‚ã‚‹ã“ã¨ã‹ã‚‰ã€ã‚‚ã—å¾—ç‚¹ãŒæ­£ã®ãƒã‚¹ãŒä¸€ã¤ã§ã‚‚ã‚ã‚Œã°ã€ãã®ãƒã‚¹ã®ä¸€ã¤æ‰‹å‰ã‹ã‚‰å§‹ã‚ã¦1å›ç§»å‹•ã—ã‚²ãƒ¼ãƒ ã‚’ã‚„ã‚ã‚‹ã“ã¨ã§ã€å°‘ãªãã¨ã‚‚æ­£ã®å¾—ç‚¹ã‚’å–ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚ˆã£ã¦ã€DPã®ç­”ãˆãŒ 0 ã¨ãªã‚‹ã®ã¯ã™ã¹ã¦ã®ãƒã‚¹ã®å¾—ç‚¹ãŒ 0 ä»¥ä¸‹ã§ã‚ã‚‹å ´åˆã«é™ã‚‰ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚ã“ã®æ™‚ã€æœ€ã‚‚ã‚¹ã‚³ã‚¢ã®å¤§ããªãƒã‚¹ã«1å›ç§»å‹•ã—ã¦ã‚²ãƒ¼ãƒ ã‚’çµ‚äº†ã™ã‚‹ã®ãŒä¸€ç•ªãƒã‚·ã§ã™ã€‚ã¤ã¾ã‚Šã€ç­”ãˆã¯ \(\min(C)\) ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;ä»¥ä¸Šã‚’ã¾ã¨ã‚ã‚‹ã¨ã“ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc175&#x2F;submissions&#x2F;15989429&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰ï¼ˆPythonï¼‰&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span&gt;N, K &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;P &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;()))
&lt;&#x2F;span&gt;&lt;span&gt;_c &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;map&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;int&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;().&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;split&lt;&#x2F;span&gt;&lt;span&gt;()))
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# Cã‚’æ›¸ãæ›ãˆã‚‹
&lt;&#x2F;span&gt;&lt;span&gt;C &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;N
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;    P[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1
&lt;&#x2F;span&gt;&lt;span&gt;    C[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;_c[P[i]]
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;m &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;31 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# bitæ•°
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# ãƒ€ãƒ–ãƒªãƒ³ã‚°
&lt;&#x2F;span&gt;&lt;span&gt;vertex &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;score &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= list&lt;&#x2F;span&gt;&lt;span&gt;()
&lt;&#x2F;span&gt;&lt;span&gt;vertex.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(P)
&lt;&#x2F;span&gt;&lt;span&gt;score.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(C)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, m&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    p_bth &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;N
&lt;&#x2F;span&gt;&lt;span&gt;    c_bth &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;N
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;        p_bth[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;vertex[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][vertex[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i]]
&lt;&#x2F;span&gt;&lt;span&gt;        c_bth[i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;score[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][vertex[b&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;][i]]
&lt;&#x2F;span&gt;&lt;span&gt;    vertex.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(p_bth)
&lt;&#x2F;span&gt;&lt;span&gt;    score.&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;append&lt;&#x2F;span&gt;&lt;span&gt;(c_bth)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# æ¡DP
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;MIN &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= -&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1 &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;lt;&amp;lt; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;63&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;prv &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;MIN&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N)]
&lt;&#x2F;span&gt;&lt;span&gt;nxt &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;[[&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;MIN&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;MIN&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e5c07b;&quot;&gt;_ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N)]
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;b &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(m, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;-&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(N):
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;(K &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;gt;&amp;gt; &lt;&#x2F;span&gt;&lt;span&gt;b) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&amp;amp; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b][i])
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b][i])
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;        &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;else&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[vertex[b][i]][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span&gt;score[b][i])
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;            nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;] &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(nxt[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;], prv[i][&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;])
&lt;&#x2F;span&gt;&lt;span&gt;    prv, nxt &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span&gt;nxt, prv
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;max&lt;&#x2F;span&gt;&lt;span&gt;(x) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;x &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span&gt;prv)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;if &lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;== &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0&lt;&#x2F;span&gt;&lt;span&gt;:
&lt;&#x2F;span&gt;&lt;span&gt;    ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= max&lt;&#x2F;span&gt;&lt;span&gt;(C)
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(ans)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
</content>
        
    </entry>
    <entry xml:lang="ja">
        <title>ABC172-D Sum of Divisors è§£èª¬</title>
        <published>2020-06-28T00:00:00+00:00</published>
        <updated>2020-06-28T00:00:00+00:00</updated>
        
        <author>
          <name>
            
              nebocco
            
          </name>
        </author>
        
        <link rel="alternate" type="text/html" href="https://blog.nebocco.dev/post/abc172d/"/>
        <id>https://blog.nebocco.dev/post/abc172d/</id>
        
        <content type="html" xml:base="https://blog.nebocco.dev/post/abc172d/">&lt;p&gt;$O(\sqrt N)$ ã§è§£ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å•é¡Œ&quot;&gt;å•é¡Œ&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc172&#x2F;tasks&#x2F;abc172_d&quot;&gt;AtCoder Beginner Contest 172 | D - Sum of Divisors&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;h3 id=&quot;æ¦‚è¦&quot;&gt;æ¦‚è¦&lt;&#x2F;h3&gt;
&lt;p&gt;$$
\sum _ {i=1} ^ {N} i \cdot \mathit{d}(i)
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã‚’æ±‚ã‚ãªã•ã„ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;è§£æ³•&quot;&gt;è§£æ³•&lt;&#x2F;h2&gt;
&lt;p&gt;å…¬å¼editorialã® $O(N)$ è§£æ³•ã‚’é«˜é€ŸåŒ–ã™ã‚‹ã“ã¨ã‚’è€ƒãˆãŸã„ã§ã™ã€‚çµå±€ã€ $S[k] := \sum _ {i=1} ^ {k} i$ ã¨ã—ã¦&lt;&#x2F;p&gt;
&lt;p&gt;$$
\sum _ {i=1} ^ {N} i \cdot S \lbrack \frac{N}{i} \rbrack
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã‚’æ±‚ã‚ã‚Œã°ã‚ˆã„ã§ã™ãŒã€ $i$ ãŒå¾ŒåŠã«ãªã‚‹ã«ã¤ã‚Œã€ $\frac{N}{i}$ ã®å€¤ã¯åŒã˜ã‚‚ã®ãŒé€£ç¶šã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ãã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ãã“ã§ã€ $S[\frac{N}{i}]$ ã®å€¤ãŒç­‰ã—ããªã‚‹ã‚ˆã†ãª $i$ ã«ã¤ã„ã¦ã¾ã¨ã‚ã¦è¨ˆç®—ã™ã‚‹ã“ã¨ã‚’è€ƒãˆã¾ã™ã€‚ãã®æº–å‚™ã¨ã—ã¦ã€ $M := \sqrt N$ ã¨ãŠãã€&lt;&#x2F;p&gt;
&lt;ul&gt;
&lt;li&gt;å‰åŠ ( $i &amp;lt; M$ )&lt;&#x2F;li&gt;
&lt;li&gt;å¾ŒåŠ ( $i \geq M$ )&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
&lt;p&gt;ã®ç¯„å›²ã«åˆ†ã‘ã¦è€ƒãˆã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;å‰åŠ_(_$i_&amp;lt;_M$_)&quot;&gt;å‰åŠ ( $i &amp;lt; M$ )&lt;&#x2F;h4&gt;
&lt;p&gt;å…¬å¼è§£èª¬é€šã‚Šä¸€ã¤ãšã¤è¶³ã—åˆã‚ã›ã¾ã™ã€‚è¨ˆç®—é‡ã¯ $O(M)$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h4 id=&quot;å¾ŒåŠ_(_$i_\geq_M$_)&quot;&gt;å¾ŒåŠ ( $i \geq M$ )&lt;&#x2F;h4&gt;
&lt;p&gt;$M$ã®å®šç¾©ã‹ã‚‰ã€ã“ã®ç¯„å›²ã§ã¯ $\frac{N}{i} \leq M$ ãŒæˆã‚Šç«‹ã¡ã¾ã™ã€‚ãã“ã§ã€ $\frac{N}{i}$ ã®å´ã‚’å…¨æ¢ç´¢ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;$\frac{N}{i} = k$ ã¨ãªã‚‹ã‚ˆã†ãªiã®ç¯„å›²ã‚’è¨ˆç®—ã™ã‚‹ã¨ $\frac{N}{k+1} + 1 \leq i \leq \frac{N}{k}$ ã§ã‚ã‚‹ã®ã§ã€&lt;&#x2F;p&gt;
&lt;p&gt;$$
\sum _ {i = \frac{N}{k+1} + 1} ^ {\frac{N}{k}} i \cdot S[k]
$$&lt;&#x2F;p&gt;
&lt;p&gt;ãŒé«˜é€Ÿã§æ±‚ã‚ã‚‰ã‚Œã‚‹ã¨å¬‰ã—ã„ã§ã™ã€‚å¤‰å½¢ã™ã‚‹ã¨ã€&lt;&#x2F;p&gt;
&lt;p&gt;$$
\begin{aligned}
\sum _ {i = \frac{N}{k+1} + 1} ^ {\frac{N}{k}} i \cdot S[k]
&amp;amp;= S[k] \cdot\sum _ {i = \frac{N}{k+1} + 1} ^ {\frac{N}{k}} i \\
&amp;amp;= S[k] \cdot (S[\frac{N}{k}] - S[\frac{N}{k+1}])
\end{aligned}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã§ã‚ã‚Šã€ã“ã‚Œã¯ $O(1)$ ã§æ±‚ã‚ã‚‰ã‚Œã¾ã™ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ã‚ã¨ã¯ã€ã“ã‚Œã‚’ $k = 1, 2, ..., M$ ã«ã¤ã„ã¦è¶³ã—ä¸Šã’ã‚Œã°ã‚ˆã„ã§ã™ã€‚è¨ˆç®—é‡ã¯ $O(M)$ ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h3 id=&quot;$S$_ã®å‰è¨ˆç®—ã«ã¤ã„ã¦&quot;&gt;$S$ ã®å‰è¨ˆç®—ã«ã¤ã„ã¦&lt;&#x2F;h3&gt;
&lt;p&gt;ç´¯ç©å’Œã®è¦é ˜ã§ $S$ ã‚’å‰è¨ˆç®—ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ $O(N)$ ã‹ã‹ã£ã¦ã—ã¾ã„æœ¬æœ«è»¢å€’ã§ã™ã€‚ã“ã‚Œã¯ç°¡å˜ãªç­‰å·®æ•°åˆ—ã®å’Œãªã®ã§ã€é…åˆ—ã§æŒã¤ã®ã‚’ã‚„ã‚ã¦æ¯å›&lt;&#x2F;p&gt;
&lt;p&gt;$$
S(k) = \frac{k(k+1)}{2}
$$&lt;&#x2F;p&gt;
&lt;p&gt;ã¨è¨ˆç®—ã—ã¦ã—ã¾ãˆã°å‰è¨ˆç®—ãŒå¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚&lt;&#x2F;p&gt;
&lt;p&gt;ä»¥ä¸Šã‚ˆã‚Šã€å…¨ä½“ã®ç­”ãˆã‚’ $O(M) = O(\sqrt N)$ ã§æ±‚ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚&lt;&#x2F;p&gt;
&lt;p&gt;å®Ÿè£…ã¯å‰åŠå¾ŒåŠã®å¢ƒç•Œï¼ˆ$M$ï¼‰ä»˜è¿‘ãŒã”ã¡ã‚ƒã”ã¡ã‚ƒã«ãªã‚ŠãŒã¡ãªã®ã§ã€å‰åŠéƒ¨åˆ†ã‚’æ±‚ã‚ã‚‹æ™‚ã¯ $M$ ã¾ã§æ±‚ã‚ã¦ã—ã¾ã†ã®ã§ã¯ãªãã€å¾ŒåŠéƒ¨åˆ†ãŒã©ã“ã¾ã§ã‚«ãƒãƒ¼ã§ãã‚‹ã®ã‹ã‚’è¨ˆç®—ã—ã¦ã€ãã‚Œã«åˆã‚ã›ã¦è¨ˆç®—ç¯„å›²ã‚’æ±ºã‚ã‚‹ã¨æ¥½ã§ã™ã€‚ã¾ãŸã€ $M$ ã®è¨ˆç®—æ–¹æ³•ã«ã‚ˆã£ã¦ã¯ $N$ ãŒæ¥µç«¯ã«å¤§ãã„ãƒ»å°ã•ã„ã‚±ãƒ¼ã‚¹ã‚„ $N$ ãŒå¹³æ–¹æ•°ã®ã‚±ãƒ¼ã‚¹ãªã©ã§ãŠã‹ã—ããªã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã®ã§ã€æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚&lt;&#x2F;p&gt;
&lt;h2 id=&quot;å®Ÿè£…&quot;&gt;å®Ÿè£…&lt;&#x2F;h2&gt;
&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;atcoder.jp&#x2F;contests&#x2F;abc172&#x2F;submissions&#x2F;14798227&quot;&gt;æå‡ºã‚³ãƒ¼ãƒ‰ï¼ˆPythonï¼‰&lt;&#x2F;a&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;python&quot; style=&quot;background-color:#282c34;color:#abb2bf;&quot; class=&quot;language-python &quot;&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;def &lt;&#x2F;span&gt;&lt;span style=&quot;color:#61afef;&quot;&gt;S&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;font-style:italic;color:#e06c75;&quot;&gt;k&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;return &lt;&#x2F;span&gt;&lt;span&gt;k &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(k &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F;&#x2F; &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;2
&lt;&#x2F;span&gt;&lt;span&gt;
&lt;&#x2F;span&gt;&lt;span&gt;N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= int&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;input&lt;&#x2F;span&gt;&lt;span&gt;())
&lt;&#x2F;span&gt;&lt;span&gt;M &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= int&lt;&#x2F;span&gt;&lt;span&gt;((N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;**&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;.5&lt;&#x2F;span&gt;&lt;span&gt;)
&lt;&#x2F;span&gt;&lt;span&gt;ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;0
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å‰åŠ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F;&#x2F; &lt;&#x2F;span&gt;&lt;span&gt;(M&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+ &lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span&gt;i &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;S&lt;&#x2F;span&gt;&lt;span&gt;(N &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F;&#x2F; &lt;&#x2F;span&gt;&lt;span&gt;i)
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#7f848e;&quot;&gt;# å¾ŒåŠ
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;for &lt;&#x2F;span&gt;&lt;span&gt;k &lt;&#x2F;span&gt;&lt;span style=&quot;color:#c678dd;&quot;&gt;in &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;range&lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;, M&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;):
&lt;&#x2F;span&gt;&lt;span&gt;    ans &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+= &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;S&lt;&#x2F;span&gt;&lt;span&gt;(k) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;* &lt;&#x2F;span&gt;&lt;span&gt;(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;S&lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F;&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;k) &lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;- &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e06c75;&quot;&gt;S&lt;&#x2F;span&gt;&lt;span&gt;(N&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;&#x2F;&#x2F;&lt;&#x2F;span&gt;&lt;span&gt;(k&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;+&lt;&#x2F;span&gt;&lt;span style=&quot;color:#d19a66;&quot;&gt;1&lt;&#x2F;span&gt;&lt;span&gt;)))
&lt;&#x2F;span&gt;&lt;span style=&quot;color:#56b6c2;&quot;&gt;print&lt;&#x2F;span&gt;&lt;span&gt;(ans)
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;æ™‚é–“ã‚‚ä½™è£•ã§ã™ã­ã€‚ $O(N \log N)$ ã£ã¦ãªã‚“ã§ã™ã‹ï¼Ÿ&lt;&#x2F;p&gt;
</content>
        
    </entry>
</feed>
